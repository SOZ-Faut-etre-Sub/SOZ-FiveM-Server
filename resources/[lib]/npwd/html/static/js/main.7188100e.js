/*! For license information please see main.7188100e.js.LICENSE.txt */
!function(){var e={5298:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{Express:function(){return En},Mongo:function(){return Cn._},Mysql:function(){return An.m},Postgres:function(){return Mn.E}});var i=n(2791),o=n(4164);function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}var u=n(2007),c=n.n(u);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e){return"/"===e.charAt(0)}function f(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var p=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&d(e),a=t&&d(t),s=o||a;if(e&&d(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var p=i[l];"."===p?f(i,l):".."===p?(f(i,l),c++):c&&(f(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&d(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},h="Invariant failed";var m=function(e,t){if(!e)throw new Error(h)};function v(e){return"/"===e.charAt(0)?e:"/"+e}function g(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function b(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function x(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=l({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=p(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var T="popstate",M="hashchange";function A(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),E||m(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?S:s,c=i.keyLength,d=void 0===c?6:c,f=e.basename?b(v(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=y(o,f)),_(o,r,n)}function h(){return Math.random().toString(36).substr(2,d)}var g=w();function C(e){l(U,e),U.length=t.length,g.notifyListeners(U.location,U.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(p(e.state))}function L(){N(p(A()))}var k=!1;function N(e){if(k)k=!1,C();else{g.confirmTransitionTo(e,"POP",u,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,j(i))}(e)}))}}var R=p(A()),P=[R.key];function I(e){return f+x(e)}function j(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(T,O),r&&window.addEventListener(M,L)):0===D&&(window.removeEventListener(T,O),r&&window.removeEventListener(M,L))}var z=!1;var U={length:t.length,action:"POP",location:R,createHref:I,push:function(e,r){var i="PUSH",o=_(e,r,h(),U.location);g.confirmTransitionTo(o,i,u,(function(e){if(e){var r=I(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=P.indexOf(U.location.key),l=P.slice(0,c+1);l.push(o.key),P=l,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=_(e,r,h(),U.location);g.confirmTransitionTo(o,i,u,(function(e){if(e){var r=I(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=P.indexOf(U.location.key);-1!==c&&(P[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=g.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var O="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+g(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:g,decodePath:v},slash:{encodePath:v,decodePath:v}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(k(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),E||m(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?b(v(e.basename)):"",u=L[a],c=u.encodePath,d=u.decodePath;function f(){var e=d(N());return s&&(e=y(e,s)),_(e)}var p=w();function h(e){l(U,e),U.length=t.length,p.notifyListeners(U.location,U.action)}var g=!1,T=null;function M(){var e,t,n=N(),r=c(n);if(n!==r)R(r);else{var o=f(),a=U.location;if(!g&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(T===x(o))return;T=null,function(e){if(g)g=!1,h();else{var t="POP";p.confirmTransitionTo(e,t,i,(function(n){n?h({action:t,location:e}):function(e){var t=U.location,n=I.lastIndexOf(x(t));-1===n&&(n=0);var r=I.lastIndexOf(x(e));-1===r&&(r=0);var i=n-r;i&&(g=!0,j(i))}(e)}))}}(o)}}var A=N(),C=c(A);A!==C&&R(C);var P=f(),I=[x(P)];function j(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(O,M):0===D&&window.removeEventListener(O,M)}var z=!1;var U={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+c(s+x(e))},push:function(e,t){var n="PUSH",r=_(e,void 0,void 0,U.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=x(r),i=c(s+t);if(N()!==i){T=t,function(e){window.location.hash=e}(i);var o=I.lastIndexOf(x(U.location)),a=I.slice(0,o+1);a.push(t),I=a,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=_(e,void 0,void 0,U.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=x(r),i=c(s+t);N()!==i&&(T=t,R(i));var o=I.indexOf(x(U.location));-1!==o&&(I[o]=t),h({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=p.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function I(e,t,n){return Math.min(Math.max(e,t),n)}function j(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,c=w();function d(e){l(g,e),g.length=g.entries.length,c.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,u)}var p=I(a,0,i.length-1),h=i.map((function(e){return _(e,void 0,"string"===typeof e?f():e.key||f())})),m=x;function v(e){var t=I(g.index+e,0,g.entries.length-1),r=g.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var g={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:m,push:function(e,t){var r="PUSH",i=_(e,t,f(),g.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=_(e,t,f(),g.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,d({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return g}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,D(e,t)}var z=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function B(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=i.createContext||function(e,t){var n,r,o="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=B(t.props.value),t}F(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):z,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=c().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}F(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?z:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?z:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return s.contextTypes=((r={})[o]=c().object,r),{Provider:a,Consumer:s}},G=V;function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}var W=n(6151),q=n.n(W);n(8228);n(2110);var Z=function(e){var t=G();return t.displayName=e,t},Y=Z("Router-History"),$=Z("Router"),X=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}s(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.createElement($.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;i.Component;var J={},K=0;function Q(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=J[n]||(J[n]={});if(r[e])return r[e];var i=[],o={regexp:q()(e,i,t),keys:i};return K<1e4&&(r[e]=o,K++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var ee=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this;return i.createElement($.Consumer,null,(function(t){t||m(!1);var n=e.props.location||t.location,r=H({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Q(n.pathname,e.props):t.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&function(e){return 0===i.Children.count(e)}(a)&&(a=null),i.createElement($.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:s?i.createElement(s,r):u?u(r):null:"function"===typeof a?a(r):null)}))},t}(i.Component);function te(e){return"/"===e.charAt(0)?e:"/"+e}function ne(e,t){if(!e)return t;var n=te(e);return 0!==t.pathname.indexOf(n)?t:H({},t,{pathname:t.pathname.substr(n.length)})}function re(e){return"string"===typeof e?e:x(e)}function ie(e){return function(){m(!1)}}function oe(){}i.Component;var ae=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this;return i.createElement($.Consumer,null,(function(t){t||m(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?Q(o.pathname,H({},e.props,{path:a})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);var se=i.useContext;function ue(){return se(Y)}function ce(){return se($).location}function le(){var e=se($).match;return e?e.params:{}}function de(e){var t=ce(),n=se($).match;return e?Q(t.pathname,e):n}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fe(e,t)}function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}i.Component;var ve=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=P(t.props),t}return pe(t,e),t.prototype.render=function(){return i.createElement(X,{history:this.history,children:this.props.children})},t}(i.Component);var ge=function(e,t){return"function"===typeof e?e(t):e},ye=function(e,t){return"string"===typeof e?_(e,null,null,t):e},be=function(e){return e},xe=i.forwardRef;"undefined"===typeof xe&&(xe=be);var _e=xe((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,a=me(e,["innerRef","navigate","onClick"]),s=a.target,u=he({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=be!==xe&&t||n,i.createElement("a",u)}));var we=xe((function(e,t){var n=e.component,r=void 0===n?_e:n,o=e.replace,a=e.to,s=e.innerRef,u=me(e,["component","replace","to","innerRef"]);return i.createElement($.Consumer,null,(function(e){e||m(!1);var n=e.history,c=ye(ge(a,e.location),e.location),l=c?n.createHref(c):"",d=he({},u,{href:l,navigate:function(){var t=ge(a,e.location),r=x(e.location)===x(ye(t));(o||r?n.replace:n.push)(t)}});return be!==xe?d.ref=t||s:d.innerRef=s,i.createElement(r,d)}))})),Ee=function(e){return e},Se=i.forwardRef;"undefined"===typeof Se&&(Se=Ee);Se((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,d=e.location,f=e.sensitive,p=e.strict,h=e.style,v=e.to,g=e.innerRef,y=me(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement($.Consumer,null,(function(e){e||m(!1);var n=d||e.location,o=ye(ge(v,n),n),b=o.pathname,x=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=x?Q(n.pathname,{path:x,exact:c,sensitive:f,strict:p}):null,w=!!(l?l(_,n):_),E="function"===typeof u?u(w):u,S="function"===typeof h?h(w):h;w&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,a),S=he({},S,s));var T=he({"aria-current":w&&r||null,className:E,style:S,to:o},y);return Ee!==Se?T.ref=t||g:T.innerRef=g,i.createElement(we,T)}))}));var Te=n(7648),Me=n(6017);var Ae,Ce=n(9388),Oe=n(1917),Le=n(6870),ke=n(7050),Ne=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Re=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,Oe.c)((function(t){var n=(0,Te.Gd)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(Me.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,Le.jH)(e)),!0):this._isIgnoredError(e,t)?(Me.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,Le.jH)(e)),!0):this._isDeniedUrl(e,t)?(Me.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,Le.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(Me.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,Le.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return(0,ke.zC)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return(0,ke.zC)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return(0,ke.zC)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:(0,Ce.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,Ce.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,Ce.fl)(this._options.ignoreErrors||[],e.ignoreErrors||[],Ne),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return Me.k.error("Cannot extract message for event "+(0,Le.jH)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return Me.k.error("Cannot extract url for event "+(0,Le.jH)(e)),null}},e.id="InboundFilters",e}(),Pe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Ae=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return Ae.apply(n,e)}},e.id="FunctionToString",e}(),Ie=n(5385),je=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var De=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,je(r,n.prototype),r}return(0,Ce.ZT)(t,e),t}(Error),Fe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ze="Invalid Dsn",Ue=function(){function e(e){"string"===typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=Fe.exec(e);if(!t)throw new De(ze);var n=(0,Ce.CR)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],u=n[4],c=void 0===u?"":u,l="",d=n[5],f=d.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),d=f.pop()),d){var p=d.match(/^\d+/);p&&(d=p[0])}this._fromComponents({host:s,pass:a,path:l,projectId:d,port:c,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new De("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new De("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new De("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new De("Invalid Dsn: Invalid port "+this.port)},e}(),Be=n(8805),Ve=n(9153),Ge=n(9846),He=n(5708),We=[];function qe(e){var t={};return function(e){var t=e.defaultIntegrations&&(0,Ce.fl)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),o=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))})),n.forEach((function(e){-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))}))}else"function"===typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=(0,Ce.fl)(t);var a=r.map((function(e){return e.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,(0,Ce.fl)(r.splice(a.indexOf(s),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===We.indexOf(e.name)&&(e.setupOnce(Oe.c,Te.Gd),We.push(e.name),Me.k.log("Integration installed: "+e.name))}(e)})),t}var Ze,Ye=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new Ue(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,Be.pt)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):Me.k.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=qe(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return Me.k.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i,o=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var u=(0,Ce.XA)(s),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var d=t.user;if(!e.userAgent){var f=t.request?t.request.headers:{};for(var p in f)if("user-agent"===p.toLowerCase()){i=f[p];break}}e.update((0,Ce.pi)((0,Ce.pi)({},o&&{status:Ie.$.Crashed}),{user:d,userAgent:i,errors:e.errors+Number(a||o)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new Ve.c((function(n){var r=0,i=setInterval((function(){0==t._processing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=(0,Ce.pi)((0,Ce.pi)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,Le.DM)()),timestamp:e.timestamp||(0,Ge.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;n&&n.captureContext&&(s=Oe.s.clone(s).update(n.captureContext));var u=Ve.c.resolve(a);return s&&(u=s.applyToEvent(a,n)),u.then((function(e){return"number"===typeof o&&o>0?r._normalizeEvent(e,o):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=(0,Ce.pi)((0,Ce.pi)((0,Ce.pi)((0,Ce.pi)((0,Ce.pi)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,Ce.pi)((0,Ce.pi)({},e),e.data&&{data:(0,He.Fv)(e.data,t)})}))}),e.user&&{user:(0,He.Fv)(e.user,t)}),e.contexts&&{contexts:(0,He.Fv)(e.contexts,t)}),e.extra&&{extra:(0,He.Fv)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,ke.$G)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,ke.$G)(s.value,a));var u=e.request;u&&u.url&&(u.url=(0,ke.$G)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){Me.k.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return Ve.c.reject(new De("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"===typeof a&&Math.random()>a?Ve.c.reject(new De("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new De("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!o)return e;var n=o(e,t);if("undefined"===typeof n)throw new De("`beforeSend` method has to return `null` or a valid event.");return(0,Be.J8)(n)?n.then((function(e){return e}),(function(e){throw new De("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new De("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof De)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new De("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(Ze||(Ze={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(Ze||(Ze={}));var $e,Xe=function(){function e(){}return e.prototype.sendEvent=function(e){return Ve.c.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Ze.Skipped})},e.prototype.close=function(e){return Ve.c.resolve(!0)},e}(),Je=function(){function e(e){this._options=e,this._options.dsn||Me.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new De("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new De("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){Me.k.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){Me.k.error("Error while sending session: "+e)})):Me.k.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Xe},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}($e||($e={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}($e||($e={}));var Ke=n(4678),Qe="?",et=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,it=/\((\S*)(?::(\d+))(?::(\d+))\)/,ot=/Minified React error #\d+;/i;function at(e){var t=null,n=0;e&&("number"===typeof e.framesToPop?n=e.framesToPop:ot.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(t=r.exec(o[s]))?u={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(u={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),u&&(!u.func&&u.line&&(u.func=Qe),a.push(u))}if(!a.length)return null;return{message:ut(e),name:e.name,stack:a}}(e),t)return st(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=et.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=it.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Qe,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=nt.exec(o[a]))r={url:n[2],func:n[1]||Qe,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=tt.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=rt.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||Qe,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=Qe),i.push(r)}if(!i.length)return null;return{message:ut(e),name:e.name,stack:i}}(e),t)return st(t,n)}catch(r){}return{message:ut(e),name:e&&e.name,stack:[],failed:!0}}function st(e,t){try{return(0,Ce.pi)((0,Ce.pi)({},e),{stack:e.stack.slice(t)})}catch(n){return e}}function ut(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function ct(e){var t=dt(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function lt(e){return{exception:{values:[ct(e)]}}}function dt(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function ft(e,t,n){var r;if(void 0===n&&(n={}),(0,Be.VW)(e)&&e.error)return r=lt(at(e=e.error));if((0,Be.TX)(e)||(0,Be.fm)(e)){var i=e,o=i.name||((0,Be.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=pt(a,t,n),(0,Le.Db)(r,a),"code"in i&&(r.tags=(0,Ce.pi)((0,Ce.pi)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,Be.VZ)(e)?r=lt(at(e)):(0,Be.PO)(e)||(0,Be.cO)(e)?(r=function(e,t,n){var r={exception:{values:[{type:(0,Be.cO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,He.zf)(e)}]},extra:{__serialized__:(0,He.Qy)(e)}};if(t){var i=dt(at(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),(0,Le.EG)(r,{synthetic:!0}),r):(r=pt(e,t,n),(0,Le.Db)(r,""+e,void 0),(0,Le.EG)(r,{synthetic:!0}),r)}function pt(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=dt(at(t).stack);r.stacktrace={frames:i}}return r}function ht(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function mt(e,t){var n=e.tags||{},r=n.__sentry_samplingMethod,i=n.__sentry_sampleRate,o=(0,Ce._T)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=o;var a="transaction"===e.type,s={body:JSON.stringify(e),type:e.type||"event",url:a?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(a){var u=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:r,rate:i}]})+"\n"+s.body;s.body=u}return s}var vt=function(){function e(e){this.dsn=e,this._dsnObject=new Ue(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return(0,He._j)(e)},e}(),gt=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):Ve.c.reject(new De("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new Ve.c((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);Ve.c.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),yt=function(){function e(e){this.options=e,this._buffer=new gt(30),this._rateLimits={},this._api=new vt(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new De("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=Ze.fromHttpCode(n.status);this._handleRateLimit(r)&&Me.k.warn("Too many requests, backing off until: "+this._disabledUntil(t)),a!==Ze.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,o=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var u=(0,Ce.XA)(a.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),d=parseInt(l[0],10),f=1e3*(isNaN(d)?60:d);try{for(var p=(r=void 0,(0,Ce.XA)(l[1].split(";"))),h=p.next();!h.done;h=p.next()){var m=h.value;this._rateLimits[m||"all"]=new Date(o+f)}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,Le.JY)(o,s)),!0)},e}(),bt=(0,Le.Rf)(),xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ce.ZT)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(mt(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(ht(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,Ke.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Ve.c((function(t,i){bt.fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)})))},t}(yt),_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ce.ZT)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(mt(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(ht(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new Ve.c((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)})))},t}(yt),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ce.ZT)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=ft(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,Le.EG)(r,{handled:!0,type:"generic"}),r.level=$e.Error,n&&n.event_id&&(r.event_id=n.event_id),Ve.c.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=$e.Info),function(e,t,n,r){void 0===n&&(n=$e.Info);var i=pt(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Ve.c.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=(0,Ce.pi)((0,Ce.pi)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):(0,Ke.Ak)()?new xt(t):new _t(t)},t}(Je);function Et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,Te.Gd)();if(r&&r[e])return r[e].apply(r,(0,Ce.fl)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function St(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return Et("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function Tt(e){Et("withScope",e)}var Mt=0;function At(){return Mt>0}function Ct(){Mt+=1,setTimeout((function(){Mt-=1}))}function Ot(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return Ot(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(o){throw Ct(),Tt((function(e){e.addEventProcessor((function(e){var n=(0,Ce.pi)({},e);return t.mechanism&&((0,Le.Db)(n,void 0,void 0),(0,Le.EG)(n,t.mechanism)),n.extra=(0,Ce.pi)((0,Ce.pi)({},n.extra),{arguments:r}),n})),St(o)})),o}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(a){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(a){}return r}function Lt(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new vt(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else Me.k.error("Missing dsn option in showReportDialog call");else Me.k.error("Missing eventId option in showReportDialog call")}var kt=n(2034),Nt=n(4044),Rt=function(){function e(t){this.name=e.id,this._options=(0,Ce.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,Te.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,Le.jH)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&(0,kt.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,(0,Ce.fl)(t))},type:"console"}),this._options.dom&&(0,kt.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,(0,Ce.fl)(t))},type:"dom"}),this._options.xhr&&(0,kt.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,(0,Ce.fl)(t))},type:"xhr"}),this._options.fetch&&(0,kt.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,(0,Ce.fl)(t))},type:"fetch"}),this._options.history&&(0,kt.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,(0,Ce.fl)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:$e.fromString(e.level),message:(0,ke.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,ke.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,Te.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?(0,Nt.R)(e.event.target):(0,Nt.R)(e.event)}catch(n){t="<unknown>"}0!==t.length&&(0,Te.Gd)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,Te.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,Te.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:$e.Error,type:"http"},{data:e.error,input:e.args}):(0,Te.Gd)().addBreadcrumb({category:"fetch",data:(0,Ce.pi)((0,Ce.pi)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=(0,Le.Rf)(),n=e.from,r=e.to,i=(0,Le.en)(t.location.href),o=(0,Le.en)(n),a=(0,Le.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,Te.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),Pt="5.30.0",It=function(e){function t(t){return void 0===t&&(t={}),e.call(this,wt,t)||this}return(0,Ce.ZT)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,Le.Rf)().document&&(this._isEnabled()?Lt((0,Ce.pi)((0,Ce.pi)({},e),{dsn:e.dsn||this.getDsn()})):Me.k.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=(0,Ce.pi)((0,Ce.pi)({},t.sdk),{name:"sentry.javascript.browser",packages:(0,Ce.fl)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:Pt}]),version:Pt}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Rt);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(Ye),jt=n(8578),Dt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ft=function(){function e(t){this.name=e.id,this._options=(0,Ce.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,Le.Rf)();(this._options.setTimeout&&(0,He.hl)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,He.hl)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,He.hl)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,He.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Dt).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=Ot(r,{mechanism:{data:{function:(0,jt.$)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,Ot(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,jt.$)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=(0,Le.Rf)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,He.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=Ot(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,jt.$)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.call(this,n,Ot(r,{mechanism:{data:{function:"addEventListener",handler:(0,jt.$)(r),target:e},handled:!0,type:"instrument"}}),i)}})),(0,He.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(s){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"===typeof r[e]&&(0,He.hl)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,jt.$)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=(0,jt.$)(t.__sentry_original__)),Ot(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),zt=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,Ce.pi)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Me.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Me.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,kt.o)({callback:function(n){var r=n.error,i=(0,Te.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!At()&&!a){var s=i.getClient(),u=(0,Be.pt)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(ft(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,Le.EG)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,kt.o)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(c){}var i=(0,Te.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||At()||a)return!0;var s=i.getClient(),u=(0,Be.pt)(r)?t._eventFromRejectionWithPrimitive(r):ft(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=$e.Error,(0,Le.EG)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=(0,Be.VW)(e)?e.message:e;if((0,Be.HD)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,Be.HD)(t)&&t.length>0?t:(0,Le.l4)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),Ut=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,Oe.c)((function(t,n){var r=(0,Te.Gd)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!(0,Be.V9)(t.originalException,Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=(0,Ce.fl)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(0,Be.V9)(e[t],Error)||n.length+1>=this._limit)return n;var r=ct(at(e[t]));return this._walkErrorTree(e[t],t,(0,Ce.fl)([r],n))},e.id="LinkedErrors",e}(),Bt=(0,Le.Rf)(),Vt=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,Oe.c)((function(t){var n,r,i;if((0,Te.Gd)().getIntegration(e)){if(!Bt.navigator&&!Bt.location&&!Bt.document)return t;var o=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=Bt.location)||void 0===r?void 0:r.href),a=(Bt.document||{}).referrer,s=(Bt.navigator||{}).userAgent,u=(0,Ce.pi)((0,Ce.pi)((0,Ce.pi)({},null===(i=t.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=(0,Ce.pi)((0,Ce.pi)({},o&&{url:o}),{headers:u});return(0,Ce.pi)((0,Ce.pi)({},t),{request:c})}return t}))},e.id="UserAgent",e}(),Gt=[new Re,new Pe,new Ft,new Rt,new zt,new Ut,new Vt];var Ht,Wt=(0,Le.Rf)();function qt(e,t,n,r){function i(e){if(n===[]||!r)return e;for(var t=Zt(n,e,r),i=0;i<t.length;i++)if(t[i].match.isExact)return t[i].match.path;return e}return void 0===n&&(n=[]),function(n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0),r&&Wt&&Wt.location&&(Ht=n({name:i(Wt.location.pathname),op:"pageload",tags:{"routing.instrumentation":t}})),o&&e.listen&&e.listen((function(e,r){if(r&&("PUSH"===r||"POP"===r)){Ht&&Ht.finish();var o={"routing.instrumentation":t};Ht=n({name:i(e.pathname),op:"navigation",tags:o})}}))}}function Zt(e,t,n,r){return void 0===r&&(r=[]),e.some((function(e){var i=e.path?n(t,e):r.length?r[r.length-1].match:function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}}(t);return i&&(r.push({route:e,match:i}),e.routes&&Zt(e.routes,t,n,r)),!!i})),r}var Yt=n(8571),$t=n(5522),Xt=n(3835),Jt=n(5129),Kt=(0,Le.Rf)();var Qt,en,tn=function(e,t,n,r){var i;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||void 0===i)&&(e(t),i=t.value))}},nn=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},rn=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(r){}},on=!1,an=!1,sn=function(e){on=!e.persisted},un=function(e,t){void 0===t&&(t=!1),an||(addEventListener("pagehide",sn),addEventListener("beforeunload",(function(){})),an=!0),addEventListener("visibilitychange",(function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:on})}),{capture:!0,once:t})},cn=function(){return void 0===Qt&&(Qt="hidden"===document.visibilityState?0:1/0,un((function(e){var t=e.timeStamp;return Qt=t}),!0)),{get timeStamp(){return Qt}}},ln=function(e,t){void 0===t&&(t=!1);var n,r=nn("LCP"),i=cn(),o=function(e){var t=e.startTime;t<i.timeStamp?(r.value=t,r.entries.push(e)):r.isFinal=!0,n()},a=rn("largest-contentful-paint",o);if(a){n=tn(e,r,a,t);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,n())};(en||(en=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})}))}))),en).then(s),un(s,!0)}},dn=(0,Le.Rf)(),fn=function(e){var t,n=nn("TTFB");t=function(){try{var t=dn.performance.getEntriesByType("navigation")[0]||function(){var e=dn.performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(r){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},pn=(0,Le.Rf)(),hn=function(){function e(){this._measurements={},this._performanceCursor=0,pn&&pn.performance&&(pn.performance.mark&&pn.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(pn&&pn.performance&&pn.performance.getEntries&&Ge.Z1){Me.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=(0,Jt.XL)(Ge.Z1);if(pn.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){n=document.scripts[a].src;break}if(pn.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var s=(0,Jt.XL)(a.startTime),u=(0,Jt.XL)(a.duration);if(!("navigation"===e.op&&o+s<e.startTimestamp))switch(a.entryType){case"navigation":!function(e,t,n){mn(e,t,"unloadEvent",n),mn(e,t,"redirect",n),mn(e,t,"domContentLoadedEvent",n),mn(e,t,"loadEvent",n),mn(e,t,"connect",n),mn(e,t,"secureConnection",n,"connectEnd"),mn(e,t,"fetch",n,"domainLookupStart"),mn(e,t,"domainLookup",n),function(e,t,n){vn(e,{op:"browser",description:"request",startTimestamp:n+(0,Jt.XL)(t.requestStart),endTimestamp:n+(0,Jt.XL)(t.responseEnd)}),vn(e,{op:"browser",description:"response",startTimestamp:n+(0,Jt.XL)(t.responseStart),endTimestamp:n+(0,Jt.XL)(t.responseEnd)})}(e,t,n)}(e,a,o);break;case"mark":case"paint":case"measure":var c=function(e,t,n,r,i){var o=i+n,a=o+r;return vn(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}(e,a,s,u,o);void 0===i&&"sentry-tracing-init"===a.name&&(i=c);var l=cn(),d=a.startTime<l.timeStamp;"first-paint"===a.name&&d&&(Me.k.log("[Measurements] Adding FP"),t._measurements.fp={value:a.startTime},t._measurements["mark.fp"]={value:c}),"first-contentful-paint"===a.name&&d&&(Me.k.log("[Measurements] Adding FCP"),t._measurements.fcp={value:a.startTime},t._measurements["mark.fcp"]={value:c});break;case"resource":var f=a.name.replace(window.location.origin,""),p=function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r,u=s+i;return vn(e,{description:n,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),u}(e,a,f,s,u,o);void 0===r&&(n||"").indexOf(f)>-1&&(r=p)}})),void 0!==r&&void 0!==i&&vn(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var s=(0,Jt.XL)(Ge.Z1);["fcp","fp","lcp","ttfb"].forEach((function(n){if(t._measurements[n]&&!(s>=e.startTimestamp)){var r=t._measurements[n].value,i=s+(0,Jt.XL)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;Me.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),t._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&vn(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,Jt.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var e=this;!function(e,t){void 0===t&&(t=!1);var n,r=nn("CLS",0),i=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},o=rn("layout-shift",i);o&&(n=tn(e,r,o,t),un((function(e){var t=e.isUnloading;o.takeRecords().map(i),t&&(r.isFinal=!0),n()})))}((function(t){t.entries.pop()&&(Me.k.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value})}))},e.prototype._trackNavigator=function(e){var t=pn.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),gn(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),gn(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),gn(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),gn(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;ln((function(t){var n=t.entries.pop();if(n){var r=(0,Jt.XL)(performance.timeOrigin),i=(0,Jt.XL)(n.startTime);Me.k.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i}}}))},e.prototype._trackFID=function(){var e=this;!function(e){var t=nn("FID"),n=cn(),r=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,o())},i=rn("first-input",r),o=tn(e,t,i);i?un((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,r){r.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+e}],o())}))}((function(t){var n=t.entries.pop();if(n){var r=(0,Jt.XL)(performance.timeOrigin),i=(0,Jt.XL)(n.startTime);Me.k.log("[Measurements] Adding FID"),e._measurements.fid={value:t.value},e._measurements["mark.fid"]={value:r+i}}}))},e.prototype._trackTTFB=function(){var e=this;fn((function(t){var n,r=t.entries.pop();if(r){Me.k.log("[Measurements] Adding TTFB"),e._measurements.ttfb={value:t.value};var i=t.value-(n=t.entries[0],null!==n&&void 0!==n?n:r).requestStart;e._measurements["ttfb.requestTime"]={value:i}}}))},e}();function mn(e,t,n,r,i){var o=i?t[i]:t[n+"End"],a=t[n+"Start"];a&&o&&vn(e,{op:"browser",description:n,startTimestamp:r+(0,Jt.XL)(a),endTimestamp:r+(0,Jt.XL)(o)})}function vn(e,t){var n=t.startTimestamp,r=(0,Ce._T)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,Ce.pi)({startTimestamp:n},r))}function gn(e){return"number"===typeof e&&isFinite(e)}var yn={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function bn(e){var t=(0,Ce.pi)((0,Ce.pi)({},yn),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},s=function(e){if(a[e])return a[e];var t=i;return a[e]=t.some((function(t){return(0,ke.zC)(e,t)}))&&!(0,ke.zC)(e,"sentry_key"),a[e]},u=s;"function"===typeof o&&(u=function(e){return s(e)&&o(e)});var c={};n&&(0,kt.o)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,Te.Gd)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,Jt.zu)(i)||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp&&e.fetchData.__span){if(s=n[e.fetchData.__span]){var o=e.response;o&&s.setHttpStatus(o.status),s.finish(),delete n[e.fetchData.__span]}return}var a=(0,Jt.x1)();if(a){var s=a.startChild({data:(0,Ce.pi)((0,Ce.pi)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=s.spanId,n[s.spanId]=s;var u=e.args[0]=e.args[0],c=e.args[1]=e.args[1]||{},l=c.headers;(0,Be.V9)(u,Request)&&(l=u.headers),l?"function"===typeof l.append?l.append("sentry-trace",s.toTraceparent()):l=Array.isArray(l)?(0,Ce.fl)(l,[["sentry-trace",s.toTraceparent()]]):(0,Ce.pi)((0,Ce.pi)({},l),{"sentry-trace":s.toTraceparent()}):l={"sentry-trace":s.toTraceparent()},c.headers=l}}(e,u,c)},type:"fetch"}),r&&(0,kt.o)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,Te.Gd)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,Jt.zu)(i)||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url))||e.xhr.__sentry_own_request__)return;var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){return void((s=n[e.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[e.xhr.__sentry_xhr_span_id__]))}var a=(0,Jt.x1)();if(a){var s=a.startChild({data:(0,Ce.pi)((0,Ce.pi)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(u){}}}(e,u,c)},type:"xhr"})}var xn=(0,Le.Rf)();var _n=(0,Ce.pi)({idleTimeout:$t.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),xn&&xn.location){var r,i=xn.location.href;t&&(r=e({name:xn.location.pathname,op:"pageload"})),n&&(0,kt.o)({callback:function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(Me.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:xn.location.pathname,op:"navigation"}))},type:"history"})}else Me.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},yn),wn=function(){function e(t){this.name=e.id,this._metrics=new hn,this._emitOptionsWarning=!1;var n=yn.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,Ce.pi)((0,Ce.pi)((0,Ce.pi)({},_n),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(Me.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Me.k.warn("[Tracing] We added a reasonable default for you: "+yn.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,c=r.traceXHR,l=r.tracingOrigins,d=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),a,o),s&&(Kt&&Kt.document?Kt.document.addEventListener("visibilitychange",(function(){var e=(0,Jt.x1)();Kt.document.hidden&&e&&(Me.k.log("[Tracing] Transaction: "+Xt.p.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Xt.p.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())})):Me.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),bn({traceFetch:u,traceXHR:c,tracingOrigins:l,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e=function(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(e)return(0,Jt.qG)(e);return}():void 0,s=(0,Ce.pi)((0,Ce.pi)((0,Ce.pi)({},e),a),{trimEnd:!0}),u="function"===typeof r?r(s):s,c=void 0===u?(0,Ce.pi)((0,Ce.pi)({},s),{sampled:!1}):u;!1===c.sampled&&Me.k.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate.");var l=this._getCurrentHub(),d=(0,Yt.lb)(l,c,i,!0);return Me.k.log("[Tracing] Starting "+c.op+" transaction on scope"),d.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus(Xt.p.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}((0,Jt.WB)(o),e,n)})),d}Me.k.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();var En=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]);t.forEach((function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,(0,Ce.fl)([this],Tn(e,t)))},e}(e,t)}))}(this._router,this._methods):Me.k.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function Sn(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:e.name,op:"middleware."+t});r.once("finish",(function(){o.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){var o,a=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=a)||void 0===e||e.finish(),i.call.apply(i,(0,Ce.fl)([this],t))}))};case 4:return function(n,r,i,o){var a,s=null===(a=i.__sentry_transaction)||void 0===a?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,i,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),o.call.apply(o,(0,Ce.fl)([this],t))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function Tn(e,t){return e.map((function(e){return"function"===typeof e?Sn(e,t):Array.isArray(e)?e.map((function(e){return"function"===typeof e?Sn(e,t):e})):e}))}var Mn=n(3215),An=n(4888),Cn=n(5333),On=(0,Ce.pi)((0,Ce.pi)({},r),{BrowserTracing:wn});(0,Yt.ro)();var Ln=JSON.parse('{"defaultLanguage":"fr","wallpapers":[{"label":"SoZ 1","value":"back1.jpg"},{"label":"SoZ 2","value":"back2.jpg"},{"label":"SoZ 3","value":"back3.jpg"},{"label":"SoZ 4","value":"back4.jpg"},{"label":"SoZ 5","value":"back5.jpg"},{"label":"SoZ 6","value":"back6.jpg"},{"label":"SoZ 7","value":"back7.jpg"},{"label":"SoZ 8","value":"back8.jpg"}],"frames":[{"label":"Default","value":"default.png"}],"zoomOptions":[{"label":"200%","value":200},{"label":"180%","value":180},{"label":"160%","value":160},{"label":"140%","value":140},{"label":"120%","value":120},{"label":"100%","value":100},{"label":"90%","value":90},{"label":"80%","value":80},{"label":"70%","value":70}],"languages":[{"label":"Fran\xe7ais","value":"fr"}],"ringtones":[{"label":"Marimba","value":"marimba"},{"label":"Pixel","value":"pixel"}],"notiSounds":[{"label":"Online","value":"online"},{"label":"99kr","value":"99kr"}],"defaultSettings":{"language":{"label":"English","value":"fr"},"wallpaper":{"label":"Soz1","value":"back1.jpg"},"customWallpaper":"","frame":{"label":"Default","value":"default.png"},"theme":{"label":"Dark","value":"taso-dark"},"zoom":{"label":"90%","value":90},"streamerMode":false,"ringtone":{"label":"Pixel","value":"pixel"},"notiSound":{"label":"Online","value":"online"},"ringtoneVol":50,"notiSoundVol":50},"themes":[{"label":"Dark","value":"taso-dark"}],"debug":{"printDebugLogs":true,"logLevel":1,"shouldShowAtomDebug":false},"SentryErrorMetrics":true}'),kn=n(8489);function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pn(e,t){if(e){if("string"===typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}function In(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||Rn(e)||Pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e){if(Array.isArray(e))return e}function Dn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fn(e,t){return jn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Pn(e,t)||Dn()}var zn=n(6222);function Un(e){return jn(e)||Rn(e)||Pn(e)||Dn()}function Bn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Gn(o,r,i,a,s,"next",e)}function s(e){Gn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}function qn(e,t){return qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qn(e,t)}function Zn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yn(e,t,n){return Yn=Zn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&qn(i,n.prototype),i},Yn.apply(null,arguments)}function $n(e){var t="function"===typeof Map?new Map:void 0;return $n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Yn(e,arguments,Wn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qn(r,e)},$n(e)}function Xn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}function Jn(e){return Jn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Kn(e,t){if(t&&("object"===Jn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Qn(e){var t=Zn();return function(){var n,r=Wn(e);if(t){var i=Wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kn(this,n)}}function er(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t,n){return t&&tr(e.prototype,t),n&&tr(e,n),e}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ir=n(4322),or=n.n(ir),ar=["override"],sr=["default"],ur=["cachePolicyForParams_UNSTABLE"],cr=or().mark(Lr),lr=or().mark(Co);var dr=function(e){return!!e&&"function"===typeof e.then};var fr=function(e,t){if(null!=e)return e;throw new Error(null!==t&&void 0!==t?t:"Got unexpected null or undefined")},pr=nr((function e(){rr(this,e)})),hr=new pr,mr={valueMaybe:function(){},valueOrThrow:function(){throw new Error('Loadable expected value, but in "'.concat(this.state,'" state'))},errorMaybe:function(){},errorOrThrow:function(){throw new Error('Loadable expected error, but in "'.concat(this.state,'" state'))},promiseMaybe:function(){},promiseOrThrow:function(){throw new Error('Loadable expected promise, but in "'.concat(this.state,'" state'))},is:function(e){return e.state===this.state&&e.contents===this.contents},map:function(e){var t=this;if("hasError"===this.state)return this;if("hasValue"===this.state)try{var n=e(this.contents);return dr(n)?yr(n.then((function(e){return{__value:e}}))):vr(n)}catch(r){return dr(r)?yr(r.next((function(){return e(t.contents)}))):gr(r)}if("loading"===this.state)return yr(this.contents.then((function(t){return{__value:e(t.__value)}})).catch((function(n){if(dr(n))return n.then((function(){return e(t.contents)}));throw n})));throw new Error("Invalid Loadable state")}};function vr(e){return Object.freeze((0,kn.Z)((0,kn.Z)({state:"hasValue",contents:e},mr),{},{getValue:function(){return this.contents},toPromise:function(){return Promise.resolve(this.contents)},valueMaybe:function(){return this.contents},valueOrThrow:function(){return this.contents}}))}function gr(e){return Object.freeze((0,kn.Z)((0,kn.Z)({state:"hasError",contents:e},mr),{},{getValue:function(){throw this.contents},toPromise:function(){return Promise.reject(this.contents)},errorMaybe:function(){return this.contents},errorOrThrow:function(){return this.contents}}))}function yr(e){return Object.freeze((0,kn.Z)((0,kn.Z)({state:"loading",contents:e},mr),{},{getValue:function(){throw this.contents.then((function(e){return e.__value}))},toPromise:function(){return this.contents.then((function(e){return e.__value}))},promiseMaybe:function(){return this.contents.then((function(e){return e.__value}))},promiseOrThrow:function(){return this.contents.then((function(e){return e.__value}))}}))}var br,xr={loadableWithValue:vr,loadableWithError:gr,loadableWithPromise:yr,loadableLoading:function(){return yr(new Promise((function(){})))},loadableAll:function(e){return e.every((function(e){return"hasValue"===e.state}))?vr(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?gr(fr(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):yr(Promise.all(e.map((function(e){return e.contents}))).then((function(e){return{__value:e}})))},Canceled:pr,CANCELED:hr},_r=null!==(br=i.useMutableSource)&&void 0!==br?br:i.unstable_useMutableSource;var wr={mutableSourceExists:function(){return _r&&!("undefined"!==typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:_r},Er=wr.mutableSourceExists,Sr=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function Tr(e){var t;return!("recoil_early_rendering_2021"===e&&!Er())&&(null!==(t=Sr.get(e))&&void 0!==t&&t)}Tr.setPass=function(e){Sr.set(e,!0)},Tr.setFail=function(e){Sr.set(e,!1)};var Mr=Tr;var Ar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},Cr=Ar;var Or=function(e,t){var n=new Set(e);return n.add(t),n};function Lr(e,t){var n,r,i,o;return or().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=er(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=11;break}if(o=i.value,!t(o,n++)){a.next=9;break}return a.next=9,o;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}}),cr,null,[[2,13,16,19]])}var kr=Lr;var Nr=function(e,t){return or().mark((function n(){var r,i,o,a;return or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=er(e),n.prev=2,i.s();case 4:if((o=i.n()).done){n.next=10;break}return a=o.value,n.next=8,t(a,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var Rr=function(e){};function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir=nr((function e(t){rr(this,e),Pr(this,"key",void 0),this.key=t})),jr=function(e){Xn(n,e);var t=Qn(n);function n(){return rr(this,n),t.apply(this,arguments)}return nr(n)}(Ir),Dr=function(e){Xn(n,e);var t=Qn(n);function n(){return rr(this,n),t.apply(this,arguments)}return nr(n)}(Ir);var Fr={AbstractRecoilValue:Ir,RecoilState:jr,RecoilValueReadOnly:Dr,isRecoilValue:function(e){return e instanceof jr||e instanceof Dr}},zr=Fr.AbstractRecoilValue,Ur=Fr.RecoilState,Br=Fr.RecoilValueReadOnly,Vr=Fr.isRecoilValue,Gr=Object.freeze({__proto__:null,AbstractRecoilValue:zr,RecoilState:Ur,RecoilValueReadOnly:Br,isRecoilValue:Vr}),Hr=nr((function e(){rr(this,e)})),Wr=new Hr,qr=function(e){Xn(n,e);var t=Qn(n);function n(e){return rr(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return nr(n)}($n(Error)),Zr=new Map,Yr=new Map;var $r=function(e){Xn(n,e);var t=Qn(n);function n(){return rr(this,n),t.apply(this,arguments)}return nr(n)}($n(Error));var Xr=new Map;function Jr(e){return Xr.get(e)}var Kr={nodes:Zr,recoilValues:Yr,registerNode:function(e){if(Zr.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}Zr.set(e.key,e);var n=null==e.set?new Gr.RecoilValueReadOnly(e.key):new Gr.RecoilState(e.key);return Yr.set(e.key,n),n},getNode:function(e){var t=Zr.get(e);if(null==t)throw new $r('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Zr.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(Mr("recoil_memory_managament_2020")){var n,r=Zr.get(e);if(null===r||void 0===r||null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))Zr.delete(e),null===(n=Jr(e))||void 0===n||n(),Xr.delete(e)}},setConfigDeletionHandler:function(e,t){Mr("recoil_memory_managament_2020")&&(void 0===t?Xr.delete(e):Xr.set(e,t))},getConfigDeletionHandler:Jr,recoilValuesForKeys:function(e){return Nr(e,(function(e){return fr(Yr.get(e))}))},NodeMissingError:$r,DefaultValue:Hr,DEFAULT_VALUE:Wr,RecoilValueNotReady:qr},Qr=nr((function e(){rr(this,e)}));var ei={RetentionZone:Qr,retentionZone:function(){return new Qr}},ti=Or,ni=Kr.getNode,ri=Kr.getNodeMaybe,ii=Kr.recoilValuesForKeys,oi=ei.RetentionZone,ai=Object.freeze(new Set),si=function(e){Xn(n,e);var t=Qn(n);function n(){return rr(this,n),t.apply(this,arguments)}return nr(n)}($n(Error));function ui(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var o=ni(n),a=function(e,t,n){if(!Mr("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof oi)i(n);else if(Array.isArray(n)){var o,a=er(n);try{for(a.s();!(o=a.n()).done;)i(o.value)}catch(s){a.e(s)}finally{a.f()}}return function(){if(Mr("recoil_memory_managament_2020")){var r=e.getState().retention.nodesRetainedByZone;if(n instanceof oi)a(n);else if(Array.isArray(n)){var i,o=er(n);try{for(o.s();!(i=o.n()).done;)a(i.value)}catch(s){o.e(s)}finally{o.f()}}}function a(e){var n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){s(),a()}))}}function ci(e,t,n){return ni(n).peek(e,t)}function li(e,t,n){for(var r=new Set,i=Array.from(n),o=e.getGraph(t.version),a=i.pop();a;a=i.pop()){var s;r.add(a);var u,c=er(null!==(s=o.nodeToNodeSubscriptions.get(a))&&void 0!==s?s:ai);try{for(c.s();!(u=c.n()).done;){var l=u.value;r.has(l)||i.push(l)}}catch(d){c.e(d)}finally{c.f()}}return r}var di=function(e,t,n){return ui(e,t,n,"get"),ni(n).get(e,t)},fi=ci,pi=function(e,t,n,r){var i=ni(n);if(null==i.set)throw new si("Attempt to set read-only RecoilValue: ".concat(n));var o=i.set;return ui(e,t,n,"set"),o(e,t,r)},hi=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},mi=function(e,t,n){var r,i=ri(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),(0,kn.Z)((0,kn.Z)({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ti(e.dirtyAtoms,t)})},vi=function(e,t,n){var r,i,o,a=e.getState(),s=e.getGraph(t.version),u=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,c=kr(li(e,t,new Set([n])),(function(e){return e!==n}));return{loadable:ci(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:ii(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:ii(c),components:Nr(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(function(e){return{name:Fn(e,1)[0]}}))}}},gi=li,yi=ui,bi=xr.CANCELED,xi=gi,_i=di,wi=pi,Ei=Kr.getNodeMaybe,Si=Kr.DefaultValue,Ti=Kr.RecoilValueNotReady,Mi=Gr.AbstractRecoilValue,Ai=Gr.RecoilState,Ci=Gr.RecoilValueReadOnly,Oi=Gr.isRecoilValue;function Li(e,t,n){if("set"===n.type){var r,i=n.recoilValue,o=function(e,t,n,r){var i=n.key;if("function"===typeof r){var o=_i(e,t,i);if("loading"===o.state)throw new Ti(i);if("hasError"===o.state)throw o.contents;return r(o.contents)}return r}(e,t,i,n.valueOrUpdater),a=er(wi(e,t,i.key,o).entries());try{for(a.s();!(r=a.n()).done;){var s=Fn(r.value,2);ki(t,s[0],s[1])}}catch(p){a.e(p)}finally{a.f()}}else if("setLoadable"===n.type){ki(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var u=n.recoilValue.key;t.dirtyAtoms.add(u)}else if("setUnvalidated"===n.type){var c,l=n.recoilValue.key,d=n.unvalidatedValue,f=Ei(l);null===f||void 0===f||null===(c=f.invalidate)||void 0===c||c.call(f,t),t.atomValues.delete(l),t.nonvalidatedAtoms.set(l,d),t.dirtyAtoms.add(l)}else Cr("Unknown action ".concat(n.type))}function ki(e,t,n){"hasValue"===n.state&&n.contents instanceof Si?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Ni(e,t){e.replaceState((function(n){var r,i=Ii(n),o=er(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;Li(e,i,a)}}catch(s){o.e(s)}finally{o.f()}return ji(e,i),i}))}function Ri(e,t){if(Pi.length){var n=Pi[Pi.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Ni(e,[t])}var Pi=[];function Ii(e){return(0,kn.Z)((0,kn.Z)({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function ji(e,t){var n,r=er(xi(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,o,a=n.value;null===(i=Ei(a))||void 0===i||null===(o=i.invalidate)||void 0===o||o.call(i,t)}}catch(s){r.e(s)}finally{r.f()}}function Di(e,t,n){Ri(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Fi=0;var zi={RecoilValueReadOnly:Ci,AbstractRecoilValue:Mi,RecoilState:Ai,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,a=e.getState();o.version!==a.currentTree.version&&o.version!==(null===(n=a.nextTree)||void 0===n?void 0:n.version)&&o.version!==(null===(r=a.previousTree)||void 0===r?void 0:r.version)&&Cr("Tried to read from a discarded tree");var s=_i(e,o,i);return"loading"===s.state&&s.contents.catch((function(){return bi})),s},setRecoilValue:Di,setRecoilValueLoadable:function(e,t,n){if(n instanceof Si)return Di(e,t,n);Ri(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Ri(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Ri(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Fi++,a=e.getState();if(a.nodeToComponentSubscriptions.has(r)||a.nodeToComponentSubscriptions.set(r,new Map),fr(a.nodeToComponentSubscriptions.get(r)).set(o,[null!==i&&void 0!==i?i:"<not captured>",n]),Mr("recoil_early_rendering_2021")){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(o)?(n.delete(o),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):Cr("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Oi,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof Si?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return Pi.push(e),function(){var t,n=er(e);try{for(n.s();!(t=n.n()).done;){var r=Fn(t.value,2);Ni(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}Pi.pop()!==e&&Cr("Incorrect order of batch popping")}},writeLoadableToTreeState:ki,invalidateDownstreams:ji,copyTreeState:Ii,invalidateDownstreams_FOR_TESTING:ji},Ui=o.unstable_batchedUpdates,Bi=zi.batchStart,Vi={unstable_batchedUpdates:{unstable_batchedUpdates:Ui}.unstable_batchedUpdates}.unstable_batchedUpdates,Gi=function(e){Vi=e},Hi=function(e){Vi((function(){var t=function(){};try{t=Bi(),e()}finally{t()}}))};var Wi={enqueueExecution:function(e,t){t()}};var qi=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=er(e);try{e:for(a.s();!(o=a.n()).done;){var s,u=o.value,c=er(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.has(u))continue e}}catch(d){c.e(d)}finally{c.f()}t.add(u)}}catch(d){a.e(d)}finally{a.f()}return t};var Zi=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Yi(e,t,n){var r=t.nodeDeps,i=t.nodeToNodeSubscriptions;e.forEach((function(e,t){var o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:qi(e,o)).forEach((function(e){i.has(e)||i.set(e,new Set),fr(i.get(e)).add(t)})),o&&qi(o,e).forEach((function(e){if(i.has(e)){var n=fr(i.get(e));n.delete(t),0===n.size&&i.delete(e)}})))}))}var $i=function(e){return{nodeDeps:Zi(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Zi(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Xi=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},Ji=function(e,t,n){var r,i,o,a,s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(i=s.previousTree)||void 0===i?void 0:i.version)&&Cr("Tried to save dependencies to a discarded tree");var u=t.getGraph(n);if(Yi(e,u),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&Yi(e,t.getGraph(s.currentTree.version),u),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var c,l=null===(c=s.nextTree)||void 0===c?void 0:c.version;if(void 0!==l)Yi(e,t.getGraph(l),u)}};var Ki,Qi,eo=(Ki=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},u=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},l=function(e,t){return t>>>e&i},d=function(e){return 1<<e},f=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},p=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},h=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},m={__hamt_isEmpty:!0},v=function(e){return e===m||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},x=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:M}},_=function e(t,n,r,i,o,a){if(r===o)return y(t,r,[a,i]);var s=l(n,r),u=l(n,o);return b(t,d(s)|d(u),s===u?[e(t,n+5,r,i,o,a)]:s<u?[i,a]:[a,i])},w=function(e,t){return e===t.edit},E=function(e,t,n,r,i,o,a){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--a.value,m):w(e,this)?(this.value=u,this):g(e,i,o,u)}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},S=function(e,t,n,r,i,o,a){if(i===this.hash){var u=function(e,t,n,r,i,o,a,u){for(var c=i.length,l=0;l<c;++l){var d=i[l];if(n(a,d.key)){var f=d.value,m=o(f);return m===f?i:m===s?(--u.value,h(e,l,i)):p(e,l,g(t,r,a,m),i)}}var v=o();return v===s?i:(++u.value,p(e,c,g(t,r,a,v),i))}(w(e,this),e,t,this.hash,this.children,r,o,a);return u===this.children?this:u.length>1?y(e,this.hash,u):u[0]}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},T=function(e,t,n,r,i,a,s){var u=this.mask,c=this.children,g=l(n,i),y=d(g),_=f(u,y),E=u&y,S=E?c[_]:m,T=S._modify(e,t,n+5,r,i,a,s);if(S===T)return this;var M,A=w(e,this),C=u,O=void 0;if(E&&v(T)){if(!(C&=~y))return m;if(c.length<=2&&((M=c[1^_])===m||1===M.type||2===M.type))return c[1^_];O=h(A,_,c)}else if(E||v(T))O=p(A,_,T,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,x(e,s+1,o)}(e,g,T,u,c);C|=y,O=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=new Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u}(A,_,T,c)}return A?(this.mask=C,this.children=O,this):b(e,C,O)},M=function(e,t,n,r,i,o,s){var u=this.size,c=this.children,d=l(n,i),f=c[d],h=(f||m)._modify(e,t,n+5,r,i,o,s);if(f===h)return this;var g=w(e,this),y=void 0;if(v(f)&&!v(h))++u,y=p(g,d,h,c);else if(!v(f)&&v(h)){if(--u<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var c=r[s];c&&!v(c)&&(i[o++]=c,a|=1<<s)}return b(e,a,i)}(e,u,d,c);y=p(g,d,m,c)}else y=p(g,d,h,c);return g?(this.size=u,this.children=y,this):x(e,u,y)};function A(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,a){var u=r();return u===s?m:(++a.value,g(e,i,o,u))},A.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new A(this._editable,this._edit,this._config,e,t)};var C=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,c=s.length;u<c;++u){var p=s[u];if(a(n,p.key))return p.value}return e;case 3:var h=l(o,t),m=d(h);if(i.mask&m){i=i.children[f(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};A.prototype.tryGetHash=function(e,t,n){return C(e,t,n,this)};var O=n.tryGet=function(e,t,n){return C(e,n._config.hash(t),t,n)};A.prototype.tryGet=function(e,t){return O(e,t,this)};var L=n.getHash=function(e,t,n){return C(void 0,e,t,n)};A.prototype.getHash=function(e,t){return L(e,t,this)},n.get=function(e,t){return C(void 0,t._config.hash(e),e,t)},A.prototype.get=function(e,t){return O(t,e,this)};var k=n.has=function(e,t,n){return C(s,e,t,n)!==s};A.prototype.hasHash=function(e,t){return k(e,t,this)};var N=n.has=function(e,t){return k(t._config.hash(e),e,t)};A.prototype.has=function(e){return N(e,this)};var R=function(e,t){return e===t};n.make=function(e){return new A(0,0,{keyEq:e&&e.keyEq||R,hash:e&&e.hash||c},m,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!v(e._root)};A.prototype.isEmpty=function(){return P(this)};var I=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};A.prototype.modifyHash=function(e,t,n){return I(n,e,t,this)};var j=n.modify=function(e,t,n){return I(e,n._config.hash(t),t,n)};A.prototype.modify=function(e,t){return j(t,e,this)};var D=n.setHash=function(e,t,n,r){return I(u(n),e,t,r)};A.prototype.setHash=function(e,t,n){return D(e,t,n,this)};var F=n.set=function(e,t,n){return D(n._config.hash(e),e,t,n)};A.prototype.set=function(e,t){return F(e,t,this)};var z=u(s),U=n.removeHash=function(e,t,n){return I(z,e,t,n)};A.prototype.removeHash=A.prototype.deleteHash=function(e,t){return U(e,t,this)};var B=n.remove=function(e,t){return U(t._config.hash(e),e,t)};A.prototype.remove=A.prototype.delete=function(e){return B(e,this)};var V=n.beginMutation=function(e){return new A(e._editable+1,e._edit+1,e._config,e._root,e._size)};A.prototype.beginMutation=function(){return V(this)};var G=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};A.prototype.endMutation=function(){return G(this)};var H=n.mutate=function(e,t){var n=V(t);return e(n),G(n)};A.prototype.mutate=function(e){return H(e,this)};var W=function(e){return e&&q(e[0],e[1],e[2],e[3],e[4])},q=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!v(o))return Z(o,r,[e,t,n,r,i])}return W(i)},Z=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return q(r.length,r,0,t,n);default:return W(n)}},Y={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Y;var e=this.v;return this.v=W(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var X=function(e,t){return new $(Z(e._root,t))},J=function(e){return[e.key,e.value]},K=n.entries=function(e){return X(e,J)};A.prototype.entries=A.prototype[Symbol.iterator]=function(){return K(this)};var Q=function(e){return e.key},ee=n.keys=function(e){return X(e,Q)};A.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=A.prototype.values=function(e){return X(e,te)};A.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};A.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};A.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};A.prototype.count=function(){return oe(this)},Object.defineProperty(A.prototype,"size",{get:A.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},Ki(Qi={exports:{}},Qi.exports),Qi.exports),to=function(){function e(t){rr(this,e),Pr(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return nr(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return ro(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),no=function(){function e(t){if(rr(this,e),Pr(this,"_hamt",eo.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=er(t.entries());try{for(i.s();!(r=i.n()).done;){var o=Fn(r.value,2),a=o[0],s=o[1];this._hamt.set(a,s)}}catch(u){i.e(u)}finally{i.f()}}}return nr(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return ro(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function ro(e){return Mr("recoil_hamt_2020")?new no(e):new to(e)}var io=ro,oo=Xi,ao=Object.freeze({__proto__:null,persistentMap:io}).persistentMap,so=0,uo=function(){return so++};function co(){var e=uo();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:ao(),nonvalidatedAtoms:ao()}}var lo=function(){var e=co();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,oo()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},fo=uo;var po=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,s=o[i],u=er(s);try{for(u.s();!(a=u.n()).done;){var c=a.value;e.add(c)}}catch(l){u.e(l)}finally{u.f()}}return e};var ho=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1},mo=hi,vo=Kr.deleteNodeConfigIfPossible,go=Kr.getNode,yo=ei.RetentionZone,bo=new Set;function xo(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)Cr("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,o=new Set,a=er(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s instanceof yo){var u,c=er(wo(n,s));try{for(c.s();!(u=c.n()).done;){var l=u.value;o.add(l)}}catch(h){c.e(h)}finally{c.f()}}else o.add(s)}}catch(h){a.e(h)}finally{a.f()}var d,f=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return s(t),o;function s(t){var u,c=new Set,l=function(e,t,n,r,i){var o=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)u(fr(n.values().next().value));return a;function u(e){if(r.has(e)||i.has(e))n.delete(e);else if(!s.has(e)){var t=o.nodeToNodeSubscriptions.get(e);if(t){var c,l=er(t);try{for(l.s();!(c=l.n()).done;){u(c.value)}}catch(h){l.e(h)}finally{l.f()}}s.add(e),n.delete(e),a.push(e)}}}(e,r,t,o,a),d=er(l);try{for(d.s();!(u=d.n()).done;){var f,p=u.value;if("recoilRoot"!==go(p).retainedBy)if((null!==(f=n.retention.referenceCounts.get(p))&&void 0!==f?f:0)>0)a.add(p);else if(Eo(p).some((function(e){return n.retention.referenceCounts.get(e)})))a.add(p);else{var m=i.nodeToNodeSubscriptions.get(p);m&&ho(m,(function(e){return a.has(e)}))?a.add(p):(o.add(p),c.add(p))}else a.add(p)}}catch(h){d.e(h)}finally{d.f()}var v,g=new Set,y=er(c);try{for(y.s();!(v=y.n()).done;){var b,x=v.value,_=er(null!==(w=i.nodeDeps.get(x))&&void 0!==w?w:bo);try{for(_.s();!(b=_.n()).done;){var w,E=b.value;o.has(E)||g.add(E)}}catch(h){_.e(h)}finally{_.f()}}}catch(h){y.e(h)}finally{y.f()}g.size&&s(g)}}(e,o),p=er(f);try{for(p.s();!(d=p.n()).done;){_o(e,r,d.value)}}catch(h){p.e(h)}finally{p.f()}}}function _o(e,t,n){if(Mr("recoil_memory_managament_2020")){mo(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,o=er(Eo(n));try{for(o.s();!(i=o.n()).done;){var a,s=i.value;null===(a=r.retention.nodesRetainedByZone.get(s))||void 0===a||a.delete(n)}}catch(h){o.e(h)}finally{o.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var u=r.graphsByVersion.get(t.version);if(u){var c=u.nodeDeps.get(n);if(void 0!==c){u.nodeDeps.delete(n);var l,d=er(c);try{for(d.s();!(l=d.n()).done;){var f,p=l.value;null===(f=u.nodeToNodeSubscriptions.get(p))||void 0===f||f.delete(n)}}catch(h){d.e(h)}finally{d.f()}}u.nodeToNodeSubscriptions.delete(n)}vo(n)}}function wo(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:bo}function Eo(e){var t=go(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof yo?[t]:t}function So(e,t){Mr("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):xo(e,new Set([t]))}(e,t))}var To=function(e,t,n){var r;if(Mr("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?So(e,t):i.set(t,o)}},Mo=function(e){if(Mr("recoil_memory_managament_2020")){var t=e.getState();xo(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},Ao=function(e){return void 0===e?"recoilRoot":e};function Co(e){var t,n,r,i,o,a;return or().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=er(e),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=er(r),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),lr,null,[[1,26,29,32],[6,16,19,22]])}var Oo=Co,Lo={isSSR:"undefined"===typeof window,isReactNative:"undefined"!==typeof navigator&&"ReactNative"===navigator.product},ko=Lo.isSSR,No=Hi,Ro=yi,Po=vi,Io=Xi,jo=Kr.DEFAULT_VALUE,Do=Kr.recoilValues,Fo=Kr.recoilValuesForKeys,zo=zi.AbstractRecoilValue,Uo=zi.getRecoilValueAsLoadable,Bo=zi.setRecoilValue,Vo=zi.setUnvalidatedRecoilValue,Go=To,Ho=fo,Wo=lo,qo=function(){function e(t){var n=this;rr(this,e),Pr(this,"_store",void 0),Pr(this,"_refCount",0),Pr(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),Uo(n._store,e)})),Pr(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),Pr(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return Fo(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,i=n._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?Do.values():!0===e.isInitialized?Fo(Oo([n._store.getState().knownAtoms,n._store.getState().knownSelectors])):kr(Do.values(),(function(e){var t=e.key;return!r.has(t)&&!i.has(t)}))})),Pr(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),Po(n._store,n._store.getState().currentTree,t)})),Pr(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new $o(n,No);return e(t),Yo(t.getStore_INTERNAL())})),Pr(this,"asyncMap",function(){var e=Hn(or().mark((function e(t){var r;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),r=new $o(n,No),e.next=4,t(r);case 4:return e.abrupt("return",Yo(r.getStore_INTERNAL()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return fr(n.get(e));var r=Io();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw new Error("Cannot subscribe to Snapshots")}};var r,i=er(this._store.getState().nodeCleanupFunctions.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value;Ro(this._store,t.currentTree,o,"get"),Go(this._store,o,1)}}catch(a){i.e(a)}finally{i.f()}this.retain(),this.autorelease_INTERNAL()}return nr(e,[{key:"retain",value:function(){var e=this;if(!Mr("recoil_memory_managament_2020"))return function(){};this._refCount++;var t=!1;return function(){t||(t=!0,e.release_INTERNAL())}}},{key:"autorelease_INTERNAL",value:function(){var e=this;Mr("recoil_memory_managament_2020")&&(ko||window.setTimeout((function(){return e.release_INTERNAL()}),0))}},{key:"release_INTERNAL",value:function(){Mr("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}},{key:"checkRefCount_INTERNAL",value:function(){Mr("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}},{key:"getID_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}]),e}();function Zo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?Ho():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:(0,kn.Z)({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function Yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=e.getState(),r="current"===t?n.currentTree:fr(n.previousTree);return new qo(Zo(e,r))}var $o=function(e){Xn(n,e);var t=Qn(n);function n(e,r){var i;return rr(this,n),Pr(Vn(i=t.call(this,Zo(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0))),"_batch",void 0),Pr(Vn(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){Go(n,e.key,1),Bo(i.getStore_INTERNAL(),e,t)}))})),Pr(Vn(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){Go(t,e.key,1),Bo(i.getStore_INTERNAL(),e,jo)}))})),Pr(Vn(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();No((function(){var n,r=er(e.entries());try{for(r.s();!(n=r.n()).done;){var i=Fn(n.value,2),o=i[0],a=i[1];Go(t,o,1),Vo(t,new zo(o),a)}}catch(s){r.e(s)}finally{r.f()}}))})),i._batch=r,i}return nr(n)}(qo),Xo={Snapshot:qo,MutableSnapshot:$o,freshSnapshot:function(e){var t=new qo(Wo());return null!=e?t.map(e):t},cloneSnapshot:Yo},Jo=Xo.Snapshot,Ko=Xo.MutableSnapshot,Qo=Xo.freshSnapshot,ea=Xo.cloneSnapshot,ta=Object.freeze({__proto__:null,Snapshot:Jo,MutableSnapshot:Ko,freshSnapshot:Qo,cloneSnapshot:ea}),na=fo,ra=lo,ia=hi,oa=gi,aa=pi,sa=mi,ua=Xi,ca=$i,la=zi.applyAtomValueWrites,da=Mo,fa=ta.freshSnapshot,pa=i.useCallback,ha=i.useContext,ma=i.useEffect,va=i.useMemo,ga=i.useRef,ya=i.useState;function ba(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var xa=Object.freeze({getState:ba,replaceState:ba,getGraph:ba,subscribeToTransactions:ba,addTransactionMetadata:ba}),_a=!1;function wa(e){if(_a)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){Mr("recoil_memory_managament_2020")&&Mr("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&da(e);var n=t.currentTree.version,r=na();t.nextTree=(0,kn.Z)((0,kn.Z)({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,ca(fr(t.graphsByVersion.get(n))))}}var Ea=i.createContext({current:xa}),Sa=function(){return ha(Ea)},Ta=i.createContext(null);function Ma(e,t,n){var r,i=er(oa(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t.nodeToComponentSubscriptions.get(o);if(a){var s,u=er(a);try{for(u.s();!(s=u.n()).done;){var c=Fn(s.value,2),l=(c[0],Fn(c[1],2));l[0];(0,l[1])(n)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){i.e(d)}finally{i.f()}}function Aa(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,o=er(t.nodeTransactionSubscriptions);try{for(o.s();!(i=o.n()).done;){var a=Fn(i.value,2),s=a[0],u=a[1];if(r.has(s)){var c,l=er(u);try{for(l.s();!(c=l.n()).done;){var d=Fn(c.value,2);d[0];(0,d[1])(e)}}catch(m){l.e(m)}finally{l.f()}}}}catch(m){o.e(m)}finally{o.f()}var f,p=er(t.transactionSubscriptions);try{for(p.s();!(f=p.n()).done;){var h=Fn(f.value,2);h[0];(0,h[1])(e)}}catch(m){p.e(m)}finally{p.f()}Mr("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(Ma(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Ca(e){var t=e.setNotifyBatcherOfChange,n=Sa(),r=Fn(ya([]),2),i=(r[0],r[1]);return t((function(){return i({})})),ma((function(){Wi.enqueueExecution("Batcher",(function(){!function(e){var t=e.current.getState();t.commitDepth++;try{var n=t.nextTree;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Aa(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Cr("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Mr("recoil_memory_managament_2020")&&da(e.current)}finally{t.commitDepth--}}(n)}))})),ma((function(){return function(){t((function(){}))}}),[t]),null}var Oa=0;function La(e){var t,n,r=e.initializeState_DEPRECATED,o=e.initializeState,a=e.store_INTERNAL,s=e.children,u=ga(null),c=pa((function(e){u.current=e}),[u]),l=null!==(t=i.createMutableSource)&&void 0!==t?t:i.unstable_createMutableSource,d=null!==a&&void 0!==a?a:{getState:function(){return n.current},replaceState:function(e){var t=f.current.getState();wa(f.current);var n,r=fr(t.nextTree);try{_a=!0,n=e(r)}finally{_a=!1}n!==r&&(t.nextTree=n,Mr("recoil_early_rendering_2021")&&Ma(d,t,n),fr(u.current)())},getGraph:function(e){var t=n.current.graphsByVersion;if(t.has(e))return fr(t.get(e));var r=ua();return t.set(e,r),r},subscribeToTransactions:function(e,t){if(null==t){var n=f.current.getState().transactionSubscriptions,r=Oa++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=f.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var o=Oa++;return fr(i.get(t)).set(o,e),{release:function(){var e=i.get(t);e&&(e.delete(o),0===e.size&&i.delete(t))}}},addTransactionMetadata:function(e){wa(f.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];fr(f.current.getState().nextTree).transactionMetadata[r]=e[r]}}},f=ga(d);n=ga(null!=r?function(e,t){var n=ra();return t({set:function(t,r){var i,o=n.currentTree,a=aa(e,o,t.key,r),s=new Set(a.keys()),u=o.nonvalidatedAtoms.clone(),c=er(s);try{for(c.s();!(i=c.n()).done;){var l=i.value;u.delete(l)}}catch(d){c.e(d)}finally{c.f()}n.currentTree=(0,kn.Z)((0,kn.Z)({},o),{},{dirtyAtoms:po(o.dirtyAtoms,s),atomValues:la(o.atomValues,a),nonvalidatedAtoms:u})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=sa(n.currentTree,t,e)}))}}),n}(d,r):null!=o?function(e){return fa().map(e).getStore_INTERNAL().getState()}(o):ra());var p=va((function(){return l?l(n,(function(){return n.current.currentTree.version})):null}),[l,n]);return ma((function(){return function(){var e,t=er(f.current.getState().knownAtoms);try{for(t.s();!(e=t.n()).done;){var n=e.value;ia(f.current,n)}}catch(r){t.e(r)}finally{t.f()}}}),[]),i.createElement(Ea.Provider,{value:f},i.createElement(Ta.Provider,{value:p},i.createElement(Ca,{setNotifyBatcherOfChange:c}),s))}var ka=Sa,Na=function(){var e=ha(Ta);return null==e&&Rr("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Ra=function(e){var t=e.override,n=Bn(e,ar),r=Sa();return!1===t&&r.current!==xa?e.children:i.createElement(La,n)},Pa=xr.loadableWithValue,Ia=Kr.DEFAULT_VALUE,ja=Kr.getNode,Da=zi.copyTreeState,Fa=zi.getRecoilValueAsLoadable,za=zi.invalidateDownstreams,Ua=zi.writeLoadableToTreeState;function Ba(e){return"atom"===ja(e.key).nodeType}var Va=function(){function e(t,n){var r=this;rr(this,e),Pr(this,"_store",void 0),Pr(this,"_treeState",void 0),Pr(this,"_changes",void 0),Pr(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Ba(e))throw new Error("Reading selectors within atomicUpdate is not supported");var t=Fa(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:new Error("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),Pr(this,"set",(function(e,t){if(!Ba(e))throw new Error("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else r._changes.set(e.key,t)})),Pr(this,"reset",(function(e){r.set(e,Ia)})),this._store=t,this._treeState=n,this._changes=new Map}return nr(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=Da(this._treeState),n=er(this._changes);try{for(n.s();!(e=n.n()).done;){var r=Fn(e.value,2),i=r[0],o=r[1];Ua(t,i,Pa(o))}}catch(a){n.e(a)}finally{n.f()}return za(this._store,t),t}}]),e}();var Ga=function(e){return function(t){e.replaceState((function(n){var r=new Va(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Ha=Ga,Wa=Object.freeze({__proto__:null,atomicUpdater:Ha});var qa=function(e,t){var n,r=new Map,i=er(e);try{for(i.s();!(n=i.n()).done;){var o=Fn(n.value,2),a=o[0],s=o[1];t(s,a)&&r.set(a,s)}}catch(u){i.e(u)}finally{i.f()}return r};var Za=function(e,t){var n,r=new Set,i=er(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t(o)&&r.add(o)}}catch(a){i.e(a)}finally{i.f()}return r};var Ya=function(e,t){if(!e)throw new Error(t)};var $a=function(){for(var e=new Map,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++)for(var o=n[i].keys(),a=void 0;!(a=o.next()).done;)e.set(a.value,n[i].get(a.value));return e};var Xa=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};var Ja=i.useRef;var Ka=function(){return Ja(),"<component name not available>"},Qa=Wa.atomicUpdater,es=Hi,ts=Kr.DEFAULT_VALUE,ns=Kr.getNode,rs=Kr.nodes,is=Na,os=ka,as=(Gr.isRecoilValue,zi.AbstractRecoilValue),ss=zi.getRecoilValueAsLoadable,us=zi.setRecoilValue,cs=zi.setRecoilValueLoadable,ls=zi.setUnvalidatedRecoilValue,ds=zi.subscribeToRecoilValue,fs=To,ps=ei.RetentionZone,hs=(ta.Snapshot,ta.cloneSnapshot),ms=Lo.isSSR,vs=wr.mutableSourceExists,gs=wr.useMutableSource,ys=i.useCallback,bs=i.useEffect,xs=i.useMemo,_s=i.useRef,ws=i.useState,Es=12e4;function Ss(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){var r=new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw r}if("hasError"===e.state)throw e.contents;throw new Error('Invalid value of loadable atom "'.concat(t.key,'"'))}function Ts(e){return Mr("recoil_memory_managament_2020")&&Ps(e),vs()?function(e){var t=os(),n=ys((function(){var n,r=t.current,i=r.getState(),o=Mr("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return ss(r,e,o)}),[t,e]),r=ys((function(){return n()}),[n]),i=Ka(),o=ys((function(r,o){var a=t.current;return ds(a,e,(function(){if(!Mr("recoil_suppress_rerender_in_callback"))return o();var e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),a=is(),s=gs(a,r,o),u=_s(s);return bs((function(){u.current=s})),s}(e):function(e){var t=os(),n=Fn(ws([]),2),r=(n[0],n[1]),i=Ka();bs((function(){var n=t.current,o=n.getState(),s=ds(n,e,(function(t){var i;if(!Mr("recoil_suppress_rerender_in_callback"))return r([]);var o=ss(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((function(){a.current=null,r([])}));else{var u;if(!Mr("recoil_suppress_rerender_in_callback"))return r([]);var c=ss(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(c))||r(c),a.current=c}return s.release}),[i,e,t]);var o=ss(t.current,e),a=_s(o);return bs((function(){a.current=o})),o}(e)}function Ms(e){var t=os();return Ss(Ts(e),e,t)}function As(e){var t=os();return ys((function(n){us(t.current,e,n)}),[t,e])}function Cs(e){var t=os();bs((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function Os(e){var t=e.atomValues.toMap(),n=Zi(qa(t,(function(e,t){var n=ns(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(function(e){return e.contents}));return $a(e.nonvalidatedAtoms.toMap(),n)}function Ls(e){var t=_s();return bs((function(){t.current=e})),t.current}function ks(){var e=os();return ys((function(t){var n,r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;es((function(){for(var n=new Set,r=0,a=[i.atomValues.keys(),o.atomValues.keys()];r<a.length;r++){var s,u=er(a[r]);try{for(u.s();!(s=u.n()).done;){var c,l,d=s.value;(null===(c=i.atomValues.get(d))||void 0===c?void 0:c.contents)!==(null===(l=o.atomValues.get(d))||void 0===l?void 0:l.contents)&&ns(d).shouldRestoreFromSnapshots&&n.add(d)}}catch(f){u.e(f)}finally{u.f()}}n.forEach((function(t){cs(e.current,new as(t),o.atomValues.has(t)?fr(o.atomValues.get(t)):ts)})),e.current.replaceState((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{stateID:t.getID_INTERNAL()})}))}))}),[e])}var Ns=nr((function e(){rr(this,e)})),Rs=new Ns;function Ps(e){if(Mr("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof ps?e:e.key})),n=os();bs((function(){if(Mr("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!ms)window.clearTimeout(r.current),r.current=null;else{var i,o=er(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;fs(e,a,1)}}catch(s){o.e(s)}finally{o.f()}}return function(){var n,r=er(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;fs(e,i,-1)}}catch(s){r.e(s)}finally{r.f()}}}}),[n].concat(In(t)));var r=_s(),i=Ls(t);if(!ms&&(void 0===i||!Xa(i,t))){var o,a=n.current,s=er(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;fs(a,u,1)}}catch(f){s.e(f)}finally{s.f()}if(i){var c,l=er(i);try{for(l.s();!(c=l.n()).done;){var d=c.value;fs(a,d,-1)}}catch(f){l.e(f)}finally{l.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=er(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;fs(a,i,-1)}}catch(f){n.e(f)}finally{n.f()}}),Es)}}(e)}var Is=ks,js=function(e,t){var n=os(),r=ks();return ys((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];function a(e,t){us(n.current,e,t)}function s(e){us(n.current,e,ts)}var u=hs(n.current),c=Qa(n.current),l=Rs;return es((function(){var t="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof e)throw new Error(t);var n=e({set:a,reset:s,snapshot:u,gotoSnapshot:r,transact_UNSTABLE:c});if("function"!==typeof n)throw new Error(t);l=n.apply(void 0,i)})),l instanceof Ns&&Ya(!1),l}),null!=t?[].concat(In(t),[n]):void 0)},Ds=function(){var e=os(),t=Fn(ws((function(){return hs(e.current)})),2),n=t[0],r=t[1],i=Ls(n),o=_s();return bs((function(){return o.current&&!ms&&window.clearTimeout(o.current),n.retain()}),[n]),Cs(ys((function(e){return r(hs(e))}),[])),i===n||ms||(o.current&&(null===i||void 0===i||i.release_INTERNAL(),window.clearTimeout(o.current)),n.retain(),o.current=window.setTimeout((function(){n.release_INTERNAL(),o.current=null}),Es)),n},Fs=function(e){return[Ms(e),As(e)]},zs=function(e){return[Ts(e),As(e)]},Us=function(e,t){var n=os();return xs((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=Qa(n.current);o((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(In(t),[n]):void 0)},Bs=function(e){Cs(ys((function(t){var n=hs(t,"current"),r=hs(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},Vs=Ms,Gs=Ts,Hs=Ps,Ws=function(e){var t=os();return ys((function(){us(t.current,e,ts)}),[t,e])},qs=As,Zs=function(){var e=os();return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};es((function(){e.current.addTransactionMetadata(n),t.forEach((function(t,n){return ls(e.current,new as(n),t)}))}))}},Ys=function(e){Cs(ys((function(t){var n=t.getState().previousTree,r=t.getState().currentTree;n||(Cr("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);var i=Os(r),o=Os(n),a=Zi(rs,(function(e){var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=Za(r.dirtyAtoms,(function(e){return i.has(e)||o.has(e)}));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:(0,kn.Z)({},r.transactionMetadata)})}),[e]))},$s=vi,Xs=ka;var Js=function(){var e=Xs();return function(t){var n=t.key;return $s(e.current,e.current.getState().currentTree,n)}},Ks=Ra,Qs=ka,eu=i.useMemo;var tu=function(){var e=Qs().current;return eu((function(){return function(t){var n=t.children;return i.createElement(Ks,{store_INTERNAL:e},n)}}),[e])};function nu(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(dr(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return nu(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return nu(e.toJSON(n),t,n);if(e instanceof Map){var i,o={},a=er(e);try{for(a.s();!(i=a.n()).done;){var s=Fn(i.value,2),u=s[0],c=s[1];o["string"===typeof u?u:nu(u,t)]=c}}catch(l){a.e(l)}finally{a.f()}return nu(o,t,n)}return e instanceof Set?nu(Array.from(e).sort((function(e,n){return nu(e,t).localeCompare(nu(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?nu(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(nu(n,t),":").concat(nu(e[n],t,n))})).join(","),"}")}var ru=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return nu(e,t)},iu=function(){function e(t){var n,r,i;rr(this,e),Pr(this,"_numLeafs",void 0),Pr(this,"_root",void 0),Pr(this,"_onHit",void 0),Pr(this,"_onSet",void 0),Pr(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return nr(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){var n=this;return ou(this.root(),(function(t){return n._mapNodeValue(e(t))}),{onNodeVisit:function(e){null===t||void 0===t||t.onNodeVisit(e),"leaf"===e.type&&n._onHit(e)}})}},{key:"set",value:function(e,t,n){var r,i=this,o=au(this.root(),e.map((function(e){var t=Fn(e,2),n=t[0],r=t[1];return[n,i._mapNodeValue(r)]})),null,t,null,{onNodeVisit:function(e){null===n||void 0===n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(fr(r))}},{key:"delete",value:function(e){if(!this.root())return!1;var t=fr(this.root());return!!su(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=cu(e),!0))}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}}]),e}(),ou=function e(t,n,r){var i;if(null!=t){if(null===r||void 0===r||null===(i=r.onNodeVisit)||void 0===i||i.call(r,t),"leaf"===t.type)return t;var o=n(t.nodeKey);return e(t.branches.get(o),n,r)}},au=function e(t,n,r,i,o,a){var s,u;if(null==t)if(0===n.length)u={type:"leaf",value:i,parent:r,branchKey:o};else{var c=Un(n),l=c[0],d=c.slice(1),f=Fn(l,2),p=f[0],h=f[1];(u={type:"branch",nodeKey:p,parent:r,branches:new Map,branchKey:o}).branches.set(h,e(null,d,u,i,h,a))}else if(u=t,n.length){var m=Un(n),v=m[0],g=m.slice(1),y=Fn(v,2),b=y[0],x=y[1];("branch"!==t.type||t.nodeKey!==b)&&Ya(!1),t.branches.set(x,e(t.branches.get(x),g,t,i,x,a))}return null===a||void 0===a||null===(s=a.onNodeVisit)||void 0===s||s.call(a,u),u},su=function(e,t,n){return n?(n.branches.delete(t.branchKey),uu(e,n,n.parent)):e===t},uu=function e(t,n,r){return r?(0===n.branches.size&&r.branches.delete(n.branchKey),e(t,r,r.parent)):t===n},cu=function e(t){return"leaf"===t.type?1:Array.from(t.branches.values()).reduce((function(t,n){return t+e(n)}),0)},lu={TreeCache:iu}.TreeCache,du=Object.freeze({__proto__:null,TreeCache:lu}),fu=function(){function e(t){var n;rr(this,e),Pr(this,"_maxSize",void 0),Pr(this,"_size",void 0),Pr(this,"_head",void 0),Pr(this,"_tail",void 0),Pr(this,"_map",void 0),Pr(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return nr(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=fr(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),pu={LRUCache:fu}.LRUCache,hu=Object.freeze({__proto__:null,LRUCache:pu}),mu=hu.LRUCache,vu=du.TreeCache;var gu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new mu({maxSize:e}),r=new vu({mapNodeValue:t,onHit:function(e){n.set(e,!0)},onSet:function(t){var i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r},yu=du.TreeCache,bu={equality:"reference",eviction:"keep-all",maxSize:1/0};function xu(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return ru(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function _u(e,t,n){switch(e){case"keep-all":return new yu({mapNodeValue:n});case"lru":return gu(fr(t),n);case"most-recent":return gu(1,n)}throw new Error("Unrecognized eviction policy ".concat(e))}var wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu,t=e.equality,n=void 0===t?bu.equality:t,r=e.eviction,i=void 0===r?bu.eviction:r,o=e.maxSize,a=void 0===o?bu.maxSize:o,s=xu(n),u=_u(i,a,s);return u};var Eu=function(e){return function(){return null}},Su=xr.CANCELED,Tu=xr.Canceled,Mu=xr.loadableWithError,Au=xr.loadableWithPromise,Cu=xr.loadableWithValue,Ou=di,Lu=fi,ku=pi,Nu=Ji,Ru=Kr.DEFAULT_VALUE,Pu=Kr.RecoilValueNotReady,Iu=Kr.getConfigDeletionHandler,ju=Kr.registerNode,Du=Gr.isRecoilValue,Fu=Gr.AbstractRecoilValue,zu=zi.setRecoilValueLoadable,Uu=Ao,Bu=ta.cloneSnapshot,Vu=Eu,Gu=[],Hu=new Map,Wu=function(){var e=0;return function(){return e++}}();var qu=function(e){var t=e.key,n=e.get,r=e.cachePolicy_UNSTABLE,i=null!=e.set?e.set:void 0,o=wu(null!==r&&void 0!==r?r:{equality:"reference",eviction:"keep-all"}),a=Uu(e.retainedBy_UNSTABLE),s=new Map,u=0;function c(){return!Mr("recoil_memory_managament_2020")||u>0}function l(e){return s.has(e)||s.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),fr(s.get(e))}function d(e){return u++,e.getState().knownSelectors.add(t),function(){u--,e.getState().knownSelectors.delete(t),s.delete(e)}}function f(){return void 0!==Iu(t)&&!c()}function p(e,t,n){if("loading"===t.state){var r=Hu.get(n);null==r&&Hu.set(n,r=new Set),r.add(e)}}function h(e,t,n){var r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return fr(t.atomValues.get(n));var i=Ou(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function m(e,n,r,i,o){return n.then((function(n){if(!c())return C(e,o),Su;var a=Cu(n);return k(n),N(r,w(i),a),y(e,r,new Set(i.keys()),o),g(e,a,o),{__value:n,__key:t}})).catch((function(t){if(!c())return C(e,o),Su;if(O(e,o)&&A(i,e,o),dr(t))return v(e,t,r,i,o);var n=Mu(t);throw k(t),N(r,w(i),n),y(e,r,new Set(i.keys()),o),g(e,n,o),t}))}function v(e,n,r,i,o){return n.then((function(n){if(!c())return C(e,o),Su;if(n instanceof Tu)return Cr("Selector was released while it had dependencies"),Su;var i=null!==n&&void 0!==n?n:{},a=i.__key,s=i.__value,u=!0;null!=a&&(r.atomValues.set(a,Cu(s)),u=!1);var l=_(e,r);if(l&&"hasValue"===l.state)return M(l,e),{__value:l.contents,__key:t};if(!O(e,o)){var d,f=S(r);if("loading"===(null===f||void 0===f||null===(d=f.latestLoadable)||void 0===d?void 0:d.state))return f.latestLoadable.contents}var p=Fn(x(e,r,o,u),2),h=p[0],m=p[1];if(O(e,o)&&A(m,e,o),L(h),"loading"!==h.state&&(N(r,w(m),h),y(e,r,new Set(m.keys()),o),g(e,h,o)),"hasError"===h.state)throw h.contents;return"hasValue"===h.state?{__value:h.contents,__key:t}:h.contents})).catch((function(t){if(!c())return C(e,o),Su;var n=Mu(t);throw k(t),N(r,w(i),Mu(t)),y(e,r,new Set(i.keys()),o),g(e,n,o),t}))}function g(e,n,r){O(e,r)&&(M(n,e),function(e,n){var r=Hu.get(n);if(void 0!==r){var i,o=er(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;zu(a,new Fu(t),e)}}catch(s){o.e(s)}finally{o.f()}Hu.delete(n)}}(n,r))}function y(e,n,r,i){var o,a,s,u,c,l,d;(O(e,i)||n.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||n.version===(null===(s=e.getState())||void 0===s||null===(u=s.nextTree)||void 0===u?void 0:u.version))&&Nu(new Map([[t,r]]),e,null!==(c=null===(l=e.getState())||void 0===l||null===(d=l.nextTree)||void 0===d?void 0:d.version)&&void 0!==c?c:e.getState().currentTree.version)}function b(e,t,n,r,i){n.add(r),y(e,t,n,i)}function x(e,r,i){var o,a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=Vu(t),c=!1,l=new Map,d=new Set;function f(t){var n=t.key;b(e,r,d,n,i);var o=s?Ou(e,r,n):h(e,r,n);if(L(o),l.set(n,o),"hasValue"===o.state)return o.contents;throw o.contents}y(e,r,d,i);var p=!1,g=function(t){return function(){if(!p)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");var n=Bu(e),r=t({snapshot:n});if("function"!==typeof r)throw new Error("getCallback() expects a function that returns a function.");return r.apply(void 0,arguments)}};try{o=n({get:f,getCallback:g}),o=Du(o)?f(o):o,p=!0,dr(o)?o=m(e,o,r,l,i).finally(u):u()}catch(x){dr(o=x)?o=v(e,o,r,l,i).finally(u):(c=!0,u())}return L(a=c?Mu(o):dr(o)?Au(o):Cu(o)),[a,l]}function _(e,n){var r=new Set,i=l(e),a=o.get((function(t){return"string"!==typeof t&&Ya(!1),h(e,n,t).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==t&&"string"===typeof e.nodeKey&&r.add(e.nodeKey)}});return a&&y(e,n,r,i.latestExecutionId),a}function w(e){return Array.from(e.entries()).map((function(e){var t=Fn(e,2);return[t[0],t[1].contents]}))}function E(e,t){var n=Wu(),r=Fn(x(e,t,n),2),i=r[0],o=r[1];return M(i,e,o,n,t),function(e,t,n){"loading"!==n.state&&N(e,t,n)}(t,w(o),i),p(e,i,n),i}function S(e){var t,n=null!==(t=Array.from(s.entries()).find((function(t){var n=Fn(t,2),r=n[0],i=n[1];return null!=i.latestLoadable&&null!=i.latestExecutionId&&!function(e,t){var n,r,i=l(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=T.get(t.version))&&void 0!==r?r:new Map).entries()),s=T.has(t.version)&&a.length===o.size&&a.every((function(e){var t=Fn(e,2),n=t[0],r=t[1];return o.get(n)===r}));if(null==o||t.version===i.stateVersion||s)return!1;return T.set(t.version,new Map(o)),Array.from(o).some((function(n){var r=Fn(n,2),i=r[0],o=r[1];return h(e,t,i).contents!==o.contents}))}(r,e)})))&&void 0!==t?t:[];return Fn(n,2)[1]}var T=new Map;function M(e,t,n,r,i){var o=l(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null===i||void 0===i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function A(e,t,n){var r=l(t);O(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function C(e,t){O(e,t)&&s.delete(e)}function O(e,t){return t===l(e).latestExecutionId}function L(e){"loading"!==e.state&&k(e.contents)}function k(e){0}function N(e,n,r){e.atomValues.set(t,r),o.set(n,r)}function R(e,t){return o.get((function(n){"string"!==typeof n&&Ya(!1);var r=Lu(e,t,n);return null===r||void 0===r?void 0:r.contents}))}function P(e,n){return function(e){if(Gu.includes(t)){var n="Recoil selector has circular dependencies: ".concat(Gu.slice(Gu.indexOf(t)).join(" \u2192 "));return Mu(new Error(n))}Gu.push(t);try{return e()}finally{Gu.pop()}}((function(){return function(e,t){var n=_(e,t);if(null!=n)return M(n,e),n;var r=S(t);if(r){var i=r;return p(e,fr(i.latestLoadable),fr(i.latestExecutionId)),fr(i.latestLoadable)}return E(e,t)}(e,n)}))}function I(e){e.atomValues.delete(t)}if(null!=i){return ju({key:t,nodeType:"selector",peek:R,get:P,set:function(e,t,n){var r=!1,o=new Map;function a(n){var i=n.key;if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var o=h(e,t,i);if(L(o),"hasValue"===o.state)return o.contents;throw"loading"===o.state?new Pu(i):o.contents}function s(n,i){if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var s="function"===typeof i?i(a(n)):i;ku(e,t,n.key,s).forEach((function(e,t){return o.set(t,e)}))}var u=i({set:s,get:a,reset:function(e){s(e,Ru)}},n);if(void 0!==u)throw dr(u)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return r=!0,o},init:d,invalidate:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})}return ju({key:t,nodeType:"selector",peek:R,get:P,init:d,invalidate:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})},Zu=xr.loadableWithError,Yu=xr.loadableWithPromise,$u=xr.loadableWithValue,Xu=Kr.DEFAULT_VALUE,Ju=Kr.DefaultValue,Ku=Kr.getConfigDeletionHandler,Qu=Kr.registerNode,ec=Kr.setConfigDeletionHandler,tc=Gr.isRecoilValue,nc=zi.markRecoilValueModified,rc=zi.setRecoilValue,ic=zi.setRecoilValueLoadable,oc=Ao;function ac(e){var t=e.key,n=e.persistence_UNSTABLE,r=oc(e.retainedBy_UNSTABLE),i=0,o=dr(e.default)?Yu(e.default.then((function(e){return o=$u(e),{__key:t,__value:e}})).catch((function(e){throw o=Zu(e),e}))):$u(e.default),a=void 0,s=new Map;var u=Qu({key:t,nodeType:"atom",peek:function(e,n){var r,i,s;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:null===(s=a)||void 0===s?void 0:s[1])&&void 0!==r?r:o},get:function(e,r){if(r.atomValues.has(t))return fr(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=a)return a;if(null==n)return Rr("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),s=n.validator(i,Xu),u=s instanceof Ju?o:$u(s);return a=u}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=fr(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ju)return new Map;return a=void 0,(new Map).set(t,$u(r))},init:function(n,r,a){i++;var c=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===o.state){var l=function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||nc(n,u)};o.contents.then(l).catch(l)}var d=Xu,f=null;if(null!=e.effects_UNSTABLE&&!c){var p,h=!0,m=function(e){return function(t){if(h){var r=d instanceof Ju||dr(d)?"hasValue"===o.state?o.contents:Xu:d;d="function"===typeof t?t(r):t,dr(d)&&(d=d.then((function(t){return f={effect:e,value:t},t})))}else{if(dr(t))throw new Error("Setting atoms to async values is not implemented.");"function"!==typeof t&&(f={effect:e,value:t}),rc(n,u,"function"===typeof t?function(n){var r=t(n);return f={effect:e,value:r},r}:t)}}},v=function(e){return function(){return m(e)(Xu)}},g=function(e){return function(r){n.subscribeToTransactions((function(n){var i,a=n.getState(),s=a.currentTree,u=a.previousTree;u||(Cr("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),u=s);var c=null!==(i=s.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===c.state){var l,d,p,h,m=c.contents,v=null!==(l=u.atomValues.get(t))&&void 0!==l?l:o,g="hasValue"===v.state?v.contents:Xu;(null===(d=f)||void 0===d?void 0:d.effect)!==e||(null===(p=f)||void 0===p?void 0:p.value)!==m?r(m,g):(null===(h=f)||void 0===h?void 0:h.effect)===e&&(f=null)}}),t)}},y=er(null!==(b=e.effects_UNSTABLE)&&void 0!==b?b:[]);try{for(y.s();!(p=y.n()).done;){var b,x,_=p.value,w=_({node:u,trigger:a,setSelf:m(_),resetSelf:v(_),onSet:g(_)});if(null!=w)s.set(n,[].concat(In(null!==(x=s.get(n))&&void 0!==x?x:[]),[w]))}}catch(T){y.e(T)}finally{y.f()}h=!1}if(!(d instanceof Ju)){var E,S=dr(d)?Yu(function(e,n){var r=n.then((function(n){var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&rc(e,u,n),{__key:t,__value:n}})).catch((function(n){var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&ic(e,u,Zu(n)),n}));return r}(n,d)):$u(d);r.atomValues.set(t,S),null===(E=n.getState().nextTree)||void 0===E||E.atomValues.set(t,S)}return function(){var e;i--,null===(e=s.get(n))||void 0===e||e.forEach((function(e){return e()})),s.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){a=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Ku(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return u}function sc(e){var t=e.default,n=Bn(e,sr);return tc(t)?function(e){var t=sc((0,kn.Z)((0,kn.Z)({},e),{},{default:Xu,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:(0,kn.Z)((0,kn.Z)({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof Ju?t:fr(e.persistence_UNSTABLE).validator(t,Xu)}}),effects_UNSTABLE:e.effects_UNSTABLE})),n=qu({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof Ju?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return ec(n.key,Ku(e.key)),n}((0,kn.Z)((0,kn.Z)({},n),{},{default:t})):ac((0,kn.Z)((0,kn.Z)({},n),{},{default:t}))}var uc=sc,cc=function(){function e(t){var n;rr(this,e),Pr(this,"_map",void 0),Pr(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return nr(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),lc={MapCache:cc}.MapCache,dc=Object.freeze({__proto__:null,MapCache:lc}),fc=hu.LRUCache,pc=dc.MapCache,hc={equality:"reference",eviction:"none",maxSize:1/0};function mc(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return ru(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function vc(e,t,n){switch(e){case"keep-all":return new pc({mapKey:n});case"lru":return new fc({mapKey:n,maxSize:fr(t)});case"most-recent":return new fc({mapKey:n,maxSize:1})}throw new Error("Unrecognized eviction policy ".concat(e))}var gc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=e.equality,n=void 0===t?hc.equality:t,r=e.eviction,i=void 0===r?hc.eviction:r,o=e.maxSize,a=void 0===o?hc.maxSize:o,s=mc(n),u=vc(i,a,s);return u},yc=Kr.setConfigDeletionHandler;var bc=function(e){var t,n,r=gc({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;e.cachePolicyForParams_UNSTABLE;var o=Bn(e,ur),a=uc((0,kn.Z)((0,kn.Z)({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=ru(t))&&void 0!==n?n:"void"),default:"function"===typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE}));return r.set(t,a),yc(a.key,(function(){r.delete(t)})),a}},xc=Kr.setConfigDeletionHandler,_c=0;var wc=function(e){var t,n,r=gc({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;var o,a="".concat(e.key,"__selectorFamily/").concat(null!==(n=ru(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(_c++),s=function(n){return e.get(t)(n)},u=e.cachePolicy_UNSTABLE,c="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var l=e.set;o=qu({key:a,get:s,set:function(e,n){return l(t)(e,n)},cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else o=qu({key:a,get:s,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,o),xc(o.key,(function(){r.delete(t)})),o}},Ec=wc({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Sc=function(e){return Ec(e)},Tc=wc({key:"__error",get:function(e){return function(){throw new Error(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Mc=function(e){return Tc(e)};var Ac=function(e){return e},Cc=xr.loadableWithError,Oc=xr.loadableWithPromise,Lc=xr.loadableWithValue;function kc(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),o=er(t.entries());try{for(o.s();!(n=o.n()).done;){var a=Fn(n.value,2),s=a[0],u=a[1];try{r[s]=e(u)}catch(c){i[s]=c}}}catch(l){o.e(l)}finally{o.f()}return[r,i]}function Nc(e){return null!=e&&!dr(e)}function Rc(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Pc(e){return null!=e&&"object"===typeof e&&e.hasOwnProperty("__value")?e.__value:e}function Ic(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return(0,kn.Z)((0,kn.Z)({},e),{},(0,zn.Z)({},n,t[r]))}),{})}function jc(e,t,n){return Ic(e,n.map((function(e,n){return null==e?Lc(t[n]):dr(e)?Oc(e):Cc(e)})))}var Dc=wc({key:"__waitForNone",get:function(e){return function(t){var n=Fn(kc(t.get,Rc(e)),2),r=n[0],i=n[1];return jc(e,r,i)}},dangerouslyAllowMutability:!0}),Fc=wc({key:"__waitForAny",get:function(e){return function(t){var n=Fn(kc(t.get,Rc(e)),2),r=n[0],i=n[1];return i.some((function(e){return!dr(e)}))?jc(e,r,i):new Promise((function(t){var n,o=er(i.entries());try{var a=function(){var o=Fn(n.value,2),a=o[0],s=o[1];dr(s)&&s.then((function(n){r[a]=Pc(n),i[a]=void 0,t(jc(e,r,i))})).catch((function(n){i[a]=n,t(jc(e,r,i))}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}))}},dangerouslyAllowMutability:!0}),zc=wc({key:"__waitForAll",get:function(e){return function(t){var n=Fn(kc(t.get,Rc(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return Ic(e,r);var o=i.find(Nc);if(null!=o)throw o;return Promise.all(i).then((function(t){return Ic(e,(n=r,i=t,i.map((function(e,t){return void 0===e?n[t]:e}))).map(Pc));var n,i}))}},dangerouslyAllowMutability:!0}),Uc=wc({key:"__waitForAllSettled",get:function(e){return function(t){var n=Fn(kc(t.get,Rc(e)),2),r=n[0],i=n[1];return i.every((function(e){return!dr(e)}))?jc(e,r,i):Promise.all(i.map((function(e,t){return dr(e)?e.then((function(e){r[t]=Pc(e),i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return jc(e,r,i)}))}},dangerouslyAllowMutability:!0}),Bc=wc({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Lc(n(e))}catch(r){return dr(r)?Oc(r):Cc(r)}}},dangerouslyAllowMutability:!0}),Vc={waitForNone:Dc,waitForAny:Fc,waitForAll:zc,waitForAllSettled:Uc,noWait:Bc},Gc=Hi,Hc=Gi,Wc=Kr.DefaultValue,qc=Ra,Zc=Gr.isRecoilValue,Yc=ei.retentionZone,$c=ta.freshSnapshot,Xc={DefaultValue:Wc,RecoilRoot:qc,useRecoilBridgeAcrossReactRoots_UNSTABLE:tu,atom:uc,selector:qu,retentionZone:Yc,atomFamily:bc,selectorFamily:wc,constSelector:Sc,errorSelector:Mc,readOnlySelector:Ac,useRecoilValue:Vs,useRecoilValueLoadable:Gs,useRecoilState:Fs,useRecoilStateLoadable:zs,useSetRecoilState:qs,useResetRecoilState:Ws,useGetRecoilValueInfo_UNSTABLE:Js,useRetain:Hs,useRecoilCallback:js,useRecoilTransaction_UNSTABLE:Us,useGotoRecoilSnapshot:Is,useRecoilSnapshot:Ds,useRecoilTransactionObserver_UNSTABLE:Bs,useTransactionObservation_UNSTABLE:Ys,useSetUnvalidatedAtomValues_UNSTABLE:Zs,noWait:Vc.noWait,waitForNone:Vc.waitForNone,waitForAny:Vc.waitForAny,waitForAll:Vc.waitForAll,waitForAllSettled:Vc.waitForAllSettled,isRecoilValue:Zc,batchUpdates:Gc,setBatcher:Hc,snapshot_UNSTABLE:$c},Jc=Xc.DefaultValue,Kc=Xc.RecoilRoot,Qc=Xc.atom,el=Xc.selector,tl=Xc.useRecoilValue,nl=Xc.useRecoilValueLoadable,rl=Xc.useRecoilState,il=Xc.useSetRecoilState,ol=Xc.useResetRecoilState,al=Xc.useRecoilCallback,sl=Xc.useRecoilSnapshot,ul=Xc.waitForAll,cl=n(4984);var ll,dl=function(e){var t=e.level||1,n=e.action||"Undefined action";Ln.debug.printDebugLogs&&t>=Ln.debug.logLevel&&(console.group("".concat(n," | Level: ").concat(t)),console.dir(e.data),console.groupEnd())},fl=function(e,t,n){return{data:e,status:t,errorMsg:n}};function pl(e,t,n){return hl.apply(this,arguments)}function hl(){return(hl=Hn(or().mark((function e(t,n,r){var i,o,a,s;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)},e.next=4;break;case 4:return o=window.GetParentResourceName?window.GetParentResourceName():"npwd",e.next=7,fetch("https://".concat(o,"/").concat(t),i);case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,dl({data:{request:n,response:s},action:"fetchNui (".concat(t,")")}),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ml(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t,n){return t&&bl(e.prototype,t),n&&bl(e,n),e}function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.UPDATE_PICTURE="npwd:updateProfilePicture",e.SET_AVATAR="npwd:setAvatar"}(ll||(ll={}));var El,Sl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},Tl=i.createContext();function Ml(){return Sl}var Al=function(){function e(){yl(this,e),this.usedNamespaces={}}return xl(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Cl(){return El}var Ol={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sl=wl(wl({},Sl),e)}(e.options.react),function(e){El=e}(e)}};function Ll(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var kl={};function Nl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&kl[t[0]]||("string"===typeof t[0]&&(kl[t[0]]=new Date),Ll.apply(void 0,t))}function Rl(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function Pl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Nl("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))))}function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,i.useContext)(Tl)||{},o=r.i18n,a=r.defaultNS,s=n||o||Cl();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Al),!s){Nl("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},c=[u,{},!1];return c.t=u,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&Nl("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=jl(jl(jl({},Ml()),s.options.react),t),d=l.useSuspense,f=l.keyPrefix,p=e||a||s.options&&s.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(p);var h=(s.isInitialized||s.initializedStoreOnce)&&p.every((function(e){return Pl(e,s,l)}));function m(){return s.getFixedT(null,"fallback"===l.nsMode?p:p[0],f)}var v=(0,i.useState)(m),g=vl(v,2),y=g[0],b=g[1],x=(0,i.useRef)(!0);(0,i.useEffect)((function(){var e=l.bindI18n,t=l.bindI18nStore;function n(){x.current&&b(m)}return x.current=!0,h||d||Rl(s,p,(function(){x.current&&b(m)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){x.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,p.join()]);var _=(0,i.useRef)(!0);(0,i.useEffect)((function(){x.current&&!_.current&&b(m),_.current=!1}),[s]);var w=[y,s,h];if(w.t=y,w.i18n=s,w.ready=h,h)return w;if(!h&&!d)return w;throw new Promise((function(e){Rl(s,p,(function(){e()}))}))}var Fl=n(184),zl=(0,i.createContext)(null),Ul=function(e){var t=e.children,n=Fn((0,i.useState)(!1),2),r=n[0],o=n[1],a=Fn((0,i.useState)(null),2),s=a[0],u=a[1];return(0,Fl.jsx)(zl.Provider,{value:{alert:s,addAlert:function(e){u(e),o(!0)},handleClose:function(){o(!1)},isOpen:r},children:t})},Bl=function(){return(0,i.useContext)(zl)},Vl="soz_settings",Gl=new cl.Validator,Hl={type:"object",properties:{language:{$ref:"/SettingOption"},wallpaper:{$ref:"/SettingOption"},frame:{$ref:"/SettingOption"},theme:{$ref:"/SettingOption"},zoom:{$ref:"/SettingOption"},streamerMode:{type:"boolean"},ringtone:{$ref:"/SettingOption"},ringtoneVol:{type:"number"},notiSound:{$ref:"/SettingOption"},notiSoundVol:{type:"number"}},required:!0};Gl.addSchema({id:"/SettingOption",type:"object",properties:{label:{type:"string"},val:{type:"string"}},required:!0},"/SettingOption");var Wl=Qc({key:"settings",default:Ln.defaultSettings,effects_UNSTABLE:[function(e){return function(t){var n=t.setSelf,r=t.onSet,i=localStorage.getItem(e);if(i)try{(function(e){var t=JSON.parse(e);return Gl.validate(t,Hl).valid})(i)?n(JSON.parse(i)):(console.error("Settings Schema was invalid, applying default settings"),n(Ln.defaultSettings))}catch(o){console.error("Unable to parse JSON"),n(Ln.defaultSettings)}r((function(t){t instanceof Jc?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))}))}}(Vl)]}),ql=Qc({key:"customWallpaperState",default:!1}),Zl=function(){return rl(Wl)},Yl=function(){return rl(ql)},$l={visibility:Qc({key:"phoneVisibility",default:!1}),resourceConfig:Qc({key:"resourceConfig",default:null}),phoneTime:Qc({key:"phoneTime",default:null})},Xl=n(1845),Jl=(0,i.createContext)(null),Kl=function(e){var t=e.children,n=(0,i.useRef)();(0,i.useEffect)((function(){n.current=new Map}),[]);var r=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o){n.current||(n.current=new Map);var a=n.current.get(e);if(a)return a.howl.volume(t),a.howl.loop(r),i&&a.howl.play(),o({howl:a.howl,url:e});var s=new Xl.Howl({src:e,loop:r,volume:t,autoplay:i});n.current.set(e,{howl:s,volume:t}),s.once("load",(function(){o({howl:s,url:e})}));var u=function(t,n){o(null),console.error("Howler Error \n",n,"\nid: ",t,"\nsrc: ",e)};s.once("loaderror",u),s.once("playerror",u)}))}),[]),o=(0,i.useCallback)((function(e,t,i){var o=n.current.get(e),a=[];if(o)return n.current.forEach((function(t,n){var r=n===e,i=t.howl.playing(),o=t.howl.loop();if(!r&&o&&i){a.push(t);var s=t.howl.volume();t.howl.fade(s,.3*s,50)}})),void 0!==t&&o.howl.volume(t),void 0!==i&&o.howl.loop(i),o.howl.play(),void o.howl.once("end",(function(){a.forEach((function(e){e.howl.fade(e.howl.volume(),e.volume,50)})),a=void 0}));r(e,t,i,!0)}),[r]),a=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n.current.get(e);return null===r||void 0===r?void 0:r.howl.volume(t)}),[]),s=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n.current.get(e);return r.howl.loop(t),r.howl.loop()}),[]),u=(0,i.useCallback)((function(e){if(n.current){var t=n.current.get(e);null===t||void 0===t||t.howl.stop()}}),[]),c=(0,i.useCallback)((function(e){if(n.current){var t=n.current.get(e);return!!t&&(t.howl.stop(),t.howl.unload(),n.current.delete(e),!0)}}),[]),l=(0,i.useCallback)((function(e){return!!n.current&&!!n.current.get(e)}),[]),d=(0,i.useCallback)((function(e){if(!n.current)return!1;var t=n.current.get(e);return(null===t||void 0===t?void 0:t.howl.playing())||!1}),[]);return(0,Fl.jsx)(Jl.Provider,{value:{mount:r,play:o,stop:u,playing:d,remove:c,volume:a,loop:s,isMounted:l},children:t})},Ql=function(){return(0,i.useContext)(Jl)},ed={ringtone:function(e){return"media/ringtones/".concat(e||"pixel",".ogg")},notiSound:function(e){return"media/notifications/".concat(e||"online",".ogg")}},td=function(e,t,n){try{var r;return n?{sound:ed[e]((null===(r=t["".concat(n,"_").concat(e)])||void 0===r?void 0:r.value)||t[e].value),volume:(t["".concat(n,"_").concat(e,"Vol")]||t["".concat(e,"Vol")])/100}:{sound:ed[e](t[e].value),volume:t["".concat(e,"Vol")]/100}}catch(i){return console.error("getSoundSettings.ts error",i,"Using default sounds"),{sound:ed[e](),volume:0}}},nd=(0,i.createContext)(null);function rd(e){var t=e.children,n=tl($l.visibility),r=Fn(Zl(),1)[0],o=Fn((0,i.useState)(!1),2),a=o[0],s=o[1],u=Fn((0,i.useState)([]),2),c=u[0],l=u[1],d=Ql(),f=d.mount,p=d.play,h=(0,i.useRef)(),m=Fn((0,i.useState)([]),2),v=m[0],g=m[1],y=Fn((0,i.useState)(),2),b=y[0],x=y[1];(0,i.useEffect)((function(){n&&b&&!b.keepWhenPhoneClosed&&b.resolve()}),[n,b]);var _=(0,i.useCallback)((function(e,t){l((function(n){var r=In(n);return r.splice(e,1,t),r}))}),[]),w=(0,i.useCallback)((function(e){l((function(t){return[e].concat(In(t))}))}),[]),E=(0,i.useCallback)((function(e){return c.findIndex((function(t){return t.app===e}))}),[c]),S=(0,i.useCallback)((function(e){return c.find((function(t){return t.id===e}))||null}),[c]),T=(0,i.useCallback)((function(e,t,n){return new Promise((function(r){var i=function(){null===t||void 0===t||t(e),r()},o=function(t){return function(){null===t||void 0===t||t(e),clearTimeout(h.current),i()}};x((0,kn.Z)((0,kn.Z)({},e),{},{resolve:i,onClickAlert:o(e.onClick),onCloseAlert:o(e.onClose)})),e.sound&&n&&p(n),e.keepWhenPhoneClosed||(h.current=setTimeout((function(){i()}),3300))}))}),[p]);(0,i.useEffect)((function(){!b&&v.length&&T.apply(void 0,In(v[0])).then((function(){g((function(e){var t=e;return e.shift(),t})),x(null)}))}),[T,v,b]);var M=(0,i.useMemo)((function(){return c.reduce((function(e,t){var n=e.findIndex((function(e){return e.key===t.app}));return-1!==n?(e[n].badge++,e):(e.unshift({key:t.app,icon:t.notificationIcon,badge:1}),e)}),[])}),[c]);return(0,Fl.jsx)(nd.Provider,{value:{setBarUncollapsed:s,barUncollapsed:a,currentAlert:b,notifications:c,removeAlerts:function(){g([]),x(null)},addNotification:w,removeNotification:function(e){l((function(t){var n=t;return n.splice(e,1),In(n)}))},updateId:function(e,t){var n=c.findIndex((function(t){return t.id===e}));if(-1!==n){var r=(0,kn.Z)((0,kn.Z)({},c[n]),t);_(n,r)}},removeId:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))},hasNotification:S,hasAppNotification:E,addNotificationAlert:function(e,t){if(e.sound){var n=td("notiSound",r,e.app),i=n.sound,o=n.volume;f(i,o,!1).then((function(n){var r=n.url;return g((function(n){return[].concat(In(n),[[e,t,r]])}))}))}else g((function(n){return[].concat(In(n),[[e,t,void 0]])}))},icons:M,count:c.length},children:t})}var id=function(e){var t=e.children,n=e.className,r=de("/").isExact;return(0,Fl.jsx)("div",{className:"".concat(!r&&"bg-black"," p-0 m-0 relative flex flex-col h-full w-full min-h-[720px] ").concat(n),children:t})};var od=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"}))};var ad=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))};var sd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))};var ud=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))};var cd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"}))};var ld=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"}))};var dd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))};var fd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}))};var pd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))};var hd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))};var md=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"}))};var vd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))};var gd,yd,bd=function(e){var t=Object.assign({},e);return(0,Fl.jsx)("div",(0,kn.Z)((0,kn.Z)({},t),{},{className:"flex flex-col justify-center items-center h-full min-h-[720px]",children:(0,Fl.jsx)(dd,{className:"animate-spin text-white h-20 w-20"})}))},xd=["children","paperStyle","backdrop","disableSuspenseHandler","onClickBackdrop"],_d=function(e){var t=e.children,n=(e.paperStyle,e.backdrop,e.disableSuspenseHandler),r=(e.onClickBackdrop,Bn(e,xd));return(0,Fl.jsx)("div",(0,kn.Z)((0,kn.Z)({className:"mt-4"},r),{},{children:n?{children:t}:(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:t})}))},wd={currentCall:Qc({key:"currentCall",default:null}),callModal:Qc({key:"callingModal",default:!1}),callDuration:Qc({key:"callDuration",default:{ms:0,s:0,m:0,h:0}})};!function(e){e[e.DECLINED=0]="DECLINED",e[e.BUSY_LINE=1]="BUSY_LINE"}(gd||(gd={})),function(e){e.INITIALIZE_CALL="npwd:beginCall",e.START_CALL="npwd:startCall",e.ACCEPT_CALL="npwd:acceptCall",e.END_CALL="npwd:endCall",e.WAS_ENDED="npwd:callEnded",e.WAS_ACCEPTED="npwd:callAccepted",e.REJECTED="npwd:rejectCall",e.WAS_REJECTED="npwd:callRejected",e.FETCH_CALLS="npwd:fetchCalls",e.SET_CALLER="npwd:setCaller",e.SET_CALL_MODAL="npwd:callModal",e.SEND_ALERT="npwd:callSetAlert"}(yd||(yd={}));var Ed={number:Qc({key:"simcardNumber",default:null}),societyNumber:Qc({key:"societySimcardNumber",default:null}),avatar:Qc({key:"avatar",default:null})},Sd=function(){return tl(Ed.number)},Td=function(){var e=Fn(rl(wd.currentCall),2),t=e[0],n=e[1],r=Sd(),o=Fn(Dl(),1)[0],a=Bl().addAlert,s=(0,i.useCallback)((function(e){if(r===e)return a({message:o("CALLS.FEEDBACK.ERROR_MYSELF"),type:"error"});pl(yd.INITIALIZE_CALL,{receiverNumber:e}).then((function(e){"error"===e.status&&(a({message:o("CALLS.FEEDBACK.ERROR"),type:"error"}),console.error(e.errorMsg))}))}),[a,r,o]),u=(0,i.useCallback)((function(){pl(yd.ACCEPT_CALL,{transmitterNumber:t.transmitter})}),[t]),c=(0,i.useCallback)((function(){pl(yd.REJECTED,{transmitterNumber:t.transmitter})}),[t]),l=(0,i.useCallback)((function(){pl(yd.END_CALL,{transmitterNumber:t.transmitter,isTransmitter:t.transmitter===r})}),[t,r]);return{call:t,setCall:n,acceptCall:u,rejectCall:c,endCall:l,initializeCall:s}},Md=function(){var e=(0,i.useRef)(),t=Fn((0,i.useState)(0),2),n=t[0],r=t[1],o=function(){e.current&&(clearInterval(e.current),e.current=void 0)},a=function(){e.current||(e.current=setInterval((function(){return r((function(e){return e+1}))}),1e3))};return(0,i.useEffect)((function(){return a(),o}),[]),(0,kn.Z)((0,kn.Z)({},function(e){var t=Math.ceil(e),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60);return{seconds:Math.floor(t%60),minutes:r,hours:n}}(n)),{},{startTimer:a,resetTimer:function(){o()}})},Ad=function(e){return e<10?"0".concat(e):e},Cd=function(){var e=Md(),t=e.seconds,n=e.hours,r=e.minutes;return(0,Fl.jsx)("div",{className:"flex flex-col justify-center items-center text-gray-300",children:(0,Fl.jsx)("div",{className:"font-light",children:"".concat(Ad(n),":").concat(Ad(r),":").concat(Ad(t))})})},Od=function(){var e=Fn(rl(wd.callModal),2);return{modal:e[0],setModal:e[1]}};var Ld=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"}))};var kd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M6.707 4.879A3 3 0 018.828 4H15a3 3 0 013 3v6a3 3 0 01-3 3H8.828a3 3 0 01-2.12-.879l-4.415-4.414a1 1 0 010-1.414l4.414-4.414zm4 2.414a1 1 0 00-1.414 1.414L10.586 10l-1.293 1.293a1 1 0 101.414 1.414L12 11.414l1.293 1.293a1 1 0 001.414-1.414L13.414 10l1.293-1.293a1 1 0 00-1.414-1.414L12 8.586l-1.293-1.293z",clipRule:"evenodd"}))};var Nd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"}))};var Rd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}))};var Pd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"}))};var Id=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))};var jd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"}))};var Dd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))};var Fd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}))};var zd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),i.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))};var Ud=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M14.414 7l3.293-3.293a1 1 0 00-1.414-1.414L13 5.586V4a1 1 0 10-2 0v4.003a.996.996 0 00.617.921A.997.997 0 0012 9h4a1 1 0 100-2h-1.586z"}),i.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Bd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}),i.createElement("path",{d:"M16.707 3.293a1 1 0 010 1.414L15.414 6l1.293 1.293a1 1 0 01-1.414 1.414L14 7.414l-1.293 1.293a1 1 0 11-1.414-1.414L12.586 6l-1.293-1.293a1 1 0 011.414-1.414L14 4.586l1.293-1.293a1 1 0 011.414 0z"}))};var Vd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M17.924 2.617a.997.997 0 00-.215-.322l-.004-.004A.997.997 0 0017 2h-4a1 1 0 100 2h1.586l-3.293 3.293a1 1 0 001.414 1.414L16 5.414V7a1 1 0 102 0V3a.997.997 0 00-.076-.383z"}),i.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Gd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Hd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}))};var Wd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}))};var qd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))};var Zd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"}))};var Yd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))};var $d=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}))};var Xd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z",clipRule:"evenodd"}))};var Jd=function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),i.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"}))};var Kd,Qd,ef=function(e){e.isSmall;var t=ue(),n=Od().setModal,r=Td(),i=r.call,o=r.endCall,a=r.acceptCall,s=r.rejectCall;return null!==i&&void 0!==i&&i.is_accepted||null!==i&&void 0!==i&&i.isTransmitter?(0,Fl.jsx)("div",{className:"absolute bottom-40 inset-x-0 flex justify-center",children:(0,Fl.jsx)(Gd,{className:"h-20 w-20 rotate-[140deg] text-white p-4 bg-red-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),n(!1),o()}})}):(0,Fl.jsxs)("div",{className:"absolute bottom-40 inset-x-0 flex justify-around",children:[(0,Fl.jsx)(Gd,{className:"h-20 w-20 rotate-[140deg] text-white p-4 bg-red-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),n(!1),s()}}),(0,Fl.jsx)(Gd,{className:"h-20 w-20 text-white p-4 bg-green-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),t.push("/call"),a()}})]})};!function(e){e[e.number=20]="number",e[e.display=255]="display"}(Kd||(Kd={})),function(e){e.GET_CONTACTS="npwd:getContacts",e.ADD_CONTACT="npwd:addContacts",e.UPDATE_CONTACT="npwd:updateContact",e.DELETE_CONTACT="npwd:deleteContact",e.ADD_CONTACT_EXPORT="npwd:addContactExport"}(Qd||(Qd={}));var tf=[{id:1,display:"Ruqen",number:"555-15196"},{id:2,display:"Taso",number:"215-8139",avatar:"http://i.tasoagc.dev/i9Ig"},{id:3,display:"Chip",number:"603-275-8373",avatar:"http://i.tasoagc.dev/2QYV"},{id:4,display:"Kidz",number:"444-4444"}],nf={contacts:Qc({key:"contactsList",default:el({key:"contactsListDefault",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(Qd.GET_CONTACTS,void 0,fl(tf));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),filterInput:Qc({key:"filterInput",default:""}),filteredContacts:el({key:"filteredContacts",get:function(e){var t=e.get,n=t(nf.filterInput),r=t(nf.contacts),i=[];if(n){var o=new RegExp(n,"gi");r=r.filter((function(e){return e.display.match(o)||e.number.match(o)}))}return r.forEach((function(e){void 0===i[e.display[0]]&&(i[e.display[0]]=[]),i[e.display[0]].push(e)})),i}})},rf=function(){return tl(nf.filteredContacts)},of=function(){var e=il(nf.contacts),t=al((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(nf.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return e;var o=i.find((function(t){return t.number===e}));return o?o.display:e}}),[]),n=al((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(nf.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o=i.find((function(t){return t.number===e}));return o?o.avatar:null}}),[]),r=al((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(nf.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=er(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.number===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[]),i=al((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(nf.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=er(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.id===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[]),o=al((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(nf.contacts).state)return null;e((function(e){return In(e).filter((function(e){return e.id!==t}))}))}}),[]),a=al((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(nf.contacts).state)return null;e((function(e){return[].concat(In(e),[t])}))}}),[]);return{getDisplayByNumber:t,getContact:i,getContactByNumber:r,getPictureByNumber:n,deleteLocalContact:o,updateLocalContact:al((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(nf.contacts).state)return null;e((function(e){var n=e.findIndex((function(e){return e.id===t.id})),r=In(e);return r[n]=t,r}))}}),[]),addLocalContact:a}},af=function(){var e=Td().call,t=of(),n=t.getDisplayByNumber,r=t.getPictureByNumber;return(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center mt-24 text-white",children:[(0,Fl.jsx)("div",{className:"bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(e.isTransmitter?r(e.receiver):r(null===e||void 0===e?void 0:e.transmitter),")")}}),(0,Fl.jsx)("div",{className:"text-3xl font-light",children:e.isTransmitter?n(null===e||void 0===e?void 0:e.receiver):n(null===e||void 0===e?void 0:e.transmitter)})]})},sf=function(){var e=Fn(Dl(),1)[0],t=Fn((0,i.useState)(e("CALLS.MESSAGES.RINGING")),2),n=t[0],r=t[1],o=Fn((0,i.useState)(0),2),a=o[0],s=o[1];return(0,i.useEffect)((function(){var t=setInterval((function(){a<3?(s(a+1),r(n+".")):(r(e("CALLS.MESSAGES.RINGING")),s(0))}),500);return function(){return clearInterval(t)}}),[a,n,e]),(0,Fl.jsx)("div",{className:"flex flex-col justify-center items-center text-gray-300",children:(0,Fl.jsx)("div",{className:"font-light",children:n})})},uf=function(){var e=Td().call;return e?(0,Fl.jsx)(id,{className:"bg-black bg-opacity-30 backdrop-blur",children:(0,Fl.jsx)(_d,{className:"z-40 h-full",children:(0,Fl.jsxs)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:[(0,Fl.jsx)(af,{}),null!==e&&void 0!==e&&e.is_accepted?(0,Fl.jsx)(Cd,{}):(null===e||void 0===e?void 0:e.isTransmitter)&&(0,Fl.jsx)(sf,{}),(0,Fl.jsx)(ef,{})]})})}):null},cf=function(){var e=(0,i.useContext)(nd);if(!e)throw new Error("useNotifications must be wrapped by NotificationsProvider");return e},lf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){return(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)("div",(0,kn.Z)({},t)),children:(0,Fl.jsx)(e,(0,kn.Z)({},t))})}},df=function(e){var t=e.app,n=e.title,r=e.isBigHeader,i=e.action,o=e.children,a=Fn(Dl(),1)[0];return(0,Fl.jsx)("div",{className:"".concat(r?"h-32":"h-24"," absolute -top-16 inset-x-0 bg-black px-5 pt-12 transition-all duration-300 ease-in-out z-30"),children:(0,Fl.jsxs)("h2",{className:"grid grid-cols-4 text-gray-200 ".concat(r?"pt-8 text-3xl":"pt-3 text-2xl"," ").concat(o&&"text-xl"," font-semibold tracking-wide transition-all duration-300 ease-in-out"),children:[o&&(0,Fl.jsx)("div",{className:"flex items-center text-[#347DD9]",children:o}),(0,Fl.jsx)("div",{className:"".concat(o||i?"col-span-2 text-center":"col-span-4 text-left"," "),children:n||a(t.nameLocale)}),i&&(0,Fl.jsx)("div",{className:"justify-self-end text-[#347DD9]",children:i})]})})},ff=n(7892),pf=n.n(ff);function hf(e){var t=[];return e.forEach((function(e){var n=pf()(e.start).format("DD/MM/YYYY");void 0===t[n]&&(t[n]=[]),t[n].push(e)})),t}var mf,vf,gf,yf={history:Qc({key:"dialHistory",default:el({key:"dialHistoryDefault",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(yd.FETCH_CALLS);case 3:return t=e.sent,dl({action:yd.FETCH_CALLS,data:t.data}),e.abrupt("return",hf(t.data));case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})})};function bf(){return bf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}function xf(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wf(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return _f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_f(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Ef(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"===typeof n?n.apply(void 0,i):n}var a=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(a,Ef),a}function Sf(e){var t=e.props,n=e.slot,r=e.defaultTag,i=e.features,o=e.visible,a=void 0===o||o,s=e.name;if(a)return Tf(t,n,r,s);var u=null!=i?i:mf.None;if(u&mf.Static){var c=t.static,l=void 0!==c&&c,d=xf(t,["static"]);if(l)return Tf(d,n,r,s)}if(u&mf.RenderStrategy){var f,p=t.unmount,h=void 0===p||p,m=xf(t,["unmount"]);return Ef(h?vf.Unmount:vf.Hidden,((f={})[vf.Unmount]=function(){return null},f[vf.Hidden]=function(){return Tf(bf({},m,{hidden:!0,style:{display:"none"}}),n,r,s)},f))}return Tf(t,n,r,s)}function Tf(e,t,n,r){var o;void 0===t&&(t={});var a=Af(e,["unmount","static"]),s=a.as,u=void 0===s?n:s,c=a.children,l=a.refName,d=void 0===l?"ref":l,f=xf(a,["as","children","refName"]),p=void 0!==e.ref?((o={})[d]=e.ref,o):{},h="function"===typeof c?c(t):c;if(f.className&&"function"===typeof f.className&&(f.className=f.className(t)),u===i.Fragment&&Object.keys(f).length>0){if(!(0,i.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+r+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(f).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return(0,i.cloneElement)(h,Object.assign({},function(e,t,n){for(var r,i=Object.assign({},e),o=function(){var n,o=r.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(i,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))},a=wf(n);!(r=a()).done;)o();return i}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(Af(f,["ref"])),h.props,["onClick"]),p))}return(0,i.createElement)(u,Object.assign({},Af(f,["ref"]),u!==i.Fragment&&p),h)}function Mf(e){var t;return Object.assign((0,i.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Af(e,t){void 0===t&&(t=[]);for(var n,r=Object.assign({},e),i=wf(t);!(n=i()).done;){var o=n.value;o in r&&delete r[o]}return r}function Cf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,i.useRef)(t);return(0,i.useEffect)((function(){r.current=t}),[t]),(0,i.useCallback)((function(e){for(var t,n=wf(r.current);!(t=n()).done;){var i=t.value;null!=i&&("function"===typeof i?i(e):i.current=e)}}),[r])}function Of(e){for(var t,n,r=e.parentElement,i=null;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(i=r),r=r.parentElement;var o=null!=(t=""===(null==(n=r)?void 0:n.getAttribute("disabled")))&&t;return(!o||!function(e){if(!e)return!1;var t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(i))&&o}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(mf||(mf={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(vf||(vf={})),function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(gf||(gf={}));var Lf="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,kf={serverHandoffComplete:!1};function Nf(){var e=(0,i.useState)(kf.serverHandoffComplete),t=e[0],n=e[1];return(0,i.useEffect)((function(){!0!==t&&n(!0)}),[t]),(0,i.useEffect)((function(){!1===kf.serverHandoffComplete&&(kf.serverHandoffComplete=!0)}),[]),t}var Rf=0;function Pf(){return++Rf}function If(){var e=Nf(),t=(0,i.useState)(e?Pf:null),n=t[0],r=t[1];return Lf((function(){null===n&&r(Pf())}),[n]),null!=n?""+n:void 0}var jf,Df,Ff,zf,Uf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function Bf(e){null==e||e.focus({preventScroll:!0})}function Vf(e,t){var n=Array.isArray(e)?e.slice().sort((function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})):function(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(Uf))}(e),r=document.activeElement,i=function(){if(t&(jf.First|jf.Next))return Ff.Next;if(t&(jf.Previous|jf.Last))return Ff.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(t&jf.First)return 0;if(t&jf.Previous)return Math.max(0,n.indexOf(r))-1;if(t&jf.Next)return Math.max(0,n.indexOf(r))+1;if(t&jf.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=t&jf.NoScroll?{preventScroll:!0}:{},s=0,u=n.length,c=void 0;do{var l;if(s>=u||s+u<=0)return Df.Error;var d=o+s;if(t&jf.WrapAround)d=(d+u)%u;else{if(d<0)return Df.Underflow;if(d>=u)return Df.Overflow}null==(l=c=n[d])||l.focus(a),s+=i}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),Df.Success}function Gf(e,t,n){var r=(0,i.useRef)(t);r.current=t,(0,i.useEffect)((function(){function t(e){r.current.call(window,e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(jf||(jf={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(Df||(Df={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(Ff||(Ff={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(zf||(zf={}));var Hf,Wf,qf,Zf,Yf,$f=(0,i.createContext)(null);function Xf(){return(0,i.useContext)($f)}function Jf(e){var t=e.value,n=e.children;return i.createElement($f.Provider,{value:t},n)}function Kf(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"===typeof n&&"button"===n.toLowerCase()?"button":void 0}function Qf(e,t){var n=(0,i.useState)((function(){return Kf(e)})),r=n[0],o=n[1];return Lf((function(){o(Kf(e))}),[e.type,e.as]),Lf((function(){r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[r,t]),r}function ep(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=wf(e.splice(0));!(t=n()).done;){var r=t.value;r()}}};return t}function tp(){var e=(0,i.useState)(ep)[0];return(0,i.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}function np(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(e.focus){case Wf.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case Wf.Previous:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case Wf.Next:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case Wf.Last:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case Wf.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case Wf.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?r:o}$f.displayName="OpenClosedContext",function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Hf||(Hf={})),function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Wf||(Wf={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Zf||(Zf={})),function(e){e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem"}(Yf||(Yf={}));var rp=((qf={})[Yf.CloseMenu]=function(e){return e.menuState===Zf.Closed?e:bf({},e,{activeItemIndex:null,menuState:Zf.Closed})},qf[Yf.OpenMenu]=function(e){return e.menuState===Zf.Open?e:bf({},e,{menuState:Zf.Open})},qf[Yf.GoToItem]=function(e,t){var n=np(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:bf({},e,{searchQuery:"",activeItemIndex:n})},qf[Yf.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),r=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===r||r===e.activeItemIndex?bf({},e,{searchQuery:n}):bf({},e,{searchQuery:n,activeItemIndex:r})},qf[Yf.ClearSearch]=function(e){return""===e.searchQuery?e:bf({},e,{searchQuery:""})},qf[Yf.RegisterItem]=function(e,t){return bf({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},qf[Yf.UnregisterItem]=function(e,t){var n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),bf({},e,{items:n,activeItemIndex:i===e.activeItemIndex||null===r?null:n.indexOf(r)})},qf),ip=(0,i.createContext)(null);function op(e){var t=(0,i.useContext)(ip);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+up.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,op),n}return t}function ap(e,t){return Ef(t.type,rp,e,t)}ip.displayName="MenuContext";var sp=i.Fragment;function up(e){var t,n=(0,i.useReducer)(ap,{menuState:Zf.Closed,buttonRef:(0,i.createRef)(),itemsRef:(0,i.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),r=n[0],o=r.menuState,a=r.itemsRef,s=r.buttonRef,u=n[1];Gf("mousedown",(function(e){var t,n,r,i=e.target;o===Zf.Open&&((null==(t=s.current)?void 0:t.contains(i))||(null==(n=a.current)?void 0:n.contains(i))||(u({type:Yf.CloseMenu}),function(e,t){var n;return void 0===t&&(t=zf.Strict),e!==document.body&&Ef(t,((n={})[zf.Strict]=function(){return e.matches(Uf)},n[zf.Loose]=function(){for(var t=e;null!==t;){if(t.matches(Uf))return!0;t=t.parentElement}return!1},n))}(i,zf.Loose)||(e.preventDefault(),null==(r=s.current)||r.focus())))}));var c=(0,i.useMemo)((function(){return{open:o===Zf.Open}}),[o]);return i.createElement(ip.Provider,{value:n},i.createElement(Jf,{value:Ef(o,(t={},t[Zf.Open]=Hf.Open,t[Zf.Closed]=Hf.Closed,t))},Sf({props:e,slot:c,defaultTag:sp,name:"Menu"})))}var cp,lp=Mf((function e(t,n){var r,o=op([up.name,e.name].join(".")),a=o[0],s=o[1],u=Cf(a.buttonRef,n),c="headlessui-menu-button-"+If(),l=tp(),d=(0,i.useCallback)((function(e){switch(e.key){case gf.Space:case gf.Enter:case gf.ArrowDown:e.preventDefault(),e.stopPropagation(),s({type:Yf.OpenMenu}),l.nextFrame((function(){return s({type:Yf.GoToItem,focus:Wf.First})}));break;case gf.ArrowUp:e.preventDefault(),e.stopPropagation(),s({type:Yf.OpenMenu}),l.nextFrame((function(){return s({type:Yf.GoToItem,focus:Wf.Last})}))}}),[s,l]),f=(0,i.useCallback)((function(e){if(e.key===gf.Space)e.preventDefault()}),[]),p=(0,i.useCallback)((function(e){if(Of(e.currentTarget))return e.preventDefault();t.disabled||(a.menuState===Zf.Open?(s({type:Yf.CloseMenu}),l.nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),s({type:Yf.OpenMenu})))}),[s,l,a,t.disabled]),h=(0,i.useMemo)((function(){return{open:a.menuState===Zf.Open}}),[a]);return Sf({props:bf({},t,{ref:u,id:c,type:Qf(t,a.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=a.itemsRef.current)?void 0:r.id,"aria-expanded":t.disabled?void 0:a.menuState===Zf.Open,onKeyDown:d,onKeyUp:f,onClick:p}),slot:h,defaultTag:"button",name:"Menu.Button"})})),dp=mf.RenderStrategy|mf.Static,fp=Mf((function e(t,n){var r,o,a=op([up.name,e.name].join(".")),s=a[0],u=a[1],c=Cf(s.itemsRef,n),l="headlessui-menu-items-"+If(),d=tp(),f=Xf(),p=null!==f?f===Hf.Open:s.menuState===Zf.Open;(0,i.useEffect)((function(){var e=s.itemsRef.current;e&&s.menuState===Zf.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[s.menuState,s.itemsRef]),function(e){var t=e.container,n=e.accept,r=e.walk,o=e.enabled,a=void 0===o||o,s=(0,i.useRef)(n),u=(0,i.useRef)(r);(0,i.useEffect)((function(){s.current=n,u.current=r}),[n,r]),Lf((function(){if(t&&a)for(var e=s.current,n=u.current,r=Object.assign((function(t){return e(t)}),{acceptNode:e}),i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,r,!1);i.nextNode();)n(i.currentNode)}),[t,a,s,u])}({container:s.itemsRef.current,enabled:s.menuState===Zf.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var h=(0,i.useCallback)((function(e){switch(d.dispose(),e.key){case gf.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),u({type:Yf.Search,value:e.key});case gf.Enter:if(e.preventDefault(),e.stopPropagation(),u({type:Yf.CloseMenu}),null!==s.activeItemIndex){var t,n=s.items[s.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}ep().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case gf.ArrowDown:return e.preventDefault(),e.stopPropagation(),u({type:Yf.GoToItem,focus:Wf.Next});case gf.ArrowUp:return e.preventDefault(),e.stopPropagation(),u({type:Yf.GoToItem,focus:Wf.Previous});case gf.Home:case gf.PageUp:return e.preventDefault(),e.stopPropagation(),u({type:Yf.GoToItem,focus:Wf.First});case gf.End:case gf.PageDown:return e.preventDefault(),e.stopPropagation(),u({type:Yf.GoToItem,focus:Wf.Last});case gf.Escape:e.preventDefault(),e.stopPropagation(),u({type:Yf.CloseMenu}),ep().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case gf.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(u({type:Yf.Search,value:e.key}),d.setTimeout((function(){return u({type:Yf.ClearSearch})}),350))}}),[u,d,s]),m=(0,i.useCallback)((function(e){if(e.key===gf.Space)e.preventDefault()}),[]),v=(0,i.useMemo)((function(){return{open:s.menuState===Zf.Open}}),[s]);return Sf({props:bf({},t,{"aria-activedescendant":null===s.activeItemIndex||null==(r=s.items[s.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(o=s.buttonRef.current)?void 0:o.id,id:l,onKeyDown:h,onKeyUp:m,role:"menu",tabIndex:0,ref:c}),slot:v,defaultTag:"div",features:dp,visible:p,name:"Menu.Items"})})),pp=i.Fragment;function hp(){var e=(0,i.useRef)(!1);return(0,i.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function mp(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function vp(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}function gp(e,t,n,r,i,o){var a=ep(),s=void 0!==o?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(o):function(){};return vp.apply(void 0,[e].concat(i)),mp.apply(void 0,[e].concat(t,n)),a.nextFrame((function(){vp.apply(void 0,[e].concat(n)),mp.apply(void 0,[e].concat(r)),a.add(function(e,t){var n=ep();if(!e)return n.dispose;var r=getComputedStyle(e),i=[r.transitionDuration,r.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),n=t[0];return void 0===n?0:n})),o=i[0],a=i[1];return 0!==o?n.setTimeout((function(){t(cp.Finished)}),o+a):t(cp.Finished),n.add((function(){return t(cp.Cancelled)})),n.dispose}(e,(function(n){return vp.apply(void 0,[e].concat(r,t)),mp.apply(void 0,[e].concat(i)),s(n)})))})),a.add((function(){return vp.apply(void 0,[e].concat(t,n,r,i))})),a.add((function(){return s(cp.Cancelled)})),a.dispose}function yp(e){return void 0===e&&(e=""),(0,i.useMemo)((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}up.Button=lp,up.Items=fp,up.Item=function e(t){var n=t.disabled,r=void 0!==n&&n,o=t.onClick,a=xf(t,["disabled","onClick"]),s=op([up.name,e.name].join(".")),u=s[0],c=s[1],l="headlessui-menu-item-"+If(),d=null!==u.activeItemIndex&&u.items[u.activeItemIndex].id===l;Lf((function(){if(u.menuState===Zf.Open&&d){var e=ep();return e.nextFrame((function(){var e;return null==(e=document.getElementById(l))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[l,d,u.menuState]);var f=(0,i.useRef)({disabled:r});Lf((function(){f.current.disabled=r}),[f,r]),Lf((function(){var e,t;f.current.textValue=null==(e=document.getElementById(l))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[f,l]),Lf((function(){return c({type:Yf.RegisterItem,id:l,dataRef:f}),function(){return c({type:Yf.UnregisterItem,id:l})}}),[f,l]);var p=(0,i.useCallback)((function(e){return r?e.preventDefault():(c({type:Yf.CloseMenu}),ep().nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),o?o(e):void 0)}),[c,u.buttonRef,r,o]),h=(0,i.useCallback)((function(){if(r)return c({type:Yf.GoToItem,focus:Wf.Nothing});c({type:Yf.GoToItem,focus:Wf.Specific,id:l})}),[r,l,c]),m=(0,i.useCallback)((function(){r||d||c({type:Yf.GoToItem,focus:Wf.Specific,id:l})}),[r,d,l,c]),v=(0,i.useCallback)((function(){r||d&&c({type:Yf.GoToItem,focus:Wf.Nothing})}),[r,d,c]),g=(0,i.useMemo)((function(){return{active:d,disabled:r}}),[d,r]);return Sf({props:bf({},a,{id:l,role:"menuitem",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,disabled:void 0,onClick:p,onFocus:h,onPointerMove:m,onMouseMove:m,onPointerLeave:v,onMouseLeave:v}),slot:g,defaultTag:pp,name:"Menu.Item"})},function(e){e.Finished="finished",e.Cancelled="cancelled"}(cp||(cp={}));var bp,xp=(0,i.createContext)(null);xp.displayName="TransitionContext",function(e){e.Visible="visible",e.Hidden="hidden"}(bp||(bp={}));var _p=(0,i.createContext)(null);function wp(e){return"children"in e?wp(e.children):e.current.filter((function(e){return e.state===bp.Visible})).length>0}function Ep(e){var t=(0,i.useRef)(e),n=(0,i.useRef)([]),r=hp();(0,i.useEffect)((function(){t.current=e}),[e]);var o=(0,i.useCallback)((function(e,i){var o;void 0===i&&(i=vf.Hidden);var a=n.current.findIndex((function(t){return t.id===e}));-1!==a&&(Ef(i,((o={})[vf.Unmount]=function(){n.current.splice(a,1)},o[vf.Hidden]=function(){n.current[a].state=bp.Hidden},o)),!wp(n)&&r.current&&(null==t.current||t.current()))}),[t,r,n]),a=(0,i.useCallback)((function(e){var t=n.current.find((function(t){return t.id===e}));return t?t.state!==bp.Visible&&(t.state=bp.Visible):n.current.push({id:e,state:bp.Visible}),function(){return o(e,vf.Unmount)}}),[n,o]);return(0,i.useMemo)((function(){return{children:n,register:a,unregister:o}}),[a,o,n])}function Sp(){}_p.displayName="NestingContext";var Tp=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Mp(e){for(var t,n={},r=wf(Tp);!(t=r()).done;){var i,o=t.value;n[o]=null!=(i=e[o])?i:Sp}return n}var Ap=mf.RenderStrategy;function Cp(e){var t,n=e.beforeEnter,r=e.afterEnter,o=e.beforeLeave,a=e.afterLeave,s=e.enter,u=e.enterFrom,c=e.enterTo,l=e.entered,d=e.leave,f=e.leaveFrom,p=e.leaveTo,h=xf(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),m=(0,i.useRef)(null),v=(0,i.useState)(bp.Visible),g=v[0],y=v[1],b=h.unmount?vf.Unmount:vf.Hidden,x=function(){var e=(0,i.useContext)(xp);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),_=x.show,w=x.appear,E=x.initial,S=function(){var e=(0,i.useContext)(_p);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=S.register,M=S.unregister,A=If(),C=(0,i.useRef)(!1),O=Ep((function(){C.current||(y(bp.Hidden),M(A),D.current.afterLeave())}));Lf((function(){if(A)return T(A)}),[T,A]),Lf((function(){var e;b===vf.Hidden&&A&&(_&&g!==bp.Visible?y(bp.Visible):Ef(g,((e={})[bp.Hidden]=function(){return M(A)},e[bp.Visible]=function(){return T(A)},e)))}),[g,A,T,M,_,b]);var L=yp(s),k=yp(u),N=yp(c),R=yp(l),P=yp(d),I=yp(f),j=yp(p),D=function(e){var t=(0,i.useRef)(Mp(e));return(0,i.useEffect)((function(){t.current=Mp(e)}),[e]),t}({beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:a}),F=Nf();(0,i.useEffect)((function(){if(F&&g===bp.Visible&&null===m.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[m,g,F]);var z=E&&!w;Lf((function(){var e=m.current;if(e&&!z)return C.current=!0,_&&D.current.beforeEnter(),_||D.current.beforeLeave(),_?gp(e,L,k,N,R,(function(e){C.current=!1,e===cp.Finished&&D.current.afterEnter()})):gp(e,P,I,j,R,(function(e){C.current=!1,e===cp.Finished&&(wp(O)||(y(bp.Hidden),M(A),D.current.afterLeave()))}))}),[D,A,C,M,O,m,z,_,L,k,N,P,I,j]);var U={ref:m},B=h;return i.createElement(_p.Provider,{value:O},i.createElement(Jf,{value:Ef(g,(t={},t[bp.Visible]=Hf.Open,t[bp.Hidden]=Hf.Closed,t))},Sf({props:bf({},B,U),defaultTag:"div",features:Ap,visible:g===bp.Visible,name:"Transition.Child"})))}function Op(e){var t,n=e.show,r=e.appear,o=void 0!==r&&r,a=e.unmount,s=xf(e,["show","appear","unmount"]),u=Xf();void 0===n&&null!==u&&(n=Ef(u,((t={})[Hf.Open]=!0,t[Hf.Closed]=!1,t)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var c=(0,i.useState)(n?bp.Visible:bp.Hidden),l=c[0],d=c[1],f=Ep((function(){d(bp.Hidden)})),p=function(){var e=(0,i.useRef)(!0);return(0,i.useEffect)((function(){e.current=!1}),[]),e.current}(),h=(0,i.useMemo)((function(){return{show:n,appear:o||!p,initial:p}}),[n,o,p]);(0,i.useEffect)((function(){n?d(bp.Visible):wp(f)||d(bp.Hidden)}),[n,f]);var m={unmount:a};return i.createElement(_p.Provider,{value:f},i.createElement(xp.Provider,{value:h},Sf({props:bf({},m,{as:i.Fragment,children:i.createElement(Cp,Object.assign({},m,s))}),defaultTag:i.Fragment,features:Ap,visible:l===bp.Visible,name:"Transition"})))}Op.Child=function(e){var t=null!==(0,i.useContext)(xp),n=null!==Xf();return!t&&n?i.createElement(Op,Object.assign({},e)):i.createElement(Cp,Object.assign({},e))},Op.Root=Op;var Lp=function(e){var t=Object.assign({},e);return(0,Fl.jsx)("button",(0,kn.Z)((0,kn.Z)({"aria-label":"button"},t),{},{children:t.children}))},kp=n(130),Np=n.n(kp);pf().extend(Np());var Rp,Pp,Ip=function(){var e=Sd(),t=of(),n=t.getDisplayByNumber,r=t.getPictureByNumber,o=Td().initializeCall,a=tl(yf.history),s=rl(nf.contacts),u=ue(),c=Fn(Dl(),1)[0],l=(0,i.useCallback)((function(e){return s.length?n(e):e}),[s,n]);return 0===Object.keys(a).length?(0,Fl.jsx)("div",{className:"flex h-full justify-center items-center text-white",children:(0,Fl.jsx)("p",{children:c("DIALER.NO_HISTORY")})}):(0,Fl.jsx)("nav",{className:"pb-10 h-full overflow-y-auto","aria-label":"Directory",children:Object.keys(a).sort().map((function(t){return(0,Fl.jsxs)("div",{className:"relative",children:[(0,Fl.jsx)("div",{className:"sticky top-0 pt-4 bg-black px-6 py-1 text-sm font-medium text-gray-400",children:(0,Fl.jsx)("h3",{children:t})}),(0,Fl.jsx)("ul",{role:"list",className:"relative divide-y divide-gray-700",children:a[t].map((function(t){return(0,Fl.jsxs)(up,{as:"li",className:"bg-black w-full",children:[(0,Fl.jsx)(up.Button,{className:"w-full",children:(0,Fl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:[(0,Fl.jsx)("div",{className:"flex-shrink-0",children:r(t.transmitter===e?t.receiver:t.transmitter)?(0,Fl.jsx)("img",{className:"h-10 w-10 bg-gray-700 rounded-full",src:r(t.transmitter===e?t.receiver:t.transmitter),alt:""}):(0,Fl.jsx)("div",{className:"h-10 w-10 bg-gray-700 rounded-full"})}),(0,Fl.jsxs)("div",{className:"flex flex-1 min-w-0 cursor-pointer",children:[t.is_accepted?(0,Fl.jsx)(Bd,{className:"h-5 w-5 text-red-500 mr-3"}):t.transmitter===e?(0,Fl.jsx)(Vd,{className:"h-5 w-5 text-green-500 mr-3"}):(0,Fl.jsx)(Ud,{className:"h-5 w-5 text-green-700 mr-3"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:l(t.transmitter===e?t.receiver:t.transmitter)})]}),(0,Fl.jsx)("div",{className:"text-gray-500 text-sm",children:pf()(t.start).fromNow(!0)})]})}),(0,Fl.jsx)(Op,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)(up.Items,{className:"absolute z-30 right-0 w-64 mt-2 origin-top-right bg-white bg-opacity-20 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n=t.transmitter===e?t.receiver:t.transmitter,void o(n);var n},children:[(0,Fl.jsx)(Gd,{className:"mx-3 h-5 w-5"})," Appeler"]})}),l(t.receiver)===t.receiver&&e!==t.receiver&&(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return u.push("/contacts/-1?addNumber=".concat(t.receiver,"&referal=/phone/contacts"))},children:[(0,Fl.jsx)(Zd,{className:"mx-3 h-5 w-5"})," Ajouter le contact"]})}),l(t.transmitter)===t.transmitter&&e!==t.transmitter&&(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-500",onClick:function(){return u.push("/contacts/-1?addNumber=".concat(t.transmitter,"&referal=/phone/contacts"))},children:[(0,Fl.jsx)(Zd,{className:"mx-3 h-5 w-5"})," Ajouter le contact"]})})]})})]},t.id)}))})]},t)}))})},jp=(0,i.createContext)(null),Dp=function(e){var t=e.label,n=e.onClick,r=e.className;return(0,Fl.jsx)("button",{className:"flex justify-center items-center w-20 aspect-square m-2 bg-[#333333] hover:bg-[#444444] rounded-full cursor-pointer ".concat(r),onClick:n,children:(0,Fl.jsx)("span",{className:"text-3xl",children:t})})},Fp=function(){var e=Td().initializeCall,t=(0,i.useContext)(jp),n=t.add,r=t.removeOne,o=(0,i.useContext)(jp).inputVal;return(0,Fl.jsx)("div",{className:"text-white",children:(0,Fl.jsxs)("div",{className:"grid grid-cols-3 justify-items-center mx-8",children:[(0,Fl.jsx)(Dp,{label:1,onClick:function(){return n(1)}}),(0,Fl.jsx)(Dp,{label:2,onClick:function(){return n(2)}}),(0,Fl.jsx)(Dp,{label:3,onClick:function(){return n(3)}}),(0,Fl.jsx)(Dp,{label:4,onClick:function(){return n(4)}}),(0,Fl.jsx)(Dp,{label:5,onClick:function(){return n(5)}}),(0,Fl.jsx)(Dp,{label:6,onClick:function(){return n(6)}}),(0,Fl.jsx)(Dp,{label:7,onClick:function(){return n(7)}}),(0,Fl.jsx)(Dp,{label:8,onClick:function(){return n(8)}}),(0,Fl.jsx)(Dp,{label:9,onClick:function(){return n(9)}}),(0,Fl.jsx)(Dp,{label:"-",onClick:function(){return n("-")}}),(0,Fl.jsx)(Dp,{label:0,onClick:function(){return n(0)}}),(0,Fl.jsx)(Dp,{label:(0,Fl.jsx)(kd,{className:"h-8 w-8"}),onClick:r}),(0,Fl.jsx)(Dp,{label:(0,Fl.jsx)(Gd,{className:"h-8 w-8"}),onClick:function(){e(o)},className:"col-start-2 bg-[#2DD158] hover:bg-[#21B147]"})]})})};!function(e){e.OPEN_APP="npwd:openApp",e.OPEN_PHONE="npwd:open",e.CLOSE_PHONE="npwd:close",e.UNLOAD_CHARACTER="npwd:unloadCharacter",e.SET_VISIBILITY="npwd:setVisibility",e.ADD_SNACKBAR_ALERT="npwd:setSnackarAlert",e.SET_NUMBER="npwd:setNumber",e.SET_SOCIETY_NUMBER="npwd:setSocietyNumber",e.SET_PHONE_READY="npwd:phoneReady",e.SET_CONFIG="npwd:setPhoneConfig",e.SET_TIME="npwd:setGameTime",e.SEND_CREDENTIALS="npwd:sendCredentials",e.FETCH_CREDENTIALS="npwd:getCredentials",e.TOGGLE_KEYS="npwd:toggleAllControls",e.SET_PLAYER_LOADED="npwd:setPlayerLoaded"}(Rp||(Rp={})),function(e){e.SERVER_ERROR="GENERAL_SERVER_ERROR",e.DELETE_FAILED="DELETE_FAILED",e.ADD_FAILED="ADD_FAILED",e.UPDATE_FAILED="UPDATED_FAILED",e.FETCH_FAILED="FETCH_FAILED"}(Pp||(Pp={}));var zp=function(e){return pl(Rp.TOGGLE_KEYS,{keepGameFocus:e}).catch((function(e){return console.error(e)}))},Up=(0,i.forwardRef)((function(e,t){return(0,Fl.jsx)("input",(0,kn.Z)((0,kn.Z)({ref:t},e),{},{className:"w-full bg-[#1C1C1E] text-white rounded-lg py-1 px-3 focus:bg-opacity-70 focus:outline-none ".concat(e.className),onFocus:function(t){zp(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){zp(!0),e.onBlur&&e.onBlur(t)}}))})),Bp=(0,i.forwardRef)((function(e,t){return(0,Fl.jsx)("textarea",(0,kn.Z)((0,kn.Z)({ref:t},e),{},{className:"w-full h-full resize-none my-4 bg-[#1C1C1E] bg-opacity-50 text-white rounded-lg py-1 px-3 focus:bg-opacity-70 focus:outline-none ".concat(e.className),onFocus:function(t){zp(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){zp(!0),e.onBlur&&e.onBlur(t)}}))})),Vp=(0,i.forwardRef)((function(e,t){return(0,Fl.jsx)("input",(0,kn.Z)((0,kn.Z)({ref:t},e),{},{onFocus:function(t){zp(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){zp(!0),e.onBlur&&e.onBlur(t)}}))})),Gp=function(){var e=ue(),t=(0,i.useContext)(jp),n=t.inputVal,r=t.set;return(0,Fl.jsxs)("div",{className:"h-20 mb-20",children:[(0,Fl.jsx)("div",{className:"pt-10 h-full flex justify-center",children:(0,Fl.jsx)(Vp,{className:"bg-transparent w-2/4 text-white text-center text-3xl",value:n,onChange:function(e){return r(e.target.value)}})}),n.length>0&&(0,Fl.jsx)("p",{className:"text-center font-bold text-[#347DD9] cursor-pointer pt-2",onClick:function(){return t=n,void e.push("/contacts/-1/?addNumber=".concat(t,"&referal=/phone/contacts"));var t},children:"Ajouter le contact"})]})},Hp=n(2808),Wp=n.n(Hp);function qp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ce(),n=t.search;return(0,i.useMemo)((function(){var t=Wp().parse(n,{ignoreQueryPrefix:!0});return e?(0,kn.Z)((0,kn.Z)({},e),t):t}),[n,e])}var Zp=function(){var e=qp().number,t=Fn((0,i.useState)(e||""),2),n=t[0],r=t[1];return(0,Fl.jsx)("div",{children:(0,Fl.jsxs)(jp.Provider,{value:{inputVal:n,add:function(e){return r(n+e)},removeOne:function(){return r(n.slice(0,-1))},clear:function(){return r("")},set:function(e){return r(e)}},children:[(0,Fl.jsx)(Gp,{}),(0,Fl.jsx)(Fp,{})]})})},Yp=function(){var e=ce().pathname,t=ue(),n=Fn((0,i.useState)(e),2),r=n[0],o=n[1],a=Fn(Dl(),1)[0];return(0,Fl.jsxs)("div",{className:"grid grid-cols-3 content-start text-white bg-[#1C1C1E] h-20",children:[(0,Fl.jsxs)(Lp,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone"===r&&"text-[#347DD9]"),onClick:function(){o("/phone"),t.push("/phone")},children:[(0,Fl.jsx)(jd,{className:"w-5 h-5"})," ",a("DIALER.NAVBAR_HISTORY")]}),(0,Fl.jsxs)(Lp,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone/contacts"===r&&"text-[#347DD9]"),onClick:function(){o("/phone/contacts"),t.push("/phone/contacts")},children:[(0,Fl.jsx)(Yd,{className:"w-5 h-5"})," ",a("DIALER.NAVBAR_CONTACTS")]}),(0,Fl.jsxs)(Lp,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone/dial"===r&&"text-[#347DD9]"),onClick:function(){o("/phone/dial"),t.push("/phone/dial")},children:[(0,Fl.jsx)($d,{className:"w-5 h-5"})," ",a("DIALER.NAVBAR_DIAL")]})]})},$p={onChange:function(){},value:"",placeholder:"Search..."},Xp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$p,t=e.value,n=e.onChange,r=e.placeholder;return(0,Fl.jsx)("div",{className:"rounded-lg mx-3",children:(0,Fl.jsxs)("div",{className:"bg-[#1C1C1E] flex items-center rounded-lg",children:[(0,Fl.jsx)(pd,{className:"text-gray-500 ml-2 w-5 h-5"}),(0,Fl.jsx)(Up,{value:t,onChange:n,placeholder:r,className:"bg-[#1C1C1E]",inputProps:{"aria-label":"search"}})]})})},Jp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=(0,i.useState)(e),r=Fn(n,2),o=r[0],a=r[1];return(0,i.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o},Kp=function(){var e=Fn(Dl(),1)[0],t=il(nf.filterInput),n=Fn((0,i.useState)(""),2),r=n[0],o=n[1],a=Jp(r,500);return(0,i.useEffect)((function(){t(a)}),[a,t]),(0,Fl.jsx)("div",{children:(0,Fl.jsx)(Xp,{placeholder:e("CONTACTS.PLACEHOLDER_SEARCH_CONTACTS"),onChange:function(e){return o(e.target.value)},value:r})})},Qp=function(){var e=rf(),t=ue(),n=Td().initializeCall;return(0,Fl.jsxs)("div",{className:"mt-5",children:[(0,Fl.jsx)(Kp,{}),(0,Fl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(e).sort().map((function(r){return(0,Fl.jsxs)("div",{className:"relative",children:[(0,Fl.jsx)("div",{className:"sticky top-0 pt-4 bg-black px-6 py-1 text-sm font-medium text-gray-400",children:(0,Fl.jsx)("h3",{children:r})}),(0,Fl.jsx)("ul",{className:"relative divide-y divide-gray-700",children:e[r].map((function(e){return(0,Fl.jsxs)(up,{as:"li",className:"bg-black w-full",children:[(0,Fl.jsx)(up.Button,{className:"w-full",children:(0,Fl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:[(0,Fl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,Fl.jsx)("img",{className:"h-10 w-10 bg-gray-700 rounded-full",src:e.avatar,alt:""}):(0,Fl.jsx)("div",{className:"h-10 w-10 bg-gray-700 rounded-full"})}),(0,Fl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,Fl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:e.display})]})]})}),(0,Fl.jsx)(Op,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)(up.Items,{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-white bg-opacity-20 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return t=e.number,dl({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),void n(t);var t},children:[(0,Fl.jsx)(Gd,{className:"mx-3 h-5 w-5"})," Appeler"]})}),(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n=e.number,dl({action:"Routing to Message",level:1,data:{phoneNumber:n}}),void t.push("/messages/new?phoneNumber=".concat(n));var n},children:[(0,Fl.jsx)(Pd,{className:"mx-3 h-5 w-5"})," Message"]})}),(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-500",onClick:function(){return n=e.id,void t.push("/contacts/".concat(n));var n},children:[(0,Fl.jsx)(zd,{className:"mx-3 h-5 w-5"})," \xc9diter"]})})]})})]},e.id)}))})]},r)}))})]})},eh=function(){var e=zE("DIALER");return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e}),(0,Fl.jsx)(_d,{className:"mt-5 h-[710px]",children:(0,Fl.jsxs)(ae,{children:[(0,Fl.jsx)(ee,{path:"/phone/dial",children:(0,Fl.jsx)(Zp,{})}),(0,Fl.jsx)(ee,{exact:!0,path:"/phone",children:(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:(0,Fl.jsx)(Ip,{})})}),(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:(0,Fl.jsx)(ee,{path:"/phone/contacts",component:Qp})})]})}),(0,Fl.jsx)(Yp,{})]})})},th=function(){var e=zE("CONTACTS"),t=ue(),n=le().id,r=qp({referal:"/contacts"}),o=r.addNumber,a=r.referal,s=r.avatar,u=r.name,c=of().getContact,l=function(){var e=Bl().addAlert,t=Fn(Dl(),1)[0],n=of(),r=n.addLocalContact,o=n.updateLocalContact,a=n.deleteLocalContact,s=ue(),u=(0,i.useCallback)((function(n,i){var o=n.display,a=n.number,u=n.avatar;pl(Qd.ADD_CONTACT,{display:o,number:a,avatar:u}).then((function(n){if("ok"!==n.status)return e({message:t("CONTACTS.FEEDBACK.ADD_FAILED"),type:"error"});r(n.data),e({message:t("CONTACTS.FEEDBACK.ADD_SUCCESS"),type:"success"}),s.replace(i)}))}),[e,r,s,t]),c=(0,i.useCallback)((function(n){var r=n.id,i=n.display,a=n.number,u=n.avatar;pl(Qd.UPDATE_CONTACT,{id:r,display:i,number:a,avatar:u}).then((function(n){if("ok"!==n.status)return e({message:t("CONTACTS.FEEDBACK.UPDATE_FAILED"),type:"error"});o({id:r,display:i,number:a,avatar:u}),e({message:t("CONTACTS.FEEDBACK.UPDATE_SUCCESS"),type:"success"}),s.goBack()}))}),[e,s,t,o]),l=(0,i.useCallback)((function(n){var r=n.id;pl(Qd.DELETE_CONTACT,{id:r}).then((function(n){if("ok"!==n.status)return e({message:t("CONTACTS.FEEDBACK.DELETE_FAILED"),type:"error"});s.goBack(),a(r),e({message:t("CONTACTS.FEEDBACK.DELETE_SUCCESS"),type:"success"})}))}),[e,a,s,t]);return{addNewContact:u,updateContact:c,deleteContact:l}}(),d=l.updateContact,f=l.addNewContact,p=l.deleteContact,h=c(parseInt(n)),m=Fn((0,i.useState)((function(){return(null===h||void 0===h?void 0:h.display)||""})),2),v=m[0],g=m[1],y=Fn((0,i.useState)((function(){return(null===h||void 0===h?void 0:h.number)||""})),2),b=y[0],x=y[1],_=Fn((0,i.useState)((function(){return(null===h||void 0===h?void 0:h.avatar)||""})),2),w=_[0],E=_[1],S=Td().initializeCall,T=Fn(Dl(),1)[0];return(0,i.useEffect)((function(){o&&x(o),s&&E(s),u&&g(u)}),[o,w,s,u]),(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e,children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){return t.goBack()},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"}),"Fermer"]})}),(0,Fl.jsxs)(_d,{className:"text-white mt-10 mx-4 mb-4",children:[(0,Fl.jsx)("div",{className:"flex justify-center",children:(0,Fl.jsx)("div",{className:"bg-gray-700 bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(w,")")}})}),(0,Fl.jsxs)("div",{className:"mt-4 grid gap-3 ".concat(h?"grid-cols-4":"grid-cols-3"),children:[(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){dl({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),S(h.number)},children:[(0,Fl.jsx)(Gd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm",children:"Appeler"})]}),(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){t.push("/messages/new?phoneNumber=".concat(h.number))},children:[(0,Fl.jsx)(Pd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm",children:"Message"})]}),h?(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){d({id:h.id,number:b,avatar:w,display:v})},children:[(0,Fl.jsx)(zd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm",children:"\xc9diter"})]}),(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-red-500 rounded-xl p-3 cursor-pointer",onClick:function(){p({id:h.id})},children:[(0,Fl.jsx)(qd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm",children:"Supprimer"})]})]}):(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){f({display:v,number:b,avatar:w},a)},children:[(0,Fl.jsx)(ld,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm",children:"Ajouter"})]})]}),(0,Fl.jsxs)("div",{className:"mt-6",children:[(0,Fl.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg my-2",children:[(0,Fl.jsx)("p",{className:"text-sm text-[#347DD9] pl-5 pt-2",children:T("CONTACTS.FORM_NAME")}),(0,Fl.jsx)(Up,{placeholder:T("CONTACTS.FORM_NAME"),value:v,onChange:function(e){e.currentTarget.value.length!==Kd.display&&g(e.target.value)}})]}),(0,Fl.jsxs)("div",{className:"bg-[#1C1C1E] rounded-lg my-2",children:[(0,Fl.jsx)("p",{className:"text-sm text-[#347DD9] pl-5 pt-2",children:T("CONTACTS.FORM_NUMBER")}),(0,Fl.jsx)(Up,{placeholder:T("CONTACTS.FORM_NUMBER"),value:b,onChange:function(e){e.currentTarget.value.length!==Kd.number&&x(e.target.value)}})]})]})]})]})})},nh=function(){var e=zE("CONTACTS"),t=ce().pathname,n=ue();return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[70%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[70%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e,action:!t.match(/contacts\/-?\d/)&&(0,Fl.jsx)(ld,{className:"h-6 w-6 cursor-pointer",onClick:function(){return n.push("/contacts/-1")}}),children:(0,Fl.jsx)("div",{})}),(0,Fl.jsx)(_d,{children:(0,Fl.jsxs)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:[(0,Fl.jsx)(ee,{path:"/contacts/",exact:!0,component:Qp}),(0,Fl.jsx)(ee,{path:"/contacts/:id",exact:!0,component:th})]})})]})})},rh=function(e){var t=Object.assign({},e);return(0,Fl.jsx)("div",{className:"mx-2 my-4 bg-[#1C1C1E] shadow overflow-hidden rounded-[.8rem]",children:(0,Fl.jsx)("ul",{role:"list",className:"divide-y divide-[#3D3D3F]",children:t.children})})},ih=function(e){var t=Object.assign({},e);return(0,Fl.jsx)("li",(0,kn.Z)((0,kn.Z)({className:"".concat(t.onClick&&"cursor-pointer"," py-2 px-4 flex justify-between items-center hover:bg-[#27272A] text-white text-sm")},t),{},{children:t.children}))},oh=function(e){var t=e.icon,n=e.color;return(0,Fl.jsx)("div",{className:"".concat(n," h-8 w-8 p-1 rounded-md"),children:t})},ah=function(e){var t=e.open,n=e.onClose,r=e.options;Fn(Dl(),1)[0];return(0,Fl.jsx)(Op,{appear:!0,show:t,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:"Configuration",isBigHeader:!1,children:n&&(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:n,children:[(0,Fl.jsx)(od,{className:"h-5 w-5"}),"Fermer"]})}),(0,Fl.jsx)(_d,{className:"mt-10 mb-4",children:(0,Fl.jsx)(rh,{children:r.map((function(e,t){return(0,Fl.jsxs)(ih,{selected:e.selected,button:!0,onClick:function(t){e.onClick(t,e),n()},children:[(0,Fl.jsx)(oh,{color:"transparent",icon:e.icon}),(0,Fl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:e.label}),(0,Fl.jsx)(Lp,{className:"flex items-center",children:(0,Fl.jsx)(ad,{className:"text-white text-opacity-25 w-5 h-5"})})]},e.key||e.label)}))})})]})})},sh=function(e,t){return function(n){return{selected:e.value===n.value,onClick:function(){return t(n)},key:n.value,label:n.label}}},uh=function(e){var t=Fn((0,i.useState)(!1),2),n=t[0],r=t[1],o=Fn((0,i.useState)(e||[]),2),a=o[0],s=o[1],u=function(){return r(!1)};return[function(e){s(e),r(!0)},u,function(){return(0,Fl.jsx)(ah,{open:n,onClose:u,options:a})},n]},ch=Qc({key:"config",default:Ln}),lh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ch,t=rl(e),n=Fn(t,2),r=n[0],i=n[1],o=function(e,t){i((function(n){return(0,kn.Z)((0,kn.Z)({},n),{},(0,zn.Z)({},e,t))}))};return[r,o]},dh=(0,i.createContext)(null);function fh(){var e=(0,i.useContext)(dh);if(null===e){var t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,fh),t}return e}function ph(){var e=(0,i.useState)([]),t=e[0],n=e[1];return[t.length>0?t.join(" "):void 0,(0,i.useMemo)((function(){return function(e){var t=(0,i.useCallback)((function(e){return n((function(t){return[].concat(t,[e])})),function(){return n((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),r=(0,i.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return i.createElement(dh.Provider,{value:r},e.children)}}),[n])]}function hh(e){var t=fh(),n="headlessui-description-"+If();Lf((function(){return t.register(n)}),[n,t.register]);var r=e,i=bf({},t.props,{id:n});return Sf({props:bf({},r,i),slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}var mh=(0,i.createContext)(null);function vh(){var e=(0,i.useContext)(mh);if(null===e){var t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,vh),t}return e}var gh=(0,i.createContext)(null);gh.displayName="GroupContext";var yh=i.Fragment;function bh(e){var t=e.checked,n=e.onChange,r=xf(e,["checked","onChange"]),o="headlessui-switch-"+If(),a=(0,i.useContext)(gh),s=(0,i.useRef)(null),u=Cf(s,null===a?null:a.setSwitch),c=(0,i.useCallback)((function(){return n(!t)}),[n,t]),l=(0,i.useCallback)((function(e){if(Of(e.currentTarget))return e.preventDefault();e.preventDefault(),c()}),[c]),d=(0,i.useCallback)((function(e){e.key!==gf.Tab&&e.preventDefault(),e.key===gf.Space&&c()}),[c]),f=(0,i.useCallback)((function(e){return e.preventDefault()}),[]),p=(0,i.useMemo)((function(){return{checked:t}}),[t]);return Sf({props:bf({},r,{id:o,ref:u,role:"switch",type:Qf(e,s),tabIndex:0,"aria-checked":t,"aria-labelledby":null==a?void 0:a.labelledby,"aria-describedby":null==a?void 0:a.describedby,onClick:l,onKeyUp:d,onKeyPress:f}),slot:p,defaultTag:"button",name:"Switch"})}bh.Group=function(e){var t=(0,i.useState)(null),n=t[0],r=t[1],o=function(){var e=(0,i.useState)([]),t=e[0],n=e[1];return[t.length>0?t.join(" "):void 0,(0,i.useMemo)((function(){return function(e){var t=(0,i.useCallback)((function(e){return n((function(t){return[].concat(t,[e])})),function(){return n((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),r=(0,i.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return i.createElement(mh.Provider,{value:r},e.children)}}),[n])]}(),a=o[0],s=o[1],u=ph(),c=u[0],l=u[1],d=(0,i.useMemo)((function(){return{switch:n,setSwitch:r,labelledby:a,describedby:c}}),[n,r,a,c]);return i.createElement(l,{name:"Switch.Description"},i.createElement(s,{name:"Switch.Label",props:{onClick:function(){n&&(n.click(),n.focus({preventScroll:!0}))}}},i.createElement(gh.Provider,{value:d},Sf({props:e,defaultTag:yh,name:"Switch.Group"}))))},bh.Label=function(e){var t=e.passive,n=void 0!==t&&t,r=xf(e,["passive"]),i=vh(),o="headlessui-label-"+If();Lf((function(){return i.register(o)}),[o,i.register]);var a=bf({},i.props,{id:o}),s=bf({},r,a);return n&&delete s.onClick,Sf({props:s,slot:i.slot||{},defaultTag:"label",name:i.name||"Label"})},bh.Description=hh;var xh,_h=function(e){var t=e.options,n=e.color,r=e.label,i=e.value,o=e.onClick,a=e.icon;return(0,Fl.jsxs)(ih,{onClick:function(){return null===o||void 0===o?void 0:o(t)},children:[(0,Fl.jsx)(oh,{color:n,icon:a}),(0,Fl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:r}),(0,Fl.jsxs)(Lp,{className:"flex items-center",children:[i||void 0,o?(0,Fl.jsx)(ad,{className:"text-opacity-25 w-5 h-5"}):void 0]})]})},wh=function(e){var t=e.iconStart,n=e.iconEnd,r=e.value,i=e.onCommit;return(0,Fl.jsxs)(ih,{children:[(0,Fl.jsx)("div",{className:"text-opacity-25 w-6 h-6",children:t}),(0,Fl.jsx)("input",{type:"range",min:0,max:100,defaultValue:r,onChange:i,className:"w-full mx-2 h-1.5 appearance-none bg-white bg-opacity-20 rounded-full cursor-pointer"}),(0,Fl.jsx)("div",{className:"text-opacity-25 w-6 h-6",children:n})]})},Eh=function(e){var t=e.label,n=e.color,r=e.value,i=e.onClick,o=e.icon;return(0,Fl.jsxs)(ih,{children:[(0,Fl.jsx)(oh,{color:n,icon:o}),(0,Fl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:t}),(0,Fl.jsx)("div",{children:(0,Fl.jsx)(bh,{checked:r,onChange:function(){return i(r)},className:"".concat(r?"bg-blue-600":"bg-gray-500"," inline-flex items-center h-6 rounded-full w-11"),children:(0,Fl.jsx)("span",{className:"transform transition ease-in-out duration-300 ".concat(r?"translate-x-6":"translate-x-1"," inline-block w-5 h-5 bg-white rounded-full")})})})]})},Sh=n(1272),Th=n.n(Sh),Mh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Th()(e.pathname+e.search),r=n.query;return"".concat(e.pathname,"/?").concat(Wp().stringify((0,kn.Z)((0,kn.Z)({},r),{},(0,zn.Z)({},t,void 0))))},Ah=function(e){var t=e.children,n=(e.open,e.handleClose),r=e.onSubmit,i=e.title,o=e.content;return(0,Fl.jsxs)("div",{className:"bg-black bg-opacity-75 text-white text-center rounded-[.8rem] mx-10",children:[(0,Fl.jsxs)("div",{className:"pt-5 px-5",children:[(0,Fl.jsx)("div",{className:"font-bold",children:i}),(0,Fl.jsx)("div",{className:"text-[.9rem] py-2",children:o}),(0,Fl.jsx)("div",{className:"py-2",children:t})]}),(0,Fl.jsxs)("div",{className:"border-t border-white border-opacity-30",children:[(0,Fl.jsx)(Lp,{className:"w-2/4 p-2 text-center text-red-500",onClick:n,children:"Annuler"}),(0,Fl.jsx)(Lp,{className:"w-2/4 p-2 text-center text-blue-500 border-l border-white border-opacity-30",onClick:r,children:"Valider"})]})]})},Ch=function(e){return"media/backgrounds/".concat(e)},Oh=function(){var e=Fn(Yl(),2),t=e[0],n=e[1],r=Fn((0,i.useState)(!1),2),o=r[0],a=r[1],s=Fn(Zl(),2),u=s[0],c=s[1],l=Fn(Dl(),1)[0],d=Fn((0,i.useState)(u.wallpaper.value?u.wallpaper.value:""),2),f=d[0],p=d[1],h=Bl().addAlert,m=Fn(lh(),1)[0],v=function(e){return/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|png|jpeg|gif)/g.test(e)},g=function(e){void 0!==e||v(f)?(!function(e,t){c((0,kn.Z)((0,kn.Z)({},u),{},(0,zn.Z)({},e,t)))}("wallpaper",{label:e.label||l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),value:e.value||f}),h({message:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_SUCCESS"),type:"success"}),n(!1),a(!1)):h({message:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_ERROR"),type:"error"})};return(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsx)(Op,{appear:!0,show:t,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:"Fond d'\xe9cran",isBigHeader:!1,children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){return n(!1)},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"}),"Fermer"]})}),(0,Fl.jsxs)(_d,{className:"mt-8 mb-4 h-[780px] overflow-scroll",children:[(0,Fl.jsx)(rh,{children:(0,Fl.jsx)(_h,{label:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),onClick:function(){return a(!0)},icon:(0,Fl.jsx)(Hd,{}),color:"bg-[#8E8E92]"})}),(0,Fl.jsx)("div",{className:"grid gap-2 grid-cols-2 mx-2",children:m.wallpapers&&m.wallpapers.map((function(e){return(0,Fl.jsx)("div",{className:"bg-cover bg-center w-5/6 aspect-[9/19] justify-self-center rounded-lg cursor-pointer",style:{backgroundImage:"url(".concat(Ch(e.value),")")},onClick:function(){return g(e)}},e.value)}))})]})]})}),(0,Fl.jsx)(Op,{appear:!0,show:o,className:"absolute top-[45%] z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"scale-0",enterTo:"scale-100",leave:"transition ease-in-out duration-300 transform",leaveFrom:"scale-100",leaveTo:"scale-0",children:(0,Fl.jsx)(Ah,{open:o,handleClose:function(){return a(!1)},onSubmit:g,title:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),content:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_CONTENT"),children:(0,Fl.jsx)(Up,{value:f,onChange:function(e){return!v(f)&&p(e.currentTarget.value)},placeholder:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_PLACEHOLDER")})})})]})},Lh=function(){var e=zE("SETTINGS"),t=Fn(lh(),1)[0],n=Sd(),r=tl(Ed.avatar),o=Fn(Zl(),2),a=o[0],s=o[1],u=Fn(Dl(),1)[0],c=Fn(Yl(),2),l=(c[0],c[1]),d=Bl().addAlert,f=qp(),p=ce(),h=p.pathname,m=p.search,v=ue(),g=function(){var e=Fn(Dl(),1)[0],t=Bl().addAlert;return{updateProfilePicture:(0,i.useCallback)((function(n){var r=n.number,i=n.url;pl(ll.UPDATE_PICTURE,{number:r,url:i}).then((function(n){if("ok"!==n.status)return t({message:e("CONTACTS.FEEDBACK.ADD_FAILED"),type:"error"});t({message:e("CONTACTS.FEEDBACK.ADD_SUCCESS"),type:"success"})}))}),[t,e])}}(),y=g.updateProfilePicture,b=ol(Wl),x=function(e,t){s((0,kn.Z)((0,kn.Z)({},a),{},(0,zn.Z)({},e,t)))},_=t.zoomOptions.map(sh(a.zoom,(function(e){return x("zoom",e)}))),w=t.ringtones.map(sh(a.ringtone,(function(e){return x("ringtone",e)}))),E=t.notiSounds.map(sh(a.notiSound,(function(e){return x("notiSound",e)}))),S=[{selected:!1,onClick:function(){return b(),void d({message:u("SETTINGS.MESSAGES.SETTINGS_RESET"),type:"success"})},key:"RESET_SETTINGS",label:u("SETTINGS.OPTIONS.RESET_SETTINGS")}],T=(u("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),(0,i.useCallback)((function(){v.push("/photo?".concat(Wp().stringify({referal:encodeURIComponent(h+m)})))}),[v,h,m])),M=Fn(uh(),4),A=M[0],C=M[1],O=M[2],L=M[3];return(0,i.useEffect)((function(){f.image&&(y({number:n,url:f.image}),v.replace(Mh({pathname:h,search:m},"image")))}),[f.image,y,n,v,h,m]),(0,Fl.jsxs)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_20%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_20%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:[(0,Fl.jsx)(O,{}),(0,Fl.jsx)(Oh,{}),(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e,isBigHeader:!0}),(0,Fl.jsxs)(_d,{className:"mt-14 mb-4",backdrop:L,onClickBackdrop:C,children:[(0,Fl.jsx)(rh,{children:(0,Fl.jsxs)(ih,{children:[(0,Fl.jsx)("div",{className:"bg-gray-700 bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(r,")")}}),(0,Fl.jsxs)(Lp,{className:"flex items-center text-white text-sm",onClick:T,children:[u("MARKETPLACE.CHOOSE_IMAGE"),(0,Fl.jsx)(Id,{className:"text-opacity-25 w-6 h-6"})]})]})}),(0,Fl.jsx)(rh,{children:(0,Fl.jsx)(_h,{label:u("SETTINGS.PHONE_NUMBER"),value:n,icon:(0,Fl.jsx)(Gd,{}),color:"bg-[#65C466]"})}),(0,Fl.jsxs)(rh,{children:[(0,Fl.jsx)(_h,{label:u("SETTINGS.OPTIONS.RINGTONE"),value:a.ringtone.label,options:w,onClick:A,icon:(0,Fl.jsx)(Jd,{}),color:"bg-[#ee1039]"}),(0,Fl.jsx)(wh,{label:u("SETTINGS.OPTIONS.RINGTONE_VOLUME"),iconStart:(0,Fl.jsx)(Xd,{}),iconEnd:(0,Fl.jsx)(Jd,{}),value:a.ringtoneVol,onCommit:function(e){return x("ringtoneVol",parseInt(e.target.value))}})]}),(0,Fl.jsxs)(rh,{children:[(0,Fl.jsx)(_h,{label:u("SETTINGS.OPTIONS.NOTIFICATION"),value:a.notiSound.label,options:E,onClick:A,icon:(0,Fl.jsx)(Nd,{}),color:"bg-[#EA4E3D]"}),(0,Fl.jsx)(wh,{label:u("SETTINGS.OPTIONS.NOTIFICATION_VOLUME"),iconStart:(0,Fl.jsx)(Xd,{}),iconEnd:(0,Fl.jsx)(Jd,{}),value:a.notiSoundVol,onCommit:function(e){return x("notiSoundVol",parseInt(e.target.value))}})]}),(0,Fl.jsxs)(rh,{children:[(0,Fl.jsx)(_h,{label:u("SETTINGS.OPTIONS.WALLPAPER"),value:a.wallpaper.label,onClick:l,icon:(0,Fl.jsx)(Hd,{}),color:"bg-[#8E8E92]"}),(0,Fl.jsx)(_h,{label:u("SETTINGS.OPTIONS.ZOOM"),value:a.zoom.label,options:_,onClick:A,icon:(0,Fl.jsx)(Ld,{}),color:"bg-[#5756CE]"})]}),(0,Fl.jsxs)(rh,{children:[(0,Fl.jsx)(Eh,{label:u("SETTINGS.OPTIONS.STREAMER_MODE.DESCRIPTION"),icon:(0,Fl.jsx)(Dd,{}),color:"bg-[#c41515]",value:a.streamerMode,onClick:function(e){return x("streamerMode",!e)}}),(0,Fl.jsx)(_h,{label:u("SETTINGS.OPTIONS.RESET_SETTINGS"),icon:(0,Fl.jsx)(qd,{}),color:"bg-[#f11f1f]",onClick:A,options:S})]})]})]})]})};!function(e){e.FETCH_MESSAGE_CONVERSATIONS="npwd:fetchMessageGroups",e.FETCH_MESSAGE_GROUPS_SUCCESS="npwd:fetchMessageGroupsSuccess",e.FETCH_MESSAGE_GROUPS_FAILED="npwd:fetchMessageGroupsFailed",e.CREATE_MESSAGE_CONVERSATION="npwd:createMessageGroup",e.CREATE_MESSAGE_CONVERSATION_SUCCESS="npwd:createMessageConversationSuccess",e.CREATE_MESSAGE_GROUP_SUCCESS="npwd:createMessageGroupSuccess",e.CREATE_MESSAGE_GROUP_FAILED="npwd:createMessageGroupFailed",e.SEND_MESSAGE="npwd:sendMessage",e.SEND_MESSAGE_SUCCESS="npwd:sendMessageSuccess",e.SEND_MESSAGE_FAILED="npwd:sendMessageFailed",e.DELETE_MESSAGE="npwd:deleteMessage",e.FETCH_MESSAGES="npwd:fetchMessages",e.FETCH_MESSAGES_SUCCESS="npwd:fetchMessagesSuccess",e.FETCH_MESSAGES_FAILED="npwd:fetchMessagesFailed",e.FETCH_INITIAL_MESSAGES="npwd:fetchInitialMessages",e.ACTION_RESULT="npwd:setMessagesAlert",e.CREATE_MESSAGE_BROADCAST="createMessagesBroadcast",e.SET_MESSAGE_READ="npwd:setReadMessages",e.DELETE_CONVERSATION="nwpd:deleteConversation",e.GET_POSITION="nwpd:getCurrentPosition",e.GET_DESTINATION="nwpd:getCurrentDestination",e.SET_WAYPOINT="nwpd:setWaypoint"}(xh||(xh={}));var kh,Nh=[{conversation_id:"4444+5555",avatar:"https://i.imgur.com/GCBVgXD.jpeg",phoneNumber:"215-8139",unread:0,display:"Taso"},{conversation_id:"4444+7777",avatar:"",phoneNumber:"603-275-8373",unread:3,display:"Chip"}],Rh={data:[{id:1,author:"215-8139",message:"Hello",conversation_id:"4444+5555"},{id:2,author:"215-8139",message:"Hi asljdf klasdfjkasjdf sdfjf asdf djkjas k kksdfjjsl ks kldfs d fd asd asdfjasdjfjasdkljjfklasjldfjlj asdf sadfdsdkafjkljsdklfjklfjdf"},{id:3,author:"111-1134",message:"Hello",conversation_id:"4444+5555"},{id:4,author:"111-1134",message:"Hello Rocky",conversation_id:"4444+7777"},{id:5,author:"215-8139",message:"https://i.tasoagc.dev/LtuA.png"},{id:6,author:"215-8139",message:"vec2(355.555,-8754.54)"}],status:"ok"},Ph=Qc({key:"currentGroupId",default:null}),Ih={messageCoversations:Qc({key:"messageConversations",default:el({key:"defaultMessageConversation",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(xh.FETCH_MESSAGE_CONVERSATIONS,void 0,fl(Nh));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),filterValue:Qc({key:"defaultFilterValue",default:""}),filteredMessageConversations:el({key:"defaultFilteredMessageConversations",get:function(e){var t=e.get,n=t(Ih.filterValue),r=t(Ih.messageCoversations);if(!n)return r;var i=new RegExp(n,"gi");return r.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.display)||void 0===t?void 0:t.match(i))||e.phoneNumber.match(i)}))}}),messages:Qc({key:"messages",default:[]}),activeMessageConversation:Qc({key:"activeMessageGroup",default:null}),showNewMessageGroup:Qc({key:"showNewMessageGroup",default:!1}),createMessageGroupResult:Qc({key:"createMessageGroupResult",default:null}),imageModal:Qc({key:"useImageModal",default:!1}),unreadMessagesCount:Qc({key:"unreadMessagesCount",default:0}),selectedMessage:Qc({key:"selectedMessage",default:null}),checkedConversations:Qc({key:"checkedConversation",default:[]}),isEditing:Qc({key:"messageIsEditing",default:!1})},jh=function(){return il(Ih.messages)},Dh=function(){var e=nl(Ih.messages).state,t=nl(Ih.messageCoversations),n=t.state,r=t.contents,o=il(Ih.messageCoversations),a=jh();return{updateLocalConversations:(0,i.useCallback)((function(e){o((function(t){return[e].concat(In(t))}))}),[o]),removeLocalConversation:(0,i.useCallback)((function(e){"hasValue"===n&&r.length&&o((function(t){return In(t).filter((function(t){return!e.includes(t.conversation_id)}))}))}),[o,n,r]),updateLocalMessages:(0,i.useCallback)((function(t){"hasValue"===e&&a((function(e){return[].concat(In(e),[{message:t.message,conversation_id:t.conversation_id,author:t.author,id:t.id}])}))}),[e,a]),deleteLocalMessage:(0,i.useCallback)((function(e){a((function(t){return In(t).filter((function(t){return t.id!==e}))}))}),[a])}},Fh=function(){var e=Bl().addAlert,t=Fn(Dl(),1)[0],n=Dh(),r=n.updateLocalMessages,o=n.deleteLocalMessage,a=n.updateLocalConversations,s=n.removeLocalConversation,u=ue(),c=nl(Ih.messageCoversations),l=c.state,d=c.contents,f=of(),p=f.getPictureByNumber,h=f.getDisplayByNumber,m=jh(),v=(0,i.useCallback)((function(n){var i=n.conversationId,o=n.message;pl(xh.SEND_MESSAGE,{conversationId:i,message:o}).then((function(n){if("ok"!==n.status)return e({message:t("MESSAGES.FEEDBACK.NEW_MESSAGE_FAILED"),type:"error"});r(n.data)}))}),[r,t,e]),g=(0,i.useCallback)((function(n){pl(xh.DELETE_MESSAGE,n).then((function(r){if("ok"!==r.status)return e({message:t("MESSAGES.FEEDBACK.DELETE_MESSAGE_FAILED"),type:"error"});o(n.id)}))}),[o,e,t]),y=(0,i.useCallback)((function(n){"hasValue"===l&&pl(xh.CREATE_MESSAGE_CONVERSATION,{targetNumber:n}).then((function(r){if("ok"!==r.status)return u.push("/messages"),e({message:t("MESSAGES.FEEDBACK.CONVERSATION_CREATE_ONE_NUMBER_FAILED",{number:n}),type:"error"});if(d.find((function(e){return e.conversation_id===r.data.conversation_id})))return u.push("/messages"),e({message:t("MESSAGES.FEEDBACK.MESSAGE_CONVERSATION_DUPLICATE"),type:"error"});var i=h(r.data.phoneNumber),o=p(r.data.phoneNumber);a({phoneNumber:r.data.phoneNumber,conversation_id:r.data.conversation_id,display:i,unread:0,avatar:o}),u.push("/messages/conversations/".concat(r.data.conversation_id))}))}),[u,a,e,t,h,p,d,l]);return{sendMessage:v,deleteMessage:g,deleteConversation:(0,i.useCallback)((function(n){pl(xh.DELETE_CONVERSATION,{conversationsId:n}).then((function(r){if("ok"!==r.status)return e({message:t("MESSAGES.DELETE_CONVERSATION_FAILED"),type:"error"});s(n)}))}),[e,t,s]),addConversation:y,fetchMessages:(0,i.useCallback)((function(n,r){pl(xh.FETCH_MESSAGES,{conversationId:n,page:r},Rh).then((function(n){if("ok"!==n.status)return e({message:t("MESSAGES.FEEDBACK.FETCHED_MESSAGES_FAILED"),type:"error"}),u.push("/messages");m(n.data)}))}),[m,e,t,u])}},zh=function(e){var t=e.phoneNumber,n=ue(),r=(Fn(Dl(),1)[0],Fn((0,i.useState)(""),2)),o=(r[0],r[1]),a=Fn((0,i.useState)(""),2),s=(a[0],a[1]),u=of().getContactByNumber,c=rf(),l=Fh().addConversation;(0,i.useEffect)((function(){if(t){var e=u(t);e?(o(e),l(t)):s(t)}}),[t,u,l]);return(0,Fl.jsxs)("div",{className:"mt-10",children:[(0,Fl.jsx)(df,{title:"Contacts",children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){n.push("/messages")},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"})," Fermer"]})}),(0,Fl.jsx)(_d,{children:(0,Fl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(c).sort().map((function(e){return(0,Fl.jsxs)("div",{className:"relative",children:[(0,Fl.jsx)("div",{className:"sticky top-0 pt-4 bg-black px-6 py-1 text-sm font-medium text-gray-400",children:(0,Fl.jsx)("h3",{children:e})}),(0,Fl.jsx)("ul",{role:"list",className:"relative divide-y divide-gray-700",children:c[e].map((function(e){return(0,Fl.jsx)("li",{className:"bg-black w-full",onClick:function(){return l(e.number)},children:(0,Fl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:[(0,Fl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,Fl.jsx)("img",{className:"h-10 w-10 bg-gray-700 rounded-full",src:e.avatar,alt:""}):(0,Fl.jsx)("div",{className:"h-10 w-10 bg-gray-700 rounded-full"})}),(0,Fl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,Fl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:e.display})]}),(0,Fl.jsx)(ad,{className:"h-5 w-5 text-white text-opacity-25"})]})},e.id)}))})]},e)}))})})]})},Uh=function(){var e=qp().phoneNumber;return(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:(0,Fl.jsx)(zh,{phoneNumber:e})})},Bh=function(){var e=ue(),t=nl(Ih.messageCoversations),n=t.state,r=t.contents,o=Fn(tl(ul([Ih.activeMessageConversation])),1)[0],a=il(Ph),s=il(Ih.activeMessageConversation),u=(0,i.useCallback)((function(e){if("hasValue"===n&&r.length)return r&&r.find((function(t){return t.conversation_id===e}))}),[r,n]),c=(0,i.useCallback)((function(e){var t=u(e);return s(t),t}),[s,u]),l=(0,i.useCallback)((function(t){null!==t&&void 0!==t&&t.conversation_id&&e&&(a(t.conversation_id),e.push("/messages/conversations/".concat(t.conversation_id)))}),[a,e]);return{activeMessageConversation:o,setActiveMessageConversation:c,getMessageConversationById:u,goToConversation:l,conversations:r}},Vh=function(){var e=Fn(rl(Ih.isEditing),2),t=(e[0],e[1],Fn(rl(Ih.checkedConversations),2)),n=(t[0],t[1],Fn(Dl(),1)[0]),r=Bh(),i=r.conversations,o=r.goToConversation,a=tl(Ih.filteredMessageConversations),s=Fn(rl(Ih.filterValue),2),u=s[0],c=s[1];if(!i)return(0,Fl.jsx)("p",{children:"No messages"});return(0,Fl.jsxs)("div",{className:"mt-5",children:[(0,Fl.jsx)(Xp,{value:u,onChange:function(e){return c(e.target.value)},placeholder:n("MESSAGES.SEARCH_PLACEHOLDER")}),(0,Fl.jsx)("nav",{className:"h-[780px] pb-10 my-2 overflow-y-auto","aria-label":"Directory",children:(0,Fl.jsx)("ul",{role:"list",className:"relative divide-y divide-gray-700",children:a.map((function(e){return(0,Fl.jsx)("li",{className:"bg-black w-full",onClick:function(){return o(e)},children:(0,Fl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:[(0,Fl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,Fl.jsx)("img",{className:"h-10 w-10 bg-gray-700 rounded-full",src:e.avatar,alt:""}):(0,Fl.jsx)("div",{className:"h-10 w-10 bg-gray-700 rounded-full"})}),(0,Fl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,Fl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:e.display||e.phoneNumber})]})]})},e.conversation_id)}))})})]})},Gh=function(e){var t=e.messageConversationId,n=e.onAddImageClick,r=Fn(Dl(),1)[0],o=Fn((0,i.useState)(""),2),a=o[0],s=o[1],u=Fh().sendMessage,c=function(){var e=Hn(or().mark((function e(){return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.trim()){e.next=4;break}return e.next=3,u({conversationId:t,message:a});case 3:s("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Hn(or().mark((function e(t){return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||t.shiftKey){e.next=3;break}return e.next=3,c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?(0,Fl.jsxs)("div",{className:"flex",children:[(0,Fl.jsx)("button",{onClick:n,children:(0,Fl.jsx)(cd,{className:"h-5 w-5 mx-2 text-white"})}),(0,Fl.jsx)(Up,{onKeyPress:l,value:a,onChange:function(e){return s(e.target.value)},placeholder:r("MESSAGES.NEW_MESSAGE")}),(0,Fl.jsx)("button",{className:"bg-[#32CA5B] rounded-full mx-2 ",onClick:c,children:(0,Fl.jsx)(md,{className:"w-5 h-5 mx-2 text-white"})})]}):null},Hh=function(e){var t=e.src,n=e.alt;return(0,Fl.jsx)("img",{src:t,alt:n})};function Wh(e,t,n){void 0===t&&(t=kh.All);var r=void 0===n?{}:n,o=r.initialFocus,a=r.containers,s=(0,i.useRef)("undefined"!==typeof window?document.activeElement:null),u=(0,i.useRef)(null),c=hp(),l=Boolean(t&kh.RestoreFocus),d=Boolean(t&kh.InitialFocus);(0,i.useEffect)((function(){l&&(s.current=document.activeElement)}),[l]),(0,i.useEffect)((function(){if(l)return function(){Bf(s.current),s.current=null}}),[l]),(0,i.useEffect)((function(){if(d&&e.current){var t=document.activeElement;if(null==o?void 0:o.current){if((null==o?void 0:o.current)===t)return void(u.current=t)}else if(e.current.contains(t))return void(u.current=t);(null==o?void 0:o.current)?Bf(o.current):Vf(e.current,jf.First)===Df.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),u.current=document.activeElement}}),[e,o,d]),Gf("keydown",(function(n){t&kh.TabLock&&e.current&&n.key===gf.Tab&&(n.preventDefault(),Vf(e.current,(n.shiftKey?jf.Previous:jf.Next)|jf.WrapAround)===Df.Success&&(u.current=document.activeElement))})),Gf("focus",(function(n){if(t&kh.FocusLock){var r=new Set(null==a?void 0:a.current);if(r.add(e),r.size){var i=u.current;if(i&&c.current){var o=n.target;o&&o instanceof HTMLElement?!function(e,t){for(var n,r=wf(e);!(n=r()).done;){var i;if(null==(i=n.value.current)?void 0:i.contains(t))return!0}return!1}(r,o)?(n.preventDefault(),n.stopPropagation(),Bf(i)):(u.current=o,Bf(o)):Bf(u.current)}}}}),!0)}!function(e){e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All"}(kh||(kh={}));var qh=new Set,Zh=new Map;function Yh(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function $h(e){var t=Zh.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var Xh=(0,i.createContext)(!1);function Jh(e){return i.createElement(Xh.Provider,{value:e.force},e.children)}function Kh(){var e=(0,i.useContext)(Xh),t=(0,i.useContext)(nm),n=(0,i.useState)((function(){if(!e&&null!==t)return null;if("undefined"===typeof window)return null;var n=document.getElementById("headlessui-portal-root");if(n)return n;var r=document.createElement("div");return r.setAttribute("id","headlessui-portal-root"),document.body.appendChild(r)})),r=n[0],o=n[1];return(0,i.useEffect)((function(){null!==r&&(document.body.contains(r)||document.body.appendChild(r))}),[r]),(0,i.useEffect)((function(){e||null!==t&&o(t.current)}),[t,o,e]),r}var Qh=i.Fragment;function em(e){var t=e,n=Kh(),r=(0,i.useState)((function(){return"undefined"===typeof window?null:document.createElement("div")}))[0],a=Nf();return Lf((function(){if(n&&r)return n.appendChild(r),function(){var e;n&&(r&&(n.removeChild(r),n.childNodes.length<=0&&(null==(e=n.parentElement)||e.removeChild(n))))}}),[n,r]),a&&n&&r?(0,o.createPortal)(Sf({props:t,defaultTag:Qh,name:"Portal"}),r):null}var tm=i.Fragment,nm=(0,i.createContext)(null);em.Group=function(e){var t=e.target,n=xf(e,["target"]);return i.createElement(nm.Provider,{value:t},Sf({props:n,defaultTag:tm,name:"Popover.Group"}))};var rm,im,om,am,sm=(0,i.createContext)((function(){}));function um(e){var t=e.children,n=e.onUpdate,r=e.type,o=e.element,a=(0,i.useContext)(sm),s=(0,i.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null==n||n.apply(void 0,t),a.apply(void 0,t)}),[a,n]);return Lf((function(){return s(rm.Add,r,o),function(){return s(rm.Remove,r,o)}}),[s,r,o]),i.createElement(sm.Provider,{value:s},t)}sm.displayName="StackContext",function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(rm||(rm={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(om||(om={})),function(e){e[e.SetTitleId=0]="SetTitleId"}(am||(am={}));var cm=((im={})[am.SetTitleId]=function(e,t){return e.titleId===t.id?e:bf({},e,{titleId:t.id})},im),lm=(0,i.createContext)(null);function dm(e){var t=(0,i.useContext)(lm);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+vm.displayName+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,dm),n}return t}function fm(e,t){return Ef(t.type,cm,e,t)}lm.displayName="DialogContext";var pm=mf.RenderStrategy|mf.Static,hm=Mf((function(e,t){var n,r=e.open,o=e.onClose,a=e.initialFocus,s=xf(e,["open","onClose","initialFocus"]),u=(0,i.useState)(0),c=u[0],l=u[1],d=Xf();void 0===r&&null!==d&&(r=Ef(d,((n={})[Hf.Open]=!0,n[Hf.Closed]=!1,n)));var f=(0,i.useRef)(new Set),p=(0,i.useRef)(null),h=Cf(p,t),m=e.hasOwnProperty("open")||null!==d,v=e.hasOwnProperty("onClose");if(!m&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!==typeof r)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+r);if("function"!==typeof o)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: "+o);var g=r?om.Open:om.Closed,y=null!==d?d===Hf.Open:g===om.Open,b=(0,i.useReducer)(fm,{titleId:null,descriptionId:null}),x=b[0],_=b[1],w=(0,i.useCallback)((function(){return o(!1)}),[o]),E=(0,i.useCallback)((function(e){return _({type:am.SetTitleId,id:e})}),[_]),S=Nf()&&g===om.Open,T=c>1,M=null!==(0,i.useContext)(lm);Wh(p,S?Ef(T?"parent":"leaf",{parent:kh.RestoreFocus,leaf:kh.All}):kh.None,{initialFocus:a,containers:f}),function(e,t){void 0===t&&(t=!0),Lf((function(){if(t&&e.current){var n=e.current;qh.add(n);for(var r,i=wf(Zh.keys());!(r=i()).done;){var o=r.value;o.contains(n)&&($h(o),Zh.delete(o))}return document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){for(var t,n=wf(qh);!(t=n()).done;){var r=t.value;if(e.contains(r))return}1===qh.size&&(Zh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Yh(e))}})),function(){if(qh.delete(n),qh.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Zh.has(e)){for(var t,n=wf(qh);!(t=n()).done;){var r=t.value;if(e.contains(r))return}Zh.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Yh(e)}}));else for(var e,t=wf(Zh.keys());!(e=t()).done;){var r=e.value;$h(r),Zh.delete(r)}}}}),[t])}(p,!!T&&S),Gf("mousedown",(function(e){var t,n=e.target;g===om.Open&&(T||(null==(t=p.current)?void 0:t.contains(n))||w())})),Gf("keydown",(function(e){e.key===gf.Escape&&g===om.Open&&(T||(e.preventDefault(),e.stopPropagation(),w()))})),(0,i.useEffect)((function(){if(g===om.Open&&!M){var e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=n+"px",function(){document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}}),[g,M]),(0,i.useEffect)((function(){if(g===om.Open&&p.current){var e=new IntersectionObserver((function(e){for(var t,n=wf(e);!(t=n()).done;){var r=t.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&w()}}));return e.observe(p.current),function(){return e.disconnect()}}}),[g,p,w]);var A=ph(),C=A[0],O=A[1],L="headlessui-dialog-"+If(),k=(0,i.useMemo)((function(){return[{dialogState:g,close:w,setTitleId:E},x]}),[g,x,w,E]),N=(0,i.useMemo)((function(){return{open:g===om.Open}}),[g]),R={ref:h,id:L,role:"dialog","aria-modal":g===om.Open||void 0,"aria-labelledby":x.titleId,"aria-describedby":C,onClick:function(e){e.stopPropagation()}},P=s;return i.createElement(um,{type:"Dialog",element:p,onUpdate:(0,i.useCallback)((function(e,t,n){var r;"Dialog"===t&&Ef(e,((r={})[rm.Add]=function(){f.current.add(n),l((function(e){return e+1}))},r[rm.Remove]=function(){f.current.add(n),l((function(e){return e-1}))},r))}),[])},i.createElement(Jh,{force:!0},i.createElement(em,null,i.createElement(lm.Provider,{value:k},i.createElement(em.Group,{target:p},i.createElement(Jh,{force:!1},i.createElement(O,{slot:N,name:"Dialog.Description"},Sf({props:bf({},P,R),slot:N,defaultTag:"div",features:pm,visible:y,name:"Dialog"}))))))))})),mm=Mf((function e(t,n){var r=dm([vm.displayName,e.name].join("."))[0],o=r.dialogState,a=r.close,s=Cf(n),u="headlessui-dialog-overlay-"+If(),c=(0,i.useCallback)((function(e){if(e.target===e.currentTarget){if(Of(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),a()}}),[a]),l=(0,i.useMemo)((function(){return{open:o===om.Open}}),[o]);return Sf({props:bf({},t,{ref:s,id:u,"aria-hidden":!0,onClick:c}),slot:l,defaultTag:"div",name:"Dialog.Overlay"})}));var vm=Object.assign(hm,{Overlay:mm,Title:function e(t){var n=dm([vm.displayName,e.name].join("."))[0],r=n.dialogState,o=n.setTitleId,a="headlessui-dialog-title-"+If();(0,i.useEffect)((function(){return o(a),function(){return o(null)}}),[a,o]);var s=(0,i.useMemo)((function(){return{open:r===om.Open}}),[r]);return Sf({props:bf({},t,{id:a}),slot:s,defaultTag:"h2",name:"Dialog.Title"})},Description:hh}),gm=function(e){var t=e.isOpen,n=e.messageGroupId,r=e.onClose,o=e.image,a=ue(),s=Fn(Dl(),1)[0],u=ce(),c=u.pathname,l=u.search,d=Bl().addAlert,f=Fn((0,i.useState)(null),2),p=f[0],h=f[1],m=Fh().sendMessage,v=(0,i.useCallback)((function(){h(null),a.replace(Mh({pathname:c,search:l},"image"))}),[a,c,l]),g=(0,i.useCallback)((function(e){m({conversationId:n,message:e}),r()}),[m,n,r]),y=(0,i.useCallback)((function(e){g(e),v()}),[v,g]);return(0,i.useEffect)((function(){o&&h(o)}),[o]),(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsx)(Op,{show:t,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)("ul",{className:"absolute z-30 left-5 bottom-32 w-80 mt-2 origin-bottom-left bg-black bg-opacity-80 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){pl(xh.GET_POSITION,{}).then((function(e){m({conversationId:n,message:"vec2(".concat(e.data.x,",").concat(e.data.y,")")})}))},children:[(0,Fl.jsx)(Fd,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.POSITION_OPTION")]})}),(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){pl(xh.GET_DESTINATION,{}).then((function(e){0!==e.data.x&&0!==e.data.y?m({conversationId:n,message:"vec2(".concat(e.data.x,",").concat(e.data.y,")")}):d({message:s("MESSAGES.FEEDBACK.NEW_MESSAGE_FAILED"),type:"error"})}))},children:[(0,Fl.jsx)(Fd,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.DESTINATION_OPTION")]})}),(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){a.push("/photo?".concat(Wp().stringify({referal:encodeURIComponent(c+l)})))},children:[(0,Fl.jsx)(Hd,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.MEDIA_OPTION")]})}),(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:r,children:[(0,Fl.jsx)(vd,{className:"h-5 w-5 mx-3"})," Fermer"]})})]})}),(0,Fl.jsx)(Op,{appear:!0,show:null!==p,children:(0,Fl.jsx)(vm,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:v,children:(0,Fl.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,Fl.jsx)(Op.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,Fl.jsx)(vm.Overlay,{className:"fixed inset-0"})}),(0,Fl.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:" \u200b "}),(0,Fl.jsx)(Op.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,Fl.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,Fl.jsx)(vm.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Do you want to share this image?"}),(0,Fl.jsx)("div",{className:"mt-2",children:(0,Fl.jsx)("p",{className:"text-sm text-gray-500",children:(0,Fl.jsx)(Hh,{src:p,alt:"Share gallery image preview"})})}),(0,Fl.jsxs)("div",{className:"mt-4",children:[(0,Fl.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:v,children:"Fermer"}),(0,Fl.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return y(p)},children:"Partager"})]})]})})]})})})]})},ym=function(e){var t=e.children,n=Fn(Zl(),1)[0],r=Fn((0,i.useState)(!1),2),o=r[0],a=r[1],s=Fn((0,i.useState)(!1),2),u=(s[0],s[1]),c=Fn(Dl(),1)[0];(0,i.useEffect)((function(){!0===n.streamerMode&&a(!0),u(!0)}),[n.streamerMode]);return(0,Fl.jsxs)("div",{className:"relative",onClick:function(){return a(!1)},children:[o&&(0,Fl.jsx)("div",{className:"h-full flex justify-center items-center",children:c("GENERIC_CLICK_TO_REVEAL")}),(0,Fl.jsx)("div",{className:"".concat(o&&"relative opacity-50 blur-md"),children:t})]})},bm=function(e){var t=e.open,n=e.handleClose,r=Fn(Dl(),1)[0],o=Fh().deleteMessage,a=tl(Ih.selectedMessage),s=(0,i.useCallback)((function(){o(a)}),[o,a]);return(0,Fl.jsx)(Op,{show:t,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)("ul",{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-red-400 px-2 py-2 hover:text-red-500",onClick:s,children:[(0,Fl.jsx)(qd,{className:"mx-3 h-5 w-5"})," ",r("MESSAGES.FEEDBACK.DELETE_MESSAGE")]})}),(0,Fl.jsx)("li",{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:n,children:[(0,Fl.jsx)(vd,{className:"mx-3 h-5 w-5"})," Fermer"]})})]})})},xm=function(e){return/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|png|jpeg|gif)/g.test(e)},_m=function(e){return/vec2\((-?[0-9.]+),(-?[0-9.]+)\)/g.test(e)},wm=function(e){var t=e.message,n=Fn((0,i.useState)(!1),2),r=n[0],o=n[1],a=il(Ih.selectedMessage),s=Sd(),u=t.author===s;return(0,Fl.jsxs)("div",{className:"flex ".concat(u&&"justify-end"),children:[(0,Fl.jsxs)("div",{className:"flex justify-between text-white w-3/4 rounded-2xl ".concat(u?"bg-[#32CA5B]":"bg-[#26252A]"," p-3 m-2"),children:[(0,Fl.jsxs)("div",{children:[xm(t.message)&&(0,Fl.jsx)(ym,{children:(0,Fl.jsx)("img",{src:t.message,className:"rounded-lg",alt:"message multimedia"})}),_m(t.message)&&(0,Fl.jsxs)("span",{className:"flex items-center cursor-pointer",onClick:function(){var e=/vec2\((-?[0-9.]+),(-?[0-9.]+)\)/g.exec(t.message);pl(xh.SET_WAYPOINT,{x:e[1],y:e[2]})},children:[(0,Fl.jsx)(Fd,{className:"h-5 w-5 mr-2"}),"Position"]}),!xm(t.message)&&!_m(t.message)&&(0,Fl.jsx)(Fl.Fragment,{children:t.message})]}),u&&(0,Fl.jsx)(ud,{className:"h-5 w-5 cursor-pointer",onClick:function(){o(!0),a(t)}})]}),(0,Fl.jsx)(bm,{open:r,handleClose:function(){return o(!1)}})]})},Em="message-modal-conversation",Sm=function(e){var t=e.activeMessageGroup,n=e.messages,r=Fn((0,i.useState)(!1),2),o=r[0],a=r[1],s=qp(),u=(null===s||void 0===s?void 0:s.image)||null,c=tl(Ph),l=Bl().addAlert,d=ue(),f=jh(),p=Fn(Dl(),1)[0],h=Fn((0,i.useState)(1),2),m=h[0],v=h[1],g=Fn((0,i.useState)(!!n.length),2),y=(g[0],g[1]),b=(0,of().getContactByNumber)(t.phoneNumber);(0,i.useCallback)((function(){pl(xh.FETCH_MESSAGES,{conversationId:c,page:m}).then((function(e){if("ok"!==e.status)return l({message:p("MESSAGES.FEEDBACK.FETCHED_MESSAGES_FAILED"),type:"error"}),d.push("/messages");0!==e.data.length?(y(!0),v((function(e){return e+1})),f((function(t){return[].concat(In(e.data),In(t))}))):y(!1)}))}),[l,c,f,d,p,m,v]);return(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsxs)("div",{children:[(0,Fl.jsx)(gm,{image:u,onClose:function(){return a(!1)},isOpen:o,messageGroupId:t.conversation_id}),(0,Fl.jsx)("div",{id:Em,style:{flex:1,display:"flex",overflowY:"auto"},children:(0,Fl.jsx)("div",{style:{display:"flex",flexDirection:"column",minHeight:"min-content",width:"100%"},children:(0,Fl.jsx)("div",{className:"flex flex-col h-[675px] overflow-y-auto",children:n.map((function(e){return(0,Fl.jsx)(wm,{message:e},e.id)}))})})})]}),(0,Fl.jsx)(Gh,{messageGroupName:(null===b||void 0===b?void 0:b.display)||t.phoneNumber,messageConversationId:t.conversation_id,onAddImageClick:function(){return a(!0)}})]})},Tm=function(){Fn(Dl(),1)[0];var e=ue(),t=ce().pathname,n=le().groupId,r=Bh(),o=r.activeMessageConversation,a=r.setActiveMessageConversation,s=Fh(),u=s.fetchMessages,c=s.deleteConversation,l=Td().initializeCall,d=of(),f=d.getContactByNumber,p=d.getDisplayByNumber,h=Fn(rl(Ih.messages),2),m=h[0],v=h[1],g=Fn((0,i.useState)(!1),2),y=g[0],b=g[1];(0,i.useEffect)((function(){u(n,0)}),[n,u]),(0,i.useEffect)((function(){o&&m?setTimeout((function(){b(!0)}),600):b(!1)}),[o,m]);if((0,i.useEffect)((function(){n&&a(n)}),[n,a]),(0,i.useEffect)((function(){if(y){var e=document.getElementById(Em);e&&(e.scrollTop=e.scrollHeight)}}),[y]),!o)return(0,Fl.jsx)("div",{});var x=p(o.phoneNumber)||o.phoneNumber,_="".concat(x.slice(0,80).trim(),"...");x=x.length>80?_:x;var w=o.phoneNumber;return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:x,isBigHeader:!1,action:(0,Fl.jsxs)("div",{className:"flex",children:[(0,Fl.jsx)(Lp,{className:"mx-3",children:(0,Fl.jsx)(qd,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:function(){return c([o.conversation_id])}})}),p(w)===w&&(0,Fl.jsx)(Lp,{className:"mx-3",children:(0,Fl.jsx)(Zd,{className:"h-6 w-6 cursor-pointer",onClick:function(){return function(n){var r=f(n),i=encodeURIComponent(t);return r?e.push("/contacts/".concat(r.id,"/?referal=").concat(i)):e.push("/contacts/-1/?addNumber=".concat(n,"&referal=").concat(i))}(w)}})}),(0,Fl.jsx)(Gd,{className:"h-6 w-6 cursor-pointer",onClick:function(){return l(w)}})]}),children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){v(null),e.push("/messages")},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"})," Fermer"]})}),(0,Fl.jsx)(_d,{className:"mt-8 mb-4 h-[800px] overflow-scroll",children:y&&o&&(0,Fl.jsx)(Sm,{messages:m,activeMessageGroup:o})})]})})},Mm=function(){var e=zE("MESSAGES"),t=ue();return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[45%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[45%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e,action:(0,Fl.jsx)(ee,{exact:!0,path:"/messages",children:(0,Fl.jsx)(ld,{className:"h-6 w-6 cursor-pointer",onClick:function(){return t.push("/messages/new")}})}),children:(0,Fl.jsx)("div",{})}),(0,Fl.jsx)(_d,{children:(0,Fl.jsxs)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:[(0,Fl.jsxs)(ae,{children:[(0,Fl.jsx)(ee,{path:"/messages/conversations/:groupId",children:(0,Fl.jsx)(Tm,{})}),(0,Fl.jsx)(ee,{exact:!0,path:"/messages",children:(0,Fl.jsx)(Vh,{})})]}),(0,Fl.jsx)(ae,{children:(0,Fl.jsx)(ee,{exact:!0,path:["/messages/new/:phoneNumber","/messages/new"],children:(0,Fl.jsx)(Uh,{})})})]})})]})})};Qc({key:"exampleState",default:el({key:"exampleStateValue",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl("MyExampleTargetEvent",{myPassedData:"hi!"},fl("myMockDataResponse"));case 3:return"ok"!==(t=e.sent).status&&console.error({result:t}),e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})});var Am;!function(e){e.ADD_NOTE="npwd:addNote",e.FETCH_ALL_NOTES="npwd:fetchAllNotes",e.DELETE_NOTE="npwd:deleteNote",e.UPDATE_NOTE="npwd:updateNote",e.ADD_NOTE_EXPORT="npwd:addNoteExport"}(Am||(Am={}));var Cm,Om={noteItems:Qc({key:"noteItem",default:el({key:"defaultNoteItems",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(Am.FETCH_ALL_NOTES);case 3:return t=e.sent,dl({action:"FetchNotes",data:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})}),selectedNote:Qc({key:"selectedNote",default:null}),modalVisibile:Qc({key:"noteModalVisible",default:!1})},Lm=function(){return il(Om.selectedNote)},km=function(){return il(Om.modalVisibile)},Nm=function(){return rl(Om.modalVisibile)},Rm=function(){return tl(Om.noteItems)},Pm=function(){var e=Rm(),t=Lm(),n=Fn(Dl(),1)[0],r=km();return e&&e.length?(0,Fl.jsx)(rh,{children:e.map((function(e,n){return(0,Fl.jsxs)(ih,{onClick:function(){return function(e){t(e),r(!0)}(e)},children:[(0,Fl.jsx)("p",{className:"flex-grow ml-4 py-2",children:e.title}),(0,Fl.jsx)(Lp,{className:"flex items-center",children:(0,Fl.jsx)(ad,{className:"text-white text-opacity-25 w-5 h-5"})})]},e.id)}))}):(0,Fl.jsx)("div",{className:"flex flex-col justify-center items-center text-white h-full",children:n("NOTES.FEEDBACK.NO_NOTES")})},Im=function(){var e=il(Om.noteItems),t=(0,i.useCallback)((function(t){e((function(e){return In(e).filter((function(e){return e.id!==t}))}))}),[e]);return{deleteLocalNote:t,addLocalNote:(0,i.useCallback)((function(t){e((function(e){return[t].concat(In(e))}))}),[e]),updateLocalNote:(0,i.useCallback)((function(t){e((function(e){var n=e.findIndex((function(e){return e.id===t.id})),r=In(e);return r[n]=t,r}))}),[e])}},jm=function(){var e=function(){var e=Bl().addAlert,t=Fn(Dl(),1)[0],n=Im(),r=n.addLocalNote,o=n.deleteLocalNote,a=n.updateLocalNote,s=(0,i.useCallback)(function(){var n=Hn(or().mark((function n(i){var o,a,s;return or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.title,a=i.content,n.next=3,pl(Am.ADD_NOTE,{title:o,content:a});case 3:if("ok"===(s=n.sent).status){n.next=6;break}return n.abrupt("return",e({message:t("NOTES.FEEDBACK.ADD_FAILED"),type:"error"}));case 6:r(s.data),e({message:t("NOTES.FEEDBACK.ADD_SUCCESS"),type:"success"});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,r,t]),u=(0,i.useCallback)(function(){var n=Hn(or().mark((function n(r){var i;return or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pl(Am.DELETE_NOTE,r);case 2:if("ok"===(i=n.sent).status){n.next=5;break}return n.abrupt("return",e({message:t("NOTES.FEEDBACK.DELETE_FAILED"),type:"error"}));case 5:o(i.data.id),e({message:t("NOTES.FEEDBACK.DELETE_SUCCESS"),type:"success"});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,o,t]),c=(0,i.useCallback)(function(){var n=Hn(or().mark((function n(r){var i,o,s;return or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.id,o=r.content,s=r.title,n.next=3,pl(Am.UPDATE_NOTE,{id:i,content:o,title:s});case 3:if("ok"===n.sent.status){n.next=6;break}return n.abrupt("return",e({message:t("NOTES.FEEDBACK.UPDATE_FAILED"),type:"error"}));case 6:a({id:i,title:s,content:o}),e({message:t("NOTES.FEEDBACK.UPDATE_SUCCESS"),type:"success"});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t,a]);return{addNewNote:s,deleteNote:u,updateNote:c}}(),t=e.addNewNote,n=e.deleteNote,r=e.updateNote,o=Fn(Nm(),2),a=o[0],s=o[1],u=Fn(Dl(),1)[0],c=Fn(rl(Om.selectedNote),2),l=c[0],d=(c[1],Fn((0,i.useState)(""),2)),f=d[0],p=d[1],h=Fn((0,i.useState)(""),2),m=h[0],v=h[1],g=(ue(),FE().getApp),y=(ce(),(0,i.useMemo)((function(){return g("NOTES")}),[g]),!Boolean(null===l||void 0===l?void 0:l.id));(0,i.useEffect)((function(){null!==l&&(v(l.content),p(l.title))}),[l]);var b=(0,Fl.jsxs)(up,{as:"div",className:"relative inline-block text-left",children:[(0,Fl.jsx)(up.Button,{children:(0,Fl.jsx)(sd,{className:"h-6 w-6"})}),(0,Fl.jsx)(Op,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)(up.Items,{className:"absolute right-0 w-56 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",disabled:f.length<=0,onClick:y?function(){t({title:f,content:m}).then((function(){s(!1)})).catch(console.error)}:function(){r({id:l.id,title:f,content:m}).then((function(){s(!1)})).catch(console.error)},children:[(0,Fl.jsx)(fd,{className:"mx-3 h-5 w-5"})," Sauvegarder"]})}),!y&&(0,Fl.jsx)(up.Item,{children:(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-red-400 px-2 py-2 hover:text-red-500",onClick:function(){n({id:l.id}).then((function(){s(!1)})).catch(console.error)},children:[(0,Fl.jsx)(hd,{className:"mx-3 h-5 w-5"})," Supprimer"]})})]})})]});return null===l?null:(0,Fl.jsx)(Op,{appear:!0,show:a,as:"div",className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:u("APPS_NOTES"),isBigHeader:!1,action:b,children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){s(!1)},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"}),"Fermer"]})}),(0,Fl.jsxs)(_d,{className:"mt-10 mx-4 mb-4",children:[(0,Fl.jsx)(Up,{placeholder:u("GENERIC.TITLE"),value:f,onChange:function(e){p(e.target.value),e.target.focus()}}),(0,Fl.jsx)(Bp,{placeholder:u("GENERIC.CONTENT"),rows:22,value:m,onChange:function(e){v(e.target.value)}})]})]})})},Dm=function(){var e=zE("NOTES"),t=Rm(),n=Lm(),r=Fn(Nm(),1)[0],o=km(),a=qp({title:"",content:""}),s=a.title,u=a.content;return(0,i.useEffect)((function(){s||u?(o(!0),n({title:s,content:u})):(o(!1),n(null))}),[o,s,u,n]),(0,Fl.jsxs)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[35%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[35%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:[(0,Fl.jsx)(jm,{}),(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e}),(0,Fl.jsx)(_d,{className:"flex-grow mt-6 mb-4",children:(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:(0,Fl.jsx)(ee,{path:"/notes",component:Pm})})}),(0,Fl.jsx)(Op,{appear:!0,show:!r,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,Fl.jsxs)("div",{className:"grid grid-cols-3 items-center font-light text-sm mx-5 mb-10 z-0",children:[(0,Fl.jsxs)("p",{className:"col-start-2 text-white text-center",children:[t.length," note",t.length>1&&"s"]}),(0,Fl.jsx)(zd,{className:"text-yellow-500 place-self-end cursor-pointer w-10 h-10",onClick:function(){n({title:"",content:""}),o(!0)}})]})})]})]})};!function(e){e.ENTER_CAMERA="phone:camera:enter",e.TAKE_PHOTO="phone:camera:take",e.TOGGLE_CAMERA="phone:camera:toggle",e.EXIT_CAMERA="phone:camera:exit",e.TOGGLE_CONTROL_CAMERA="phone:camera:toggleControl",e.CAMERA_EXITED="npwd:cameraExited",e.TAKE_PHOTO_SUCCESS="npwd:TakePhotoSuccess",e.UPLOAD_PHOTO="npwd:UploadPhoto",e.FETCH_PHOTOS="npwd:FetchPhotos",e.DELETE_PHOTO="npwd:deletePhoto"}(Cm||(Cm={}));var Fm={photos:Qc({key:"galleryPhotos",default:el({key:"defaultGalleryPhotos",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(Cm.FETCH_PHOTOS);case 3:return t=e.sent,dl({action:"PhotosFetched",data:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})})},zm=function(){return tl(Fm.photos)},Um=function(){var e=il(Fm.photos);return{takePhoto:(0,i.useCallback)((function(t){e((function(e){return[t].concat(In(e))}))}),[e]),deletePhoto:(0,i.useCallback)((function(t){e((function(e){return In(e).filter((function(e){return e.image!==t}))}))}),[e])}};function Bm(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(Bm.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var Vm,Gm=100,Hm=1e3,Wm=1001,qm=1002,Zm=1003,Ym=1004,$m=1005,Xm=1006,Jm=1008,Km=1009,Qm=1012,ev=1015,tv=1016,nv=1020,rv=1022,iv=1023,ov=1026,av=1027,sv=2300,uv=2301,cv=2302,lv=2400,dv=2401,fv=2402,pv=3e3,hv={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*hv.DEG2RAD},radToDeg:function(e){return e*hv.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function mv(e,t){this.x=e||0,this.y=t||0}function vv(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function gv(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function yv(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function bv(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(mv.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(mv.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new mv,t=new mv;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(vv.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,d,f,p,h,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=d,v[3]=f,v[7]=p,v[11]=h,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new vv).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new yv;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var d=o*c,f=o*l,p=a*c,h=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=f+p*u,t[5]=d-h*u,t[9]=-a*s,t[2]=h-d*u,t[6]=p+f*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,v=s*l,g=u*c,y=u*l;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*c,v=s*l,g=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=g+v*a,t[1]=v+g*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){d=o*c,f=o*l,p=a*c,h=a*l;t[0]=s*c,t[4]=p*u-f,t[8]=d*u+h,t[1]=s*l,t[5]=h*u+d,t[9]=f*u-p,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=_*l+x,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=x*l+_,t[10]=b-w*l}else if("XZY"===e.order){b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=x*l-_,t[2]=_*l-x,t[6]=a*c,t[10]=w*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new yv(0,0,0),t=new yv(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new yv,t=new yv,n=new yv;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],d=n[9],f=n[13],p=n[2],h=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],S=r[12],T=r[1],M=r[5],A=r[9],C=r[13],O=r[2],L=r[6],k=r[10],N=r[14],R=r[3],P=r[7],I=r[11],j=r[15];return i[0]=o*_+a*T+s*O+u*R,i[4]=o*w+a*M+s*L+u*P,i[8]=o*E+a*A+s*k+u*I,i[12]=o*S+a*C+s*N+u*j,i[1]=c*_+l*T+d*O+f*R,i[5]=c*w+l*M+d*L+f*P,i[9]=c*E+l*A+d*k+f*I,i[13]=c*S+l*C+d*N+f*j,i[2]=p*_+h*T+m*O+v*R,i[6]=p*w+h*M+m*L+v*P,i[10]=p*E+h*A+m*k+v*I,i[14]=p*S+h*C+m*N+v*j,i[3]=g*_+y*T+b*O+x*R,i[7]=g*w+y*M+b*L+x*P,i[11]=g*E+y*A+b*k+x*I,i[15]=g*S+y*C+b*N+x*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new yv;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],d=e[10],f=e[14];return e[3]*(+i*s*l-r*u*l-i*a*d+n*u*d+r*a*f-n*s*f)+e[7]*(+t*s*f-t*u*d+i*o*d-r*o*f+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*d+r*o*l-n*o*d+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],d=r[7],f=r[8],p=r[9],h=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=p*y*d-g*h*d+g*l*m-c*y*m-p*l*b+c*h*b,_=v*h*d-f*y*d-v*l*m+u*y*m+f*l*b-u*h*b,w=f*g*d-v*p*d+v*c*m-u*g*m-f*c*b+u*p*b,E=v*p*l-f*g*l-v*c*h+u*g*h+f*c*y-u*p*y,S=i*x+o*_+a*w+s*E;if(0===S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var M=1/S;return n[0]=x*M,n[1]=(g*h*s-p*y*s-g*a*m+o*y*m+p*a*b-o*h*b)*M,n[2]=(c*y*s-g*l*s+g*a*d-o*y*d-c*a*b+o*l*b)*M,n[3]=(p*l*s-c*h*s-p*a*d+o*h*d+c*a*m-o*l*m)*M,n[4]=_*M,n[5]=(f*y*s-v*h*s+v*a*m-i*y*m-f*a*b+i*h*b)*M,n[6]=(v*l*s-u*y*s-v*a*d+i*y*d+u*a*b-i*l*b)*M,n[7]=(u*h*s-f*l*s+f*a*d-i*h*d-u*a*m+i*l*m)*M,n[8]=w*M,n[9]=(v*p*s-f*g*s-v*o*m+i*g*m+f*o*b-i*p*b)*M,n[10]=(u*g*s-v*c*s+v*o*d-i*g*d-u*o*b+i*c*b)*M,n[11]=(f*c*s-u*p*s-f*o*d+i*p*d+u*o*m-i*c*m)*M,n[12]=E*M,n[13]=(f*g*a-v*p*a+v*o*h-i*g*h-f*o*y+i*p*y)*M,n[14]=(v*c*a-u*g*a-v*o*l+i*g*l+u*o*y-i*c*y)*M,n[15]=(u*p*a-f*c*a+f*o*l-i*p*l-u*o*h+i*c*h)*M,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,c=o+o,l=a+a,d=i*u,f=i*c,p=i*l,h=o*c,m=o*l,v=a*l,g=s*u,y=s*c,b=s*l,x=n.x,_=n.y,w=n.z;return r[0]=(1-(h+v))*x,r[1]=(f+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(f-b)*_,r[5]=(1-(d+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(p+y)*w,r[9]=(m-g)*w,r[10]=(1-(d+h))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new yv,t=new vv;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,d=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),d=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,d=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(gv,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],d=i[o+0],f=i[o+1],p=i[o+2],h=i[o+3];if(l!==h||s!==d||u!==f||c!==p){var m=1-a,v=s*d+u*f+c*p+l*h,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*g;if(s=s*m+d*_,u=u*m+f*_,c=c*m+p*_,l=l*m+h*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(gv.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(gv.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),d=s(n/2),f=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l-d*f*p):"YXZ"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l+d*f*p):"ZXY"===o?(this._x=d*c*l-u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l-d*f*p):"ZYX"===o?(this._x=d*c*l-u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l+d*f*p):"YZX"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l-d*f*p):"XZY"===o&&(this._x=d*c*l-u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l+d*f*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],d=n[10],f=r+s+d;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>d?(t=2*Math.sqrt(1+r-s-d),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>d?(t=2*Math.sqrt(1+s-r-d),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+d-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new yv;return function(n,r){return void 0===t&&(t=new yv),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(hv.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize()}var c=Math.sqrt(s),l=Math.atan2(c,a),d=Math.sin((1-t)*l)/c,f=Math.sin(t*l)/c;return this._w=o*d+this._w*f,this._x=n*d+this._x*f,this._y=r*d+this._y*f,this._z=i*d+this._z*f,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(yv.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new gv;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new gv;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=u*s+d*-i+c*-a-l*-o,this.y=c*s+d*-o+l*-i-u*-a,this.z=l*s+d*-a+u*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new vv;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new yv,t=new yv;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new yv;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new yv;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(hv.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(bv.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new yv;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],d=n[2],f=n[5],p=n[8],h=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*h+a*g+s*x,i[3]=o*m+a*y+s*_,i[6]=o*v+a*b+s*w,i[1]=u*h+c*g+l*x,i[4]=u*m+c*y+l*_,i[7]=u*v+c*b+l*w,i[2]=d*h+f*g+p*x,i[5]=d*m+f*y+p*_,i[8]=d*v+f*b+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],d=n[7],f=n[8],p=f*u-c*d,h=c*l-f*s,m=d*s-u*l,v=i*p+o*h+a*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=p*y,r[1]=(a*d-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=h*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-d*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var xv={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Vm&&(Vm=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Vm.width=e.width,Vm.height=e.height;var n=Vm.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Vm}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},_v=0;function wv(e,t,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:_v++}),this.uuid=hv.generateUUID(),this.name="",this.image=void 0!==e?e:wv.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:wv.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Wm,this.wrapT=void 0!==r?r:Wm,this.magFilter=void 0!==i?i:Xm,this.minFilter=void 0!==o?o:Jm,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:iv,this.type=void 0!==s?s:Km,this.offset=new mv(0,0),this.repeat=new mv(1,1),this.center=new mv(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bv,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:pv,this.version=0,this.onUpdate=null}function Ev(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function Sv(e,t,n){this.width=e,this.height=t,this.scissor=new Ev(0,0,e,t),this.scissorTest=!1,this.viewport=new Ev(0,0,e,t),n=n||{},this.texture=new wv(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Xm,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Tv(e,t,n){Sv.call(this,e,t,n),this.samples=4}function Mv(e,t,n){Sv.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Av(e,t,n,r,i,o,a,s,u,c,l,d){wv.call(this,null,o,a,s,u,c,r,i,l,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:Zm,this.minFilter=void 0!==c?c:Zm,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Cv(e,t){this.min=void 0!==e?e:new yv(1/0,1/0,1/0),this.max=void 0!==t?t:new yv(-1/0,-1/0,-1/0)}function Ov(e,t){this.center=void 0!==e?e:new yv,this.radius=void 0!==t?t:0}function Lv(e,t){this.normal=void 0!==e?e:new yv(1,0,0),this.constant=void 0!==t?t:0}function kv(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Lv,void 0!==t?t:new Lv,void 0!==n?n:new Lv,void 0!==r?r:new Lv,void 0!==i?i:new Lv,void 0!==o?o:new Lv]}wv.DEFAULT_IMAGE=void 0,wv.DEFAULT_MAPPING=300,wv.prototype=Object.assign(Object.create(Bm.prototype),{constructor:wv,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=hv.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(xv.getDataURL(r[o]))}else i=xv.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hm:e.x=e.x-Math.floor(e.x);break;case Wm:e.x=e.x<0?0:1;break;case qm:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Hm:e.y=e.y-Math.floor(e.y);break;case Wm:e.y=e.y<0?0:1;break;case qm:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(wv.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ev.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],d=s[1],f=s[5],p=s[9],h=s[2],m=s[6],v=s[10];if(Math.abs(c-d)<o&&Math.abs(l-h)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(l+h)<a&&Math.abs(p+m)<a&&Math.abs(u+f+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(v+1)/2,x=(c+d)/4,_=(l+h)/4,w=(p+m)/4;return g>y&&g>b?g<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=_/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<o?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((m-p)*(m-p)+(l-h)*(l-h)+(d-c)*(d-c));return Math.abs(E)<.001&&(E=1),this.x=(m-p)/E,this.y=(l-h)/E,this.z=(d-c)/E,this.w=Math.acos((u+f+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new Ev,t=new Ev),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Sv.prototype=Object.assign(Object.create(Bm.prototype),{constructor:Sv,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Tv.prototype=Object.assign(Object.create(Sv.prototype),{constructor:Tv,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Sv.prototype.copy.call(this,e),this.samples=e.samples,this}}),Mv.prototype=Object.create(Sv.prototype),Mv.prototype.constructor=Mv,Mv.prototype.isWebGLRenderTargetCube=!0,Av.prototype=Object.create(wv.prototype),Av.prototype.constructor=Av,Av.prototype.isDataTexture=!0,Object.assign(Cv.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],d=e[s+2];c<t&&(t=c),l<n&&(n=l),d<r&&(r=d),c>i&&(i=c),l>o&&(o=l),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),d=e.getZ(s);c<t&&(t=c),l<n&&(n=l),d<r&&(r=d),c>i&&(i=c),l>o&&(o=l),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new yv;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new yv),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new yv),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new yv;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,n=a.length;t<n;t++)r.copy(a[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new yv),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new yv;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new yv,t=new yv,n=new yv,r=new yv,i=new yv,o=new yv,a=new yv,s=new yv,u=new yv,c=new yv;function l(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){a.fromArray(r,i);var s=u.x*Math.abs(a.x)+u.y*Math.abs(a.y)+u.z*Math.abs(a.z),c=e.dot(a),l=t.dot(a),d=n.dot(a);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),e.subVectors(a.a,s),t.subVectors(a.b,s),n.subVectors(a.c,s),r.subVectors(t,e),i.subVectors(n,t),o.subVectors(e,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(d)&&(!!l(d=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,i),l(d=[c.x,c.y,c.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new yv),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new yv;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new yv;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new Ov),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new yv,new yv,new yv,new yv,new yv,new yv,new yv,new yv];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Ov.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new Cv;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new yv),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Cv),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(Lv.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new yv,t=new yv;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new yv),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new yv;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new yv);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new yv),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new yv,t=new bv;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(kv.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,l-s,h-d,y-m).normalize(),t[1].setComponents(a+r,l+s,h+d,y+m).normalize(),t[2].setComponents(a+i,l+u,h+f,y+v).normalize(),t[3].setComponents(a-i,l-u,h-f,y-v).normalize(),t[4].setComponents(a-o,l-c,h-p,y-g).normalize(),t[5].setComponents(a+o,l+c,h+p,y+g).normalize(),this},intersectsObject:function(){var e=new Ov;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new Ov;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new yv;return function(t){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(e.x=i.normal.x>0?t.max.x:t.min.x,e.y=i.normal.y>0?t.max.y:t.min.y,e.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Nv={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function Rv(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Pv(e){for(var t={},n=0;n<e.length;n++){var r=Rv(e[n]);for(var i in r)t[i]=r[i]}return t}var Iv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function jv(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(jv.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=hv.euclideanModulo(t,1),n=hv.clamp(n,0,1),r=hv.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(c=Iv[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),u=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;switch(n=u<=.5?c/(a+s):c/(2-a-s),a){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=hv.lerp(e.h,t.h,r),o=hv.lerp(e.s,t.s,r),a=hv.lerp(e.l,t.l,r);return this.setHSL(i,o,a),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Dv={common:{diffuse:{value:new jv(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new bv},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new mv(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jv(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new jv(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new bv}},sprite:{diffuse:{value:new jv(15658734)},opacity:{value:1},center:{value:new mv(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new bv}}},Fv={basic:{uniforms:Pv([Dv.common,Dv.specularmap,Dv.envmap,Dv.aomap,Dv.lightmap,Dv.fog]),vertexShader:Nv.meshbasic_vert,fragmentShader:Nv.meshbasic_frag},lambert:{uniforms:Pv([Dv.common,Dv.specularmap,Dv.envmap,Dv.aomap,Dv.lightmap,Dv.emissivemap,Dv.fog,Dv.lights,{emissive:{value:new jv(0)}}]),vertexShader:Nv.meshlambert_vert,fragmentShader:Nv.meshlambert_frag},phong:{uniforms:Pv([Dv.common,Dv.specularmap,Dv.envmap,Dv.aomap,Dv.lightmap,Dv.emissivemap,Dv.bumpmap,Dv.normalmap,Dv.displacementmap,Dv.gradientmap,Dv.fog,Dv.lights,{emissive:{value:new jv(0)},specular:{value:new jv(1118481)},shininess:{value:30}}]),vertexShader:Nv.meshphong_vert,fragmentShader:Nv.meshphong_frag},standard:{uniforms:Pv([Dv.common,Dv.envmap,Dv.aomap,Dv.lightmap,Dv.emissivemap,Dv.bumpmap,Dv.normalmap,Dv.displacementmap,Dv.roughnessmap,Dv.metalnessmap,Dv.fog,Dv.lights,{emissive:{value:new jv(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Nv.meshphysical_vert,fragmentShader:Nv.meshphysical_frag},matcap:{uniforms:Pv([Dv.common,Dv.bumpmap,Dv.normalmap,Dv.displacementmap,Dv.fog,{matcap:{value:null}}]),vertexShader:Nv.meshmatcap_vert,fragmentShader:Nv.meshmatcap_frag},points:{uniforms:Pv([Dv.points,Dv.fog]),vertexShader:Nv.points_vert,fragmentShader:Nv.points_frag},dashed:{uniforms:Pv([Dv.common,Dv.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nv.linedashed_vert,fragmentShader:Nv.linedashed_frag},depth:{uniforms:Pv([Dv.common,Dv.displacementmap]),vertexShader:Nv.depth_vert,fragmentShader:Nv.depth_frag},normal:{uniforms:Pv([Dv.common,Dv.bumpmap,Dv.normalmap,Dv.displacementmap,{opacity:{value:1}}]),vertexShader:Nv.normal_vert,fragmentShader:Nv.normal_frag},sprite:{uniforms:Pv([Dv.sprite,Dv.fog]),vertexShader:Nv.sprite_vert,fragmentShader:Nv.sprite_frag},background:{uniforms:{uvTransform:{value:new bv},t2D:{value:null}},vertexShader:Nv.background_vert,fragmentShader:Nv.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Nv.cube_vert,fragmentShader:Nv.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nv.equirect_vert,fragmentShader:Nv.equirect_frag},distanceRGBA:{uniforms:Pv([Dv.common,Dv.displacementmap,{referencePosition:{value:new yv},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nv.distanceRGBA_vert,fragmentShader:Nv.distanceRGBA_frag},shadow:{uniforms:Pv([Dv.lights,Dv.fog,{color:{value:new jv(0)},opacity:{value:1}}]),vertexShader:Nv.shadow_vert,fragmentShader:Nv.shadow_frag}};function zv(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Uv(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function Bv(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new yv,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new jv,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function Vv(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Vv.DefaultOrder}function Gv(){this.mask=1}Fv.physical={uniforms:Pv([Fv.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Nv.meshphysical_vert,fragmentShader:Nv.meshphysical_frag},Object.assign(Bv.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Vv.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Vv.DefaultOrder="XYZ",Object.defineProperties(Vv.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Vv.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=hv.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],d=i[2],f=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new vv;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new gv;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new yv(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Gv.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var Hv=0;function Wv(){Object.defineProperty(this,"id",{value:Hv++}),this.uuid=hv.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wv.DefaultUp.clone();var e=new yv,t=new Vv,n=new gv,r=new yv(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vv},normalMatrix:{value:new bv}}),this.matrix=new vv,this.matrixWorld=new vv,this.matrixAutoUpdate=Wv.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Gv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Wv.DefaultUp=new yv(0,1,0),Wv.DefaultMatrixAutoUpdate=!0,Wv.prototype=Object.assign(Object.create(Bm.prototype),{constructor:Wv,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new gv;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new gv;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new yv(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new yv(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new yv(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new yv;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new yv(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new yv(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new yv(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new vv;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new gv,t=new vv,n=new yv,r=new yv;return function(i,o,a){i.isVector3?n.copy(i):n.set(i,o,a);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new yv),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new yv,t=new yv;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new gv),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new yv,t=new gv;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new yv),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new yv),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,u=a.length;s<u;s++){var c=a[s];i(e.shapes,c)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,u=this.material.length;s<u;s++)l.push(i(e.materials,this.material[s]));r.material=l}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),f=m(e.materials),p=m(e.textures),h=m(e.images);a=m(e.shapes);d.length>0&&(n.geometries=d),f.length>0&&(n.materials=f),p.length>0&&(n.textures=p),h.length>0&&(n.images=h),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var qv=0;function Zv(){Object.defineProperty(this,"id",{value:qv+=2}),this.uuid=hv.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Yv(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function $v(e,t,n){Yv.call(this,new Int8Array(e),t,n)}function Xv(e,t,n){Yv.call(this,new Uint8Array(e),t,n)}function Jv(e,t,n){Yv.call(this,new Uint8ClampedArray(e),t,n)}function Kv(e,t,n){Yv.call(this,new Int16Array(e),t,n)}function Qv(e,t,n){Yv.call(this,new Uint16Array(e),t,n)}function eg(e,t,n){Yv.call(this,new Int32Array(e),t,n)}function tg(e,t,n){Yv.call(this,new Uint32Array(e),t,n)}function ng(e,t,n){Yv.call(this,new Float32Array(e),t,n)}function rg(e,t,n){Yv.call(this,new Float64Array(e),t,n)}function ig(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function og(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Zv.prototype=Object.assign(Object.create(Bm.prototype),{constructor:Zv,isGeometry:!0,applyMatrix:function(e){for(var t=(new bv).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new vv;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new vv;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new vv;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new vv;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new vv;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Wv;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=0,l=0;c<i.length;c+=3,l+=2)t.vertices.push((new yv).fromArray(i,c)),void 0!==a&&t.colors.push((new jv).fromArray(a,c));function d(e,n,r,i){var c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],l=new Bv(e,n,r,void 0===o?[]:[(new yv).fromArray(o,3*e),(new yv).fromArray(o,3*n),(new yv).fromArray(o,3*r)],c,i);t.faces.push(l),void 0!==s&&t.faceVertexUvs[0].push([(new mv).fromArray(s,2*e),(new mv).fromArray(s,2*n),(new mv).fromArray(s,2*r)]),void 0!==u&&t.faceVertexUvs[1].push([(new mv).fromArray(u,2*e),(new mv).fromArray(u,2*n),(new mv).fromArray(u,2*r)])}var f=e.groups;if(f.length>0)for(c=0;c<f.length;c++)for(var p=f[c],h=p.start,m=(l=h,h+p.count);l<m;l+=3)void 0!==n?d(n[l],n[l+1],n[l+2],p.materialIndex):d(l,l+1,l+2,p.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)d(n[c],n[c+1],n[c+2]);else for(c=0;c<i.length/3;c+=3)d(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new yv;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new vv;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new yv,t=new yv,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new yv;if(e){var s,u,c,l=new yv,d=new yv;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],l.subVectors(c,u),d.subVectors(s,u),l.cross(d),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new Zv;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new yv,c={a:new yv,b:new yv,c:new yv},a.push(u),s.push(c)}var u,c,l=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=l.faceNormals[n],c=l.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Cv),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ov),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],d=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new bv).getNormalMatrix(t));for(var p=0,h=a.length;p<h;p++){var m=a[p].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(p=0,h=f.length;p<h;p++)d.push(f[p].clone());for(p=0,h=u.length;p<h;p++){var v,g,y,b=u[p],x=b.vertexNormals,_=b.vertexColors;(v=new Bv(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var w=0,E=x.length;w<E;w++)g=x[w].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(w=0,E=_.length;w<E;w++)y=_[w],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+n,s.push(v)}for(p=0,h=l.length;p<h;p++){var S=l[p],T=[];if(void 0!==S){for(w=0,E=S.length;w<E;w++)T.push(S[w].clone());c.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var h=f[n];for(this.faces.splice(h,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(h,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new yv(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],u={},c=[],l={},d=[],f={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],h=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,h),b=E(b,4,m),b=E(b,5,v),b=E(b,6,g),b=E(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),h){var x=this.faceVertexUvs[0][i];a.push(M(x[0]),M(x[1]),M(x[2]))}if(m&&a.push(S(p.normal)),v){var _=p.vertexNormals;a.push(S(_[0]),S(_[1]),S(_[2]))}if(g&&a.push(T(p.color)),y){var w=p.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]||(l[t]=c.length,c.push(e.getHex())),l[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==f[t]||(f[t]=d.length/2,d.push(e.x,e.y)),f[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new Zv).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var d=l[r],f=[];for(o=0,a=d.length;o<a;o++){var p=d[o];f.push(p.clone())}this.faceVertexUvs[t].push(f)}}var h=e.morphTargets;for(t=0,n=h.length;t<n;t++){var m={};if(m.name=h[t].name,void 0!==h[t].vertices)for(m.vertices=[],r=0,i=h[t].vertices.length;r<i;r++)m.vertices.push(h[t].vertices[r].clone());if(void 0!==h[t].normals)for(m.normals=[],r=0,i=h[t].normals.length;r<i;r++)m.normals.push(h[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Yv.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Yv.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new jv),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new mv),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new yv),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Ev),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),$v.prototype=Object.create(Yv.prototype),$v.prototype.constructor=$v,Xv.prototype=Object.create(Yv.prototype),Xv.prototype.constructor=Xv,Jv.prototype=Object.create(Yv.prototype),Jv.prototype.constructor=Jv,Kv.prototype=Object.create(Yv.prototype),Kv.prototype.constructor=Kv,Qv.prototype=Object.create(Yv.prototype),Qv.prototype.constructor=Qv,eg.prototype=Object.create(Yv.prototype),eg.prototype.constructor=eg,tg.prototype=Object.create(Yv.prototype),tg.prototype.constructor=tg,ng.prototype=Object.create(Yv.prototype),ng.prototype.constructor=ng,rg.prototype=Object.create(Yv.prototype),rg.prototype.constructor=rg,Object.assign(ig.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var l,d=e.morphNormals,f=d.length;if(f>0){l=[];for(c=0;c<f;c++)l[c]={name:d[c].name,data:[]};this.morphTargets.normal=l}var p=e.skinIndices,h=e.skinWeights,m=p.length===r.length,v=h.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<n.length;c++){var g=n[c];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x,_=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(x=i[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new mv,new mv,new mv));if(!0===a)void 0!==(x=i[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new mv,new mv,new mv));for(var E=0;E<u;E++){var S=s[E].vertices;t[E].data.push(S[g.a],S[g.b],S[g.c])}for(E=0;E<f;E++){var T=d[E].vertexNormals[c];l[E].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(h[g.a],h[g.b],h[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var ag=1;function sg(){Object.defineProperty(this,"id",{value:ag+=2}),this.uuid=hv.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ug(e,t,n,r,i,o){Zv.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new cg(e,t,n,r,i,o)),this.mergeVertices()}function cg(e,t,n,r,i,o){sg.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],u=[],c=[],l=[],d=0,f=0;function p(e,t,n,r,i,o,p,h,m,v,g){var y,b,x=o/m,_=p/v,w=o/2,E=p/2,S=h/2,T=m+1,M=v+1,A=0,C=0,O=new yv;for(b=0;b<M;b++){var L=b*_-E;for(y=0;y<T;y++){var k=y*x-w;O[e]=k*r,O[t]=L*i,O[n]=S,u.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[n]=h>0?1:-1,c.push(O.x,O.y,O.z),l.push(y/m),l.push(1-b/v),A+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var N=d+y+T*b,R=d+y+T*(b+1),P=d+(y+1)+T*(b+1),I=d+(y+1)+T*b;s.push(N,R,I),s.push(R,P,I),C+=6}a.addGroup(f,C,g),f+=C,d+=A}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new ng(u,3)),this.addAttribute("normal",new ng(c,3)),this.addAttribute("uv",new ng(l,2))}function lg(e,t,n,r){Zv.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new dg(e,t,n,r)),this.mergeVertices()}function dg(e,t,n,r){sg.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,d=c+1,f=e/u,p=t/c,h=[],m=[],v=[],g=[];for(o=0;o<d;o++){var y=o*p-s;for(i=0;i<l;i++){var b=i*f-a;m.push(b,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var x=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),E=i+1+l*o;h.push(x,_,E),h.push(_,w,E)}this.setIndex(h),this.addAttribute("position",new ng(m,3)),this.addAttribute("normal",new ng(v,3)),this.addAttribute("uv",new ng(g,2))}sg.prototype=Object.assign(Object.create(Bm.prototype),{constructor:sg,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(og(e)>65535?tg:Qv)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Yv(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new bv).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new vv;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new vv;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new vv;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new vv;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new vv;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Wv;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new yv;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new ng(3*t.vertices.length,3),r=new ng(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new ng(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new ng(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ig).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Yv(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Yv(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Yv(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Yv(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Yv(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[a],c=0,l=u.length;c<l;c++){var d=u[c],f=new ng(3*d.data.length,3);f.name=d.name,s.push(f.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new ng(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var h=new ng(4*e.skinWeights.length,4);this.addAttribute("skinWeight",h.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Cv);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new Cv,t=new yv;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ov);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Yv(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,u,c=t.normal.array,l=new yv,d=new yv,f=new yv,p=new yv,h=new yv;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],u=3*m[i+2],l.fromArray(n,a),d.fromArray(n,s),f.fromArray(n,u),p.subVectors(f,d),h.subVectors(l,d),p.cross(h),c[a]+=p.x,c[a+1]+=p.y,c[a+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[u]+=p.x,c[u+1]+=p.y,c[u+2]+=p.z}else for(i=0,o=n.length;i<o;i+=9)l.fromArray(n,i),d.fromArray(n,i+3),f.fromArray(n,i+6),p.subVectors(f,d),h.subVectors(l,d),p.cross(h),c[i]=p.x,c[i+1]=p.y,c[i+2]=p.z,c[i+3]=p.x,c[i+4]=p.y,c[i+5]=p.z,c[i+6]=p.x,c[i+7]=p.y,c[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,u=o.itemSize*t;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new yv;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,u=t.length;s<u;s++){o=t[s]*r;for(var c=0;c<r;c++)i[a++]=n[o++]}return new Yv(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new sg,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.addAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],u=a[i],c=0,l=u.length;c<l;c++){o=e(u[c],n);s.push(o)}t.morphAttributes[i]=s}for(var d=this.groups,f=(c=0,d.length);c<f;c++){var p=d[c];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new sg).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var d=l[n];this.addGroup(d.start,d.count,d.materialIndex)}var f=e.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ug.prototype=Object.create(Zv.prototype),ug.prototype.constructor=ug,cg.prototype=Object.create(sg.prototype),cg.prototype.constructor=cg,lg.prototype=Object.create(Zv.prototype),lg.prototype.constructor=lg,dg.prototype=Object.create(sg.prototype),dg.prototype.constructor=dg;var fg=0;function pg(){Object.defineProperty(this,"id",{value:fg++}),this.uuid=hv.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Gm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function hg(e){pg.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function mg(e,t){this.origin=void 0!==e?e:new yv,this.direction=void 0!==t?t:new yv}function vg(e,t,n){this.a=void 0!==e?e:new yv,this.b=void 0!==t?t:new yv,this.c=void 0!==n?n:new yv}function gg(e){pg.call(this),this.type="MeshBasicMaterial",this.color=new jv(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function yg(e,t){Wv.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new sg,this.material=void 0!==t?t:new gg({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function bg(e,t,n,r){var i,o,a=new jv(0),s=0,u=null,c=0;function l(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),l(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){l(a,s=e)},render:function(t,r,d,f){var p=r.background;if(null===p?(l(a,s),u=null,c=0):p&&p.isColor&&(l(p,1),f=!0,u=null,c=0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===o&&((o=new yg(new cg(1,1,1),new hg({type:"BackgroundCubeMaterial",uniforms:Rv(Fv.cube.uniforms),vertexShader:Fv.cube.vertexShader,fragmentShader:Fv.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var h=p.isWebGLRenderTargetCube?p.texture:p;o.material.uniforms.tCube.value=h,o.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,u===p&&c===h.version||(o.material.needsUpdate=!0,u=p,c=h.version),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new yg(new dg(2,2),new hg({type:"BackgroundMaterial",uniforms:Rv(Fv.background.uniforms),vertexShader:Fv.background.vertexShader,fragmentShader:Fv.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&c===p.version||(i.material.needsUpdate=!0,u=p,c=p.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function xg(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}function _g(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),l=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),h=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=l>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:h,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:o?e.getParameter(36183):0}}function wg(){var e=this,t=null,n=0,r=!1,i=!1,o=new Lv,a=new bv,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,r,i){var u=null!==t?t.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,d=n.matrixWorldInverse;a.getNormalMatrix(d),(null===c||c.length<l)&&(c=new Float32Array(l));for(var f=0,p=r;f!==u;++f,p+=4)o.copy(t[f]).applyMatrix4(d,a),o.normal.toArray(c,p),c[p+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=u,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,o,a,l,d,f){if(!r||null===e||0===e.length||i&&!a)i?c(null):u();else{var p=i?0:n,h=4*p,m=d.clippingState||null;s.value=m,m=c(e,l,h,f);for(var v=0;v!==h;++v)m[v]=t[v];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function Eg(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Sg(e,t,n){var r={},i={};function o(e){var a=e.target,s=r[a.id];for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);a.removeEventListener("dispose",o),delete r[a.id];var c=i[s.id];c&&(t.remove(c),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new sg).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,u=a.length;s<u;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,o=[],a=e.index,s=e.attributes;if(null!==a)for(var u=0,c=(r=a.array).length;u<c;u+=3){var l=r[u+0],d=r[u+1],f=r[u+2];o.push(l,d,d,f,f,l)}else for(u=0,c=(r=s.position.array).length/3-1;u<c;u+=3){l=u+0,d=u+1,f=u+2;o.push(l,d,d,f,f,l)}return n=new(og(o)>65535?tg:Qv)(o,1),t.update(n,34963),i[e.id]=n,n}}}function Tg(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,u,c){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,u*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}function Mg(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ag(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Cg(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,u=s.length,c=t[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];t[i.id]=c}var d=o.morphTargets&&i.morphAttributes.position,f=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<u;l++){0!==(p=c[l])[1]&&(d&&i.removeAttribute("morphTarget"+l),f&&i.removeAttribute("morphNormal"+l))}for(l=0;l<u;l++){(p=c[l])[0]=l,p[1]=s[l]}for(c.sort(Ag),l=0;l<8;l++){var p;if(p=c[l]){var h=p[0],m=p[1];if(m){d&&i.addAttribute("morphTarget"+l,d[h]),f&&i.addAttribute("morphNormal"+l,f[h]),n[l]=m;continue}}n[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Og(e,t){var n={};return{update:function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},dispose:function(){n={}}}}function Lg(e,t,n,r,i,o,a,s,u,c){e=void 0!==e?e:[],t=void 0!==t?t:301,wv.call(this,e,t,n,r,i,o,a,s,u,c),this.flipY=!1}function kg(e,t,n,r){wv.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Zm,this.minFilter=Zm,this.generateMipmaps=!1,this.flipY=!1}pg.prototype=Object.assign(Object.create(Bm.prototype),{constructor:pg,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),hg.prototype=Object.create(pg.prototype),hg.prototype.constructor=hg,hg.prototype.isShaderMaterial=!0,hg.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rv(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},hg.prototype.toJSON=function(e){var t=pg.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Object.assign(mg.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new yv),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new yv;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new yv),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new yv;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new yv,t=new yv,n=new yv;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,d=.5*r.distanceTo(i),f=-this.direction.dot(t),p=n.dot(this.direction),h=-n.dot(t),m=n.lengthSq(),v=Math.abs(1-f*f);if(v>0)if(u=f*p-h,l=d*v,(s=f*h-p)>=0)if(u>=-l)if(u<=l){var g=1/v;c=(s*=g)*(s+f*(u*=g)+2*p)+u*(f*s+u+2*h)+m}else u=d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;else u=-d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;else u<=-l?c=-(s=Math.max(0,-(-f*d+p)))*s+(u=s>0?-d:Math.min(Math.max(-d,-h),d))*(u+2*h)+m:u<=l?(s=0,c=(u=Math.min(Math.max(-d,-h),d))*(u+2*h)+m):c=-(s=Math.max(0,-(f*d+p)))*s+(u=s>0?d:Math.min(Math.max(-d,-h),d))*(u+2*h)+m;else u=f>0?-d:d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new yv;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,d=this.origin;return u>=0?(n=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-d.z)*l,s=(e.max.z-d.z)*l):(a=(e.max.z-d.z)*l,s=(e.min.z-d.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new yv;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new yv,t=new yv,n=new yv,r=new yv;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var d=c*this.direction.dot(n.crossVectors(e,n));if(d<0)return null;var f=c*this.direction.dot(t.cross(e));if(f<0)return null;if(d+f>l)return null;var p=-c*e.dot(r);return p<0?null:this.at(p/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(vg,{getNormal:function(){var e=new yv;return function(t,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new yv),i.subVectors(r,n),e.subVectors(t,n),i.cross(e);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new yv,t=new yv,n=new yv;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var u=e.dot(e),c=e.dot(t),l=e.dot(n),d=t.dot(t),f=t.dot(n),p=u*d-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new yv),0===p)return s.set(-2,-1,-1);var h=1/p,m=(d*l-c*f)*h,v=(u*f-c*l)*h;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var e=new yv;return function(t,n,r,i){return vg.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new yv;return function(t,n,r,i,o,a,s,u){return this.getBarycoord(t,n,r,i,e),u.set(0,0),u.addScaledVector(o,e.x),u.addScaledVector(a,e.y),u.addScaledVector(s,e.z),u}}()}),Object.assign(vg.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new yv,t=new yv;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new yv),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return vg.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new yv),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return vg.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return vg.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return vg.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new yv,t=new yv,n=new yv,r=new yv,i=new yv,o=new yv;return function(a,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new yv);var u,c,l=this.a,d=this.b,f=this.c;e.subVectors(d,l),t.subVectors(f,l),r.subVectors(a,l);var p=e.dot(r),h=t.dot(r);if(p<=0&&h<=0)return s.copy(l);i.subVectors(a,d);var m=e.dot(i),v=t.dot(i);if(m>=0&&v<=m)return s.copy(d);var g=p*v-m*h;if(g<=0&&p>=0&&m<=0)return u=p/(p-m),s.copy(l).addScaledVector(e,u);o.subVectors(a,f);var y=e.dot(o),b=t.dot(o);if(b>=0&&y<=b)return s.copy(f);var x=y*h-p*b;if(x<=0&&h>=0&&b<=0)return c=h/(h-b),s.copy(l).addScaledVector(t,c);var _=m*b-y*v;if(_<=0&&v-m>=0&&y-b>=0)return n.subVectors(f,d),c=(v-m)/(v-m+(y-b)),s.copy(d).addScaledVector(n,c);var w=1/(_+x+g);return u=x*w,c=g*w,s.copy(l).addScaledVector(e,u).addScaledVector(t,c)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),gg.prototype=Object.create(pg.prototype),gg.prototype.constructor=gg,gg.prototype.isMeshBasicMaterial=!0,gg.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},yg.prototype=Object.assign(Object.create(Wv.prototype),{constructor:yg,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Wv.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new vv,t=new mg,n=new Ov,r=new yv,i=new yv,o=new yv,a=new yv,s=new yv,u=new yv,c=new mv,l=new mv,d=new mv,f=new yv,p=new yv;function h(e,t,n,r,i,o,a,s){if(null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s)))return null;p.copy(s),p.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(p);return u<n.near||u>n.far?null:{distance:u,point:p.clone(),object:e}}function m(e,t,n,a,s,u,p,m,v){r.fromBufferAttribute(s,p),i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,v);var g=h(e,t,n,a,r,i,o,f);if(g){u&&(c.fromBufferAttribute(u,p),l.fromBufferAttribute(u,m),d.fromBufferAttribute(u,v),g.uv=vg.getUV(f,r,i,o,c,l,d,new mv));var y=new Bv(p,m,v);vg.getNormal(r,i,o,y.normal),g.face=y}return g}return function(p,v){var g,y=this.geometry,b=this.material,x=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(x),!1!==p.ray.intersectsSphere(n)&&(e.getInverse(x),t.copy(p.ray).applyMatrix4(e),null===y.boundingBox||!1!==t.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var _,w,E,S,T,M,A,C,O,L=y.index,k=y.attributes.position,N=y.attributes.uv,R=y.groups,P=y.drawRange;if(null!==L)if(Array.isArray(b))for(S=0,M=R.length;S<M;S++)for(O=b[(C=R[S]).materialIndex],T=Math.max(C.start,P.start),A=Math.min(C.start+C.count,P.start+P.count);T<A;T+=3)_=L.getX(T),w=L.getX(T+1),E=L.getX(T+2),(g=m(this,O,p,t,k,N,_,w,E))&&(g.faceIndex=Math.floor(T/3),v.push(g));else for(S=Math.max(0,P.start),M=Math.min(L.count,P.start+P.count);S<M;S+=3)_=L.getX(S),w=L.getX(S+1),E=L.getX(S+2),(g=m(this,b,p,t,k,N,_,w,E))&&(g.faceIndex=Math.floor(S/3),v.push(g));else if(void 0!==k)if(Array.isArray(b))for(S=0,M=R.length;S<M;S++)for(O=b[(C=R[S]).materialIndex],T=Math.max(C.start,P.start),A=Math.min(C.start+C.count,P.start+P.count);T<A;T+=3)(g=m(this,O,p,t,k,N,_=T,w=T+1,E=T+2))&&(g.faceIndex=Math.floor(T/3),v.push(g));else for(S=Math.max(0,P.start),M=Math.min(k.count,P.start+P.count);S<M;S+=3)(g=m(this,b,p,t,k,N,_=S,w=S+1,E=S+2))&&(g.faceIndex=Math.floor(S/3),v.push(g))}else if(y.isGeometry){var I,j,D,F,z=Array.isArray(b),U=y.vertices,B=y.faces,V=y.faceVertexUvs[0];V.length>0&&(F=V);for(var G=0,H=B.length;G<H;G++){var W=B[G],q=z?b[W.materialIndex]:b;if(void 0!==q){if(I=U[W.a],j=U[W.b],D=U[W.c],!0===q.morphTargets){var Z=y.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var $=0,X=Z.length;$<X;$++){var J=Y[$];if(0!==J){var K=Z[$].vertices;r.addScaledVector(a.subVectors(K[W.a],I),J),i.addScaledVector(s.subVectors(K[W.b],j),J),o.addScaledVector(u.subVectors(K[W.c],D),J)}}r.add(I),i.add(j),o.add(D),I=r,j=i,D=o}if(g=h(this,q,p,t,I,j,D,f)){if(F&&F[G]){var Q=F[G];c.copy(Q[0]),l.copy(Q[1]),d.copy(Q[2]),g.uv=vg.getUV(f,I,j,D,c,l,d,new mv)}g.face=W,g.faceIndex=G,v.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Lg.prototype=Object.create(wv.prototype),Lg.prototype.constructor=Lg,Lg.prototype.isCubeTexture=!0,Object.defineProperty(Lg.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),kg.prototype=Object.create(wv.prototype),kg.prototype.constructor=kg,kg.prototype.isDataTexture3D=!0;var Ng=new wv,Rg=new kg,Pg=new Lg;function Ig(){this.seq=[],this.map={}}var jg=[],Dg=[],Fg=new Float32Array(16),zg=new Float32Array(9),Ug=new Float32Array(4);function Bg(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=jg[i];if(void 0===o&&(o=new Float32Array(i),jg[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Vg(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Gg(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Hg(e,t){var n=Dg[t];void 0===n&&(n=new Int32Array(t),Dg[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function Wg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function qg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Zg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Vg(n,t))return;e.uniform2fv(this.addr,t),Gg(n,t)}}function Yg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Vg(n,t))return;e.uniform3fv(this.addr,t),Gg(n,t)}}function $g(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Vg(n,t))return;e.uniform4fv(this.addr,t),Gg(n,t)}}function Xg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vg(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Gg(n,t)}else{if(Vg(n,r))return;Ug.set(r),e.uniformMatrix2fv(this.addr,!1,Ug),Gg(n,r)}}function Jg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vg(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Gg(n,t)}else{if(Vg(n,r))return;zg.set(r),e.uniformMatrix3fv(this.addr,!1,zg),Gg(n,r)}}function Kg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vg(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Gg(n,t)}else{if(Vg(n,r))return;Fg.set(r),e.uniformMatrix4fv(this.addr,!1,Fg),Gg(n,r)}}function Qg(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Ng,i)}function ey(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Rg,i)}function ty(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Pg,i)}function ny(e,t){var n=this.cache;Vg(n,t)||(e.uniform2iv(this.addr,t),Gg(n,t))}function ry(e,t){var n=this.cache;Vg(n,t)||(e.uniform3iv(this.addr,t),Gg(n,t))}function iy(e,t){var n=this.cache;Vg(n,t)||(e.uniform4iv(this.addr,t),Gg(n,t))}function oy(e,t){var n=this.cache;Vg(n,t)||(e.uniform1fv(this.addr,t),Gg(n,t))}function ay(e,t){var n=this.cache;Vg(n,t)||(e.uniform1iv(this.addr,t),Gg(n,t))}function sy(e,t){var n=this.cache,r=Bg(t,this.size,2);Vg(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function uy(e,t){var n=this.cache,r=Bg(t,this.size,3);Vg(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function cy(e,t){var n=this.cache,r=Bg(t,this.size,4);Vg(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function ly(e,t){var n=this.cache,r=Bg(t,this.size,4);Vg(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function dy(e,t){var n=this.cache,r=Bg(t,this.size,9);Vg(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function fy(e,t){var n=this.cache,r=Bg(t,this.size,16);Vg(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function py(e,t,n){var r=this.cache,i=t.length,o=Hg(n,i);!1===Vg(r,o)&&(e.uniform1iv(this.addr,o),Gg(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||Ng,o[a])}function hy(e,t,n){var r=this.cache,i=t.length,o=Hg(n,i);!1===Vg(r,o)&&(e.uniform1iv(this.addr,o),Gg(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Pg,o[a])}function my(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Wg;case 35664:return Zg;case 35665:return Yg;case 35666:return $g;case 35674:return Xg;case 35675:return Jg;case 35676:return Kg;case 35678:case 36198:return Qg;case 35679:return ey;case 35680:return ty;case 5124:case 35670:return qg;case 35667:case 35671:return ny;case 35668:case 35672:return ry;case 35669:case 35673:return iy}}(t.type)}function vy(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return oy;case 35664:return sy;case 35665:return uy;case 35666:return cy;case 35674:return ly;case 35675:return dy;case 35676:return fy;case 35678:return py;case 35680:return hy;case 5124:case 35670:return ay;case 35667:case 35671:return ny;case 35668:case 35672:return ry;case 35669:case 35673:return iy}}(t.type)}function gy(e){this.id=e,Ig.call(this)}vy.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Gg(t,e)},gy.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var yy=/([\w\d_]+)(\])?(\[|\.)?/g;function by(e,t){e.seq.push(t),e.map[t.id]=t}function xy(e,t,n){var r=e.name,i=r.length;for(yy.lastIndex=0;;){var o=yy.exec(r),a=yy.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){by(n,void 0===c?new my(s,e,t):new vy(s,e,t));break}var l=n.map[s];void 0===l&&by(n,l=new gy(s)),n=l}}function _y(e,t,n){Ig.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var o=e.getActiveUniform(t,i);xy(o,e.getUniformLocation(t,o.name),this)}}function wy(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}_y.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},_y.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},_y.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},_y.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var Ey=0;function Sy(e){switch(e){case pv:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ty(e,t){var n=Sy(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function My(e,t){var n=Sy(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ay(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Cy(e){return""!==e}function Oy(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Ly(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function ky(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=Nv[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ky(n)}))}function Ny(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}))}function Ry(e,t,n,r,i,o,a){var s=e.context,u=r.defines,c=i.vertexShader,l=i.fragmentShader,d="SHADOWMAP_TYPE_BASIC";1===o.shadowMapType?d="SHADOWMAP_TYPE_PCF":2===o.shadowMapType&&(d="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case 301:case 302:f="ENVMAP_TYPE_CUBE";break;case 306:case 307:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:h="ENVMAP_BLENDING_MULTIPLY";break;case 1:h="ENVMAP_BLENDING_MIX";break;case 2:h="ENVMAP_BLENDING_ADD"}}var m,v,g=e.gammaFactor>0?e.gammaFactor:1,y=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cy).join("\n")}(r.extensions,o,t),b=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),x=s.createProgram();if(r.isRawShaderMaterial?((m=[b].filter(Cy).join("\n")).length>0&&(m+="\n"),(v=[y,b].filter(Cy).join("\n")).length>0&&(v+="\n")):(m=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Cy).join("\n"),v=[y,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+p:"",o.envMap?"#define "+h:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?Nv.tonemapping_pars_fragment:"",0!==o.toneMapping?Ay("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Nv.encodings_pars_fragment:"",o.mapEncoding?Ty("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Ty("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Ty("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ty("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?My("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Cy).join("\n")),c=Ly(c=Oy(c=ky(c),o),o),l=Ly(l=Oy(l=ky(l),o),o),c=Ny(c),l=Ny(l),a.isWebGL2&&!r.isRawShaderMaterial){var _=!1,w=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(w)&&null!==l.match(w)&&(_=!0,c=c.replace(w,""),l=l.replace(w,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#version 300 es\n","#define varying in",_?"":"out highp vec4 pc_fragColor;",_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var E=v+l,S=wy(s,35633,m+c),T=wy(s,35632,E);s.attachShader(x,S),s.attachShader(x,T),void 0!==r.index0AttributeName?s.bindAttribLocation(x,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(x,0,"position"),s.linkProgram(x);var M,A,C=s.getProgramInfoLog(x).trim(),O=s.getShaderInfoLog(S).trim(),L=s.getShaderInfoLog(T).trim(),k=!0,N=!0;return!1===s.getProgramParameter(x,35714)?(k=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(x,35715),"gl.getProgramInfoLog",C,O,L)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==O&&""!==L||(N=!1),N&&(this.diagnostics={runnable:k,material:r,programLog:C,vertexShader:{log:O,prefix:m},fragmentShader:{log:L,prefix:v}}),s.deleteShader(S),s.deleteShader(T),this.getUniforms=function(){return void 0===M&&(M=new _y(s,x,e)),M},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(s,x)),A},this.destroy=function(){s.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Ey++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=S,this.fragmentShader=T,this}function Py(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=pv,n===pv&&t&&(n=3007),n}this.getParameters=function(t,r,o,s,u,c,l){var d=i[t.type],f=l.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(l):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var h=e.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:a(h?h.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:a(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,o,a,s){for(var u,c=0,l=r.length;c<l;c++){var d=r[c];if(d.code===s){++(u=d).usedTimes;break}}return void 0===u&&(u=new Ry(e,t,s,i,o,a,n),r.push(u)),u},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Iy(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function jy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Dy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Fy(){var e=[],t=0,n=[],r=[];function i(n,r,i,o,a,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,program:i.program,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.program=i.program,u.groupOrder=o,u.renderOrder=n.renderOrder,u.z=a,u.group=s),t++,u}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,o,a,s,u){var c=i(e,t,o,a,s,u);(!0===o.transparent?r:n).push(c)},unshift:function(e,t,o,a,s,u){var c=i(e,t,o,a,s,u);(!0===o.transparent?r:n).unshift(c)},sort:function(){n.length>1&&n.sort(jy),r.length>1&&r.sort(Dy)}}}function zy(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i,o=e[n.id];return void 0===o?(i=new Fy,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===(i=o[r.id])&&(i=new Fy,o[r.id]=i),i},dispose:function(){e={}}}}function Uy(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new yv,color:new jv,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new mv};break;case"SpotLight":n={position:new yv,direction:new yv,color:new jv,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new mv};break;case"PointLight":n={position:new yv,color:new jv,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new mv,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new yv,skyColor:new jv,groundColor:new jv};break;case"RectAreaLight":n={color:new jv,position:new yv,halfWidth:new yv,halfHeight:new yv}}return e[t.id]=n,n}}}var By=0;function Vy(){var e=new Uy,t={id:By++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new yv,r=new vv,i=new vv;return{setup:function(o,a,s){for(var u=0,c=0,l=0,d=0,f=0,p=0,h=0,m=0,v=s.matrixWorldInverse,g=0,y=o.length;g<y;g++){var b=o[g],x=b.color,_=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=x.r*_,c+=x.g*_,l+=x.b*_;else if(b.isDirectionalLight){if((T=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(v),T.shadow=b.castShadow,b.castShadow){var S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.directionalShadowMap[d]=E,t.directionalShadowMatrix[d]=b.shadow.matrix,t.directional[d]=T,d++}else if(b.isSpotLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),T.color.copy(x).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(v),T.coneCos=Math.cos(b.angle),T.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=T,p++}else if(b.isRectAreaLight){(T=e.get(b)).color.copy(x).multiplyScalar(_),T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),i.identity(),r.copy(b.matrixWorld),r.premultiply(v),i.extractRotation(r),T.halfWidth.set(.5*b.width,0,0),T.halfHeight.set(0,.5*b.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),t.rectArea[h]=T,h++}else if(b.isPointLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),T.color.copy(b.color).multiplyScalar(b.intensity),T.distance=b.distance,T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,T.shadowCameraNear=S.camera.near,T.shadowCameraFar=S.camera.far}t.pointShadowMap[f]=E,t.pointShadowMatrix[f]=b.shadow.matrix,t.point[f]=T,f++}else if(b.isHemisphereLight){var T;(T=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(v),T.direction.normalize(),T.skyColor.copy(b.color).multiplyScalar(_),T.groundColor.copy(b.groundColor).multiplyScalar(_),t.hemi[m]=T,m++}}t.ambient[0]=u,t.ambient[1]=c,t.ambient[2]=l,t.directional.length=d,t.spot.length=p,t.rectArea.length=h,t.point.length=f,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=d,t.hash.pointLength=f,t.hash.spotLength=p,t.hash.rectAreaLength=h,t.hash.hemiLength=m,t.hash.shadowsLength=a.length},state:t}}function Gy(){var e=new Vy,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Hy(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i;return void 0===e[n.id]?(i=new Gy,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(i=new Gy,e[n.id][r.id]=i):i=e[n.id][r.id],i},dispose:function(){e={}}}}function Wy(e){pg.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function qy(e){pg.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new yv,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Zy(e,t,n){for(var r=new kv,i=new vv,o=new mv,a=new mv(n,n),s=new yv,u=new yv,c=new Array(4),l=new Array(4),d={},f={0:1,1:0,2:2},p=[new yv(1,0,0),new yv(-1,0,0),new yv(0,0,1),new yv(0,0,-1),new yv(0,1,0),new yv(0,-1,0)],h=[new yv(0,1,0),new yv(0,1,0),new yv(0,1,0),new yv(0,1,0),new yv(0,0,1),new yv(0,0,-1)],m=[new Ev,new Ev,new Ev,new Ev,new Ev,new Ev],v=0;4!==v;++v){var g=0!==(1&v),y=0!==(2&v),b=new Wy({depthPacking:3201,morphTargets:g,skinning:y});c[v]=b;var x=new qy({morphTargets:g,skinning:y});l[v]=x}var _=this;function w(t,n,r,i,o,a){var s=t.geometry,u=null,p=c,h=t.customDepthMaterial;if(r&&(p=l,h=t.customDistanceMaterial),h)u=h;else{var m=!1;n.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var v=0;m&&(v|=1),t.isSkinnedMesh&&n.skinning&&(v|=2),u=p[v]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var g=u.uuid,y=n.uuid,b=d[g];void 0===b&&(b={},d[g]=b);var x=b[y];void 0===x&&(x=u.clone(),b[y]=x),u=x}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null!=n.shadowSide?n.shadowSide:f[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function E(n,i,o,a){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var s=t.update(n),c=n.material;if(Array.isArray(c))for(var l=s.groups,d=0,f=l.length;d<f;d++){var p=l[d],h=c[p.materialIndex];if(h&&h.visible){var m=w(n,h,a,u,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,p)}}else if(c.visible){m=w(n,c,a,u,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)E(v[g],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,c){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==t.length){var l,d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,v=t.length;f<v;f++){var g=t[f],y=g.shadow,b=g&&g.isPointLight;if(void 0!==y){var x=y.camera;if(o.copy(y.mapSize),o.min(a),b){var w=o.x,S=o.y;m[0].set(2*w,S,w,S),m[1].set(0,S,w,S),m[2].set(3*w,S,w,S),m[3].set(w,S,w,S),m[4].set(3*w,0,w,S),m[5].set(w,0,w,S),o.x*=4,o.y*=2}if(null===y.map){var T={minFilter:Zm,magFilter:Zm,format:iv};y.map=new Sv(o.x,o.y,T),y.map.texture.name=g.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var M=y.map,A=y.matrix;u.setFromMatrixPosition(g.matrixWorld),x.position.copy(u),b?(l=6,A.makeTranslation(-u.x,-u.y,-u.z)):(l=1,s.setFromMatrixPosition(g.target.matrixWorld),x.lookAt(s),x.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse)),e.setRenderTarget(M),e.clear();for(var C=0;C<l;C++){if(b){s.copy(x.position),s.add(p[C]),x.up.copy(h[C]),x.lookAt(s),x.updateMatrixWorld();var O=m[C];d.viewport(O)}i.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),r.setFromMatrix(i),E(n,c,x,b)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}_.needsUpdate=!1}}}function Yy(e,t,n,r){var i=new function(){var t=!1,n=new Ev,r=null,i=new Ev(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?z(2929):U(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?z(2960):U(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}},s=e.getParameter(34921),u=new Uint8Array(s),c=new Uint8Array(s),l=new Uint8Array(s),d={},f=null,p=null,h=null,m=null,v=null,g=null,y=null,b=null,x=null,_=null,w=!1,E=null,S=null,T=null,M=null,A=null,C=e.getParameter(35661),O=!1,L=0,k=e.getParameter(7938);-1!==k.indexOf("WebGL")?(L=parseFloat(/^WebGL\ ([0-9])/.exec(k)[1]),O=L>=1):-1!==k.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(k)[1]),O=L>=2);var N=null,R={},P=new Ev,I=new Ev;function j(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var D={};function F(n,i){(u[n]=1,0===c[n]&&(e.enableVertexAttribArray(n),c[n]=1),l[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),l[n]=i)}function z(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function U(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}function B(t,r,i,o,a,s,u,c){if(0!==t){if(h||(z(3042),h=!0),5===t)a=a||r,s=s||i,u=u||o,r===v&&a===b||(e.blendEquationSeparate(n.convert(r),n.convert(a)),v=r,b=a),i===g&&o===y&&s===x&&u===_||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(u)),g=i,y=o,x=s,_=u),m=t,w=null;else if(t!==m||c!==w){if(v===Gm&&b===Gm||(e.blendEquation(32774),v=Gm,b=Gm),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,x=null,_=null,m=t,w=c}}else h&&(U(3042),h=!1)}function V(t){E!==t&&(t?e.frontFace(2304):e.frontFace(2305),E=t)}function G(t){0!==t?(z(2884),t!==S&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):U(2884),S=t}function H(t,n,r){t?(z(32823),M===n&&A===r||(e.polygonOffset(n,r),M=n,A=r)):U(32823)}function W(t){void 0===t&&(t=33984+C-1),N!==t&&(e.activeTexture(t),N=t)}return D[3553]=j(3553,3553,1),D[34067]=j(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),z(2929),o.setFunc(3),V(!1),G(1),z(2884),B(0),{buffers:{color:i,depth:o,stencil:a},initAttributes:function(){for(var e=0,t=u.length;e<t;e++)u[e]=0},enableAttribute:function(e){F(e,0)},enableAttributeAndDivisor:F,disableUnusedAttributes:function(){for(var t=0,n=c.length;t!==n;++t)c[t]!==u[t]&&(e.disableVertexAttribArray(t),c[t]=0)},enable:z,disable:U,getCompressedTextureFormats:function(){if(null===f&&(f=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)f.push(n[r]);return f},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:B,setMaterial:function(e,t){2===e.side?U(2884):z(2884);var n=1===e.side;t&&(n=!n),V(n),1===e.blending&&!1===e.transparent?B(0):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite),H(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:V,setCullFace:G,setLineWidth:function(t){t!==T&&(O&&e.lineWidth(t),T=t)},setPolygonOffset:H,setScissorTest:function(e){e?z(3089):U(3089)},activeTexture:W,bindTexture:function(t,n){null===N&&W();var r=R[N];void 0===r&&(r={type:void 0,texture:void 0},R[N]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||D[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===P.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),P.copy(t))},viewport:function(t){!1===I.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){for(var t=0;t<c.length;t++)1===c[t]&&(e.disableVertexAttribArray(t),c[t]=0);d={},f=null,N=null,R={},p=null,m=null,E=null,S=null,i.reset(),o.reset(),a.reset()}}}function $y(e,t,n,r,i,o,a){var s,u={};function c(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var o=n?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):s,a=t?hv.floorPowerOfTwo:Math.floor;return o.width=a(i*e.width),o.height=a(i*e.height),o.getContext("2d").drawImage(e,0,0,o.width,o.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o.width+"x"+o.height+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function l(e){return hv.isPowerOfTwo(e.width)&&hv.isPowerOfTwo(e.height)}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==Zm&&e.minFilter!==Xm}function f(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function p(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function h(e){return e===Zm||e===Ym||e===$m?9728:9729}function m(t){var n=t.target;n.removeEventListener("dispose",m),function(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}(n),n.isVideoTexture&&delete u[n.id],a.memory.textures--}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}function g(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=a.render.frame;u[t]!==n&&(u[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void b(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function y(n,a,s){var u;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),a.wrapS===Wm&&a.wrapT===Wm||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,h(a.magFilter)),e.texParameteri(n,10241,h(a.minFilter)),a.minFilter!==Zm&&a.minFilter!==Xm&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===ev&&null===t.get("OES_texture_float_linear"))return;if(a.type===tv&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function b(t,r,s){var u;u=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(u,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var h=function(e){return!i.isWebGL2&&(e.wrapS!==Wm||e.wrapT!==Wm||e.minFilter!==Zm&&e.minFilter!==Xm)}(r)&&!1===l(r.image),v=c(r.image,h,!1,i.maxTextureSize),g=l(v),b=o.convert(r.format),x=o.convert(r.type),_=p(b,x);y(u,r,g);var w,E=r.mipmaps;if(r.isDepthTexture){if(_=6402,r.type===ev){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");_=36012}else i.isWebGL2&&(_=33189);r.format===ov&&6402===_&&r.type!==Qm&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Qm,x=o.convert(r.type)),r.format===av&&(_=34041,r.type!==nv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=nv,x=o.convert(r.type))),n.texImage2D(3553,0,_,v.width,v.height,0,b,x,null)}else if(r.isDataTexture){if(E.length>0&&g){for(var S=0,T=E.length;S<T;S++)w=E[S],n.texImage2D(3553,S,_,w.width,w.height,0,b,x,w.data);r.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else n.texImage2D(3553,0,_,v.width,v.height,0,b,x,v.data),t.__maxMipLevel=0;r.isCfxTexture&&(console.log("f?"),e.texParameterf(3553,10243,33071),e.texParameterf(3553,10243,33648),e.texParameterf(3553,10243,10497))}else if(r.isCompressedTexture){for(S=0,T=E.length;S<T;S++)w=E[S],r.format!==iv&&r.format!==rv?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(3553,S,_,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,_,w.width,w.height,0,b,x,w.data);t.__maxMipLevel=E.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,_,v.width,v.height,v.depth,0,b,x,v.data),t.__maxMipLevel=0;else if(E.length>0&&g){for(S=0,T=E.length;S<T;S++)w=E[S],n.texImage2D(3553,S,_,b,x,w);r.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else n.texImage2D(3553,0,_,b,x,v),t.__maxMipLevel=0;d(r,g)&&f(3553,r,v.width,v.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function x(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type),l=p(u,c);n.texImage2D(s,0,l,i.width,i.height,0,u,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function _(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=E(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=E(n);e.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=p(o.convert(n.texture.format),o.convert(n.texture.type));if(r){i=E(n);e.renderbufferStorageMultisample(36161,i,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function w(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ov)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==av)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),_(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),_(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function E(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}this.setTexture2D=g,this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?b(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,s){var u=r.get(t);if(6===t.image.length)if(t.version>0&&u.__version!==t.version){u.__image__webglTextureCube||(t.addEventListener("dispose",m),u.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var h=t&&t.isCompressedTexture,v=t.image[0]&&t.image[0].isDataTexture,g=[],b=0;b<6;b++)g[b]=h||v?v?t.image[b].image:t.image[b]:c(t.image[b],!1,!0,i.maxCubemapSize);var x=g[0],_=l(x),w=o.convert(t.format),E=o.convert(t.type),S=p(w,E);y(34067,t,_);for(b=0;b<6;b++)if(h)for(var T,M=g[b].mipmaps,A=0,C=M.length;A<C;A++)T=M[A],t.format!==iv&&t.format!==rv?n.getCompressedTextureFormats().indexOf(w)>-1?n.compressedTexImage2D(34069+b,A,S,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+b,A,S,T.width,T.height,0,w,E,T.data);else v?n.texImage2D(34069+b,0,S,g[b].width,g[b].height,0,w,E,g[b].data):n.texImage2D(34069+b,0,S,w,E,g[b]);u.__maxMipLevel=h?M.length-1:0,d(t,_)&&f(34067,t,x.width,x.height),u.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var s=r.get(t),u=r.get(t.texture);t.addEventListener("dispose",v),u.__webglTexture=e.createTexture(),a.memory.textures++;var c=!0===t.isWebGLRenderTargetCube,h=!0===t.isWebGLMultisampleRenderTarget,m=l(t);if(c){s.__webglFramebuffer=[];for(var g=0;g<6;g++)s.__webglFramebuffer[g]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),h)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var b=p(o.convert(t.texture.format),o.convert(t.texture.type)),S=E(t);e.renderbufferStorageMultisample(36161,S,b,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),_(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,u.__webglTexture),y(34067,t.texture,m);for(g=0;g<6;g++)x(s.__webglFramebuffer[g],t,36064,34069+g);d(t.texture,m)&&f(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,u.__webglTexture),y(3553,t.texture,m),x(s.__webglFramebuffer,t,36064,3553),d(t.texture,m)&&f(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&w(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(d(t,l(e))){var i=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),f(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function Xy(e,t,n){return{convert:function(e){var r;if(e===Hm)return 10497;if(e===Wm)return 33071;if(e===qm)return 33648;if(e===Zm)return 9728;if(e===Ym)return 9984;if(e===$m)return 9986;if(e===Xm)return 9729;if(1007===e)return 9985;if(e===Jm)return 9987;if(e===Km)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===Qm)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(e===ev)return 5126;if(e===tv){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===e)return 6406;if(e===rv)return 6407;if(e===iv)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===ov)return 6402;if(e===av)return 34041;if(1028===e)return 6403;if(e===Gm)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(204===e)return 770;if(205===e)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(e===nv){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Jy(){Wv.call(this),this.type="Group"}function Ky(){Wv.call(this),this.type="Camera",this.matrixWorldInverse=new vv,this.projectionMatrix=new vv,this.projectionMatrixInverse=new vv}function Qy(e,t,n,r){Ky.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function eb(e){Qy.call(this),this.cameras=e||[]}Wy.prototype=Object.create(pg.prototype),Wy.prototype.constructor=Wy,Wy.prototype.isMeshDepthMaterial=!0,Wy.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},qy.prototype=Object.create(pg.prototype),qy.prototype.constructor=qy,qy.prototype.isMeshDistanceMaterial=!0,qy.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Jy.prototype=Object.assign(Object.create(Wv.prototype),{constructor:Jy,isGroup:!0}),Ky.prototype=Object.assign(Object.create(Wv.prototype),{constructor:Ky,isCamera:!0,copy:function(e,t){return Wv.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new yv),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Wv.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Qy.prototype=Object.assign(Object.create(Ky.prototype),{constructor:Qy,isPerspectiveCamera:!0,copy:function(e,t){return Ky.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*hv.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*hv.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*hv.RAD2DEG*Math.atan(Math.tan(.5*hv.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*hv.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Wv.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),eb.prototype=Object.assign(Object.create(Qy.prototype),{constructor:eb,isArrayCamera:!0});var tb,nb=new yv,rb=new yv;function ib(e,t,n){nb.setFromMatrixPosition(t.matrixWorld),rb.setFromMatrixPosition(n.matrixWorld);var r=nb.distanceTo(rb),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],c=(i[9]-1)/i[5],l=(i[8]-1)/i[0],d=(o[8]+1)/o[0],f=a*l,p=a*d,h=r/(-l+d),m=h*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+h,g=s+h,y=f-m,b=p+(r-m),x=u*s/g*v,_=c*s/g*v;e.projectionMatrix.makePerspective(y,b,x,_,v,g)}function ob(e){var t=this,n=null,r=null,i=null,o=[],a=new vv,s=new vv,u=1,c="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var l=new vv,d=new gv,f=new yv,p=new Qy;p.bounds=new Ev(0,0,.5,1),p.layers.enable(1);var h=new Qy;h.bounds=new Ev(.5,0,.5,1),h.layers.enable(2);var m,v,g=new eb([p,h]);function y(){return null!==n&&!0===n.isPresenting}function b(){if(y()){var r=n.getEyeParameters("left"),i=r.renderWidth*u,o=r.renderHeight*u;v=e.getPixelRatio(),m=e.getSize(),e.setDrawingBufferSize(2*i,o,1),w.start()}else t.enabled&&e.setDrawingBufferSize(m.width,m.height,v),w.stop()}g.layers.enable(1),g.layers.enable(2);var x=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Jy).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),w.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setFrameOfReferenceType=function(e){c=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===c?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===c){var u=n.stageParameters;u?a.fromArray(u.sittingToStandingTransform):a.makeTranslation(0,t,0)}var m=r.pose,v=null!==i?i:e;if(v.matrix.copy(a),v.matrix.decompose(v.position,v.quaternion,v.scale),null!==m.orientation&&(d.fromArray(m.orientation),v.quaternion.multiply(d)),null!==m.position&&(d.setFromRotationMatrix(a),f.fromArray(m.position),f.applyQuaternion(d),v.position.add(f)),v.updateMatrixWorld(),!1===n.isPresenting)return e;p.near=e.near,h.near=e.near,p.far=e.far,h.far=e.far,p.matrixWorldInverse.fromArray(r.leftViewMatrix),h.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(a),"stage"===c&&(p.matrixWorldInverse.multiply(s),h.matrixWorldInverse.multiply(s));var y=v.parent;null!==y&&(l.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(l),h.matrixWorldInverse.multiply(l)),p.matrixWorld.getInverse(p.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),h.projectionMatrix.fromArray(r.rightProjectionMatrix),ib(g,p,h);var b=n.getLayers();if(b.length){var w=b[0];null!==w.leftBounds&&4===w.leftBounds.length&&p.bounds.fromArray(w.leftBounds),null!==w.rightBounds&&4===w.rightBounds.length&&h.bounds.fromArray(w.rightBounds)}return function(){for(var e=0;e<o.length;e++){var t=o[e],n=_(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(a),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;x[e]!==n.buttons[i].pressed&&(x[e]=n.buttons[i].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return a},this.isPresenting=y;var w=new zv;this.setAnimationLoop=function(e){w.setAnimationLoop(e)},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function ab(e){var t=e.context,n=null,r=null,i=1,o=null,a="stage",s=null,u=[],c=[];function l(){return null!==r&&null!==o}var d=new Qy;d.layers.enable(1),d.viewport=new Ev;var f=new Qy;f.layers.enable(2),f.viewport=new Ev;var p=new eb([d,f]);function h(e){var t=u[c.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),y.stop()}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=u[e];return void 0===t&&((t=new Jy).matrixAutoUpdate=!1,t.visible=!1,u[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){a=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",h),r.addEventListener("selectstart",h),r.addEventListener("selectend",h),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(a).then((function(t){o=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()})),c=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){c=r.getInputSources(),console.log(c);for(var e=0;e<u.length;e++){u[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(l()){var t=e.parent,n=p.cameras;v(p,t);for(var r=0;r<n.length;r++)v(n[r],t);e.matrixWorld.copy(p.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return ib(p,d,f),p}return e},this.isPresenting=l;var g=null;var y=new zv;y.setAnimationLoop((function(e,t){if(null!==(s=t.getDevicePose(o)))for(var n=r.baseLayer,i=t.views,a=0;a<i.length;a++){var l=i[a],d=n.getViewport(l),f=s.getViewMatrix(l),h=p.cameras[a];h.matrix.fromArray(f).getInverse(h.matrix),h.projectionMatrix.fromArray(l.projectionMatrix),h.viewport.set(d.x,d.y,d.width,d.height),0===a&&p.matrix.copy(h.matrix)}for(a=0;a<u.length;a++){var m=u[a],v=c[a];if(v){var y=t.getInputPose(v,o);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(e)})),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function sb(e){console.log("THREE.WebGLRenderer","101dev");var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",l=null,d=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,p,h,m,v,g,y,b,x,_,w,E,S,T,M,A,C,O,L=this,k=!1,N=null,R=null,P=null,I=-1,j={geometry:null,program:null,wireframe:!1},D=null,F=null,z=new Ev,U=new Ev,B=null,V=0,G=t.width,H=t.height,W=1,q=new Ev(0,0,G,H),Z=new Ev(0,0,G,H),Y=!1,$=new kv,X=new wg,J=!1,K=!1,Q=new vv,ee=new yv;function te(){return null===R?W:1}try{var ne={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c};if(t.addEventListener("webglcontextlost",ae,!1),t.addEventListener("webglcontextrestored",se,!1),null===(f=n||t.getContext("webgl",ne)||t.getContext("experimental-webgl",ne)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(xe){console.error("THREE.WebGLRenderer: "+xe.message)}function re(){p=new Eg(f),(h=new _g(f,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),O=new Xy(f,p,h),(m=new Yy(f,p,O,h)).scissor(U.copy(Z).multiplyScalar(W)),m.viewport(z.copy(q).multiplyScalar(W)),v=new Mg(f),g=new Iy,y=new $y(f,p,m,g,h,O,v),b=new Uv(f),x=new Sg(f,b,v),_=new Og(x,v),M=new Cg(f),w=new Py(L,p,h),E=new zy,S=new Hy,T=new bg(L,m,_,s),A=new xg(f,p,v,h),C=new Tg(f,p,v,h),v.programs=w.programs,L.context=f,L.capabilities=h,L.extensions=p,L.properties=g,L.renderLists=E,L.state=m,L.info=v}re();var ie=null;"undefined"!==typeof navigator&&(ie="xr"in navigator?new ab(L):new ob(L)),this.vr=ie;var oe=new Zy(L,_,h.maxTextureSize);function ae(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function se(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1,re()}function ue(e){var t=e.target;t.removeEventListener("dispose",ue),function(e){ce(e),g.remove(e)}(t)}function ce(e){var t=g.get(e).program;e.program=void 0,void 0!==t&&w.releaseProgram(t)}this.shadowMap=oe,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(e){void 0!==e&&(W=e,this.setSize(G,H,!1))},this.getSize=function(){return{width:G,height:H}},this.setSize=function(e,n,r){ie.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,H=n,t.width=e*W,t.height=n*W,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:G*W,height:H*W}},this.setDrawingBufferSize=function(e,n,r){G=e,H=n,W=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return z},this.setViewport=function(e,t,n,r){q.set(e,H-t-r,n,r),m.viewport(z.copy(q).multiplyScalar(W))},this.setScissor=function(e,t,n,r){Z.set(e,H-t-r,n,r),m.scissor(U.copy(Z).multiplyScalar(W))},this.setScissorTest=function(e){m.setScissorTest(Y=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ae,!1),t.removeEventListener("webglcontextrestored",se,!1),E.dispose(),S.dispose(),g.dispose(),_.dispose(),ie.dispose(),de.stop()},this.renderBufferImmediate=function(e,t){m.initAttributes();var n=g.get(e);e.hasPositions&&!n.position&&(n.position=f.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),e.hasColors&&!n.color&&(n.color=f.createBuffer());var r=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,e.positionArray,35048),m.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,e.normalArray,35048),m.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,e.uvArray,35048),m.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,e.colorArray,35048),m.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),m.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;m.setMaterial(r,a);var s=ve(e,t,r,i),u=!1;j.geometry===n.id&&j.program===s.id&&j.wireframe===(!0===r.wireframe)||(j.geometry=n.id,j.program=s.id,j.wireframe=!0===r.wireframe,u=!0),i.morphTargetInfluences&&(M.update(i,n,r,s),u=!0);var c,l=n.index,d=n.attributes.position,v=1;!0===r.wireframe&&(l=x.getWireframeAttribute(n),v=2);var g=A;null!==l&&(c=b.get(l),(g=C).setIndex(c)),u&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&!h.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var u=r[a];if(void 0!==u){var c=u.normalized,l=u.itemSize,d=b.get(u);if(void 0===d)continue;var v=d.buffer,g=d.type,y=d.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,_=x.stride,w=u.offset;x&&x.isInstancedInterleavedBuffer?(m.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=x.meshPerAttribute*x.count)):m.enableAttribute(s),f.bindBuffer(34962,v),f.vertexAttribPointer(s,l,g,c,_*y,w*y)}else u.isInstancedBufferAttribute?(m.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):m.enableAttribute(s),f.bindBuffer(34962,v),f.vertexAttribPointer(s,l,g,c,0,0)}else if(void 0!==o){var E=o[a];if(void 0!==E)switch(E.length){case 2:f.vertexAttrib2fv(s,E);break;case 3:f.vertexAttrib3fv(s,E);break;case 4:f.vertexAttrib4fv(s,E);break;default:f.vertexAttrib1fv(s,E)}}}}m.disableUnusedAttributes()}(r,s,n),null!==l&&f.bindBuffer(34963,c.buffer));var y=1/0;null!==l?y=l.count:void 0!==d&&(y=d.count);var _=n.drawRange.start*v,w=n.drawRange.count*v,E=null!==o?o.start*v:0,S=null!==o?o.count*v:1/0,T=Math.max(_,E),O=Math.min(y,_+w,E+S)-1,L=Math.max(0,O-T+1);if(0!==L){if(i.isMesh)if(!0===r.wireframe)m.setLineWidth(r.wireframeLinewidth*te()),g.setMode(1);else switch(i.drawMode){case 0:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(i.isLine){var k=r.linewidth;void 0===k&&(k=1),m.setLineWidth(k*te()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&g.renderInstances(n,T,L):g.render(T,L)}},this.compile=function(e,t){(d=S.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)me(t.material[n],e.fog,t);else me(t.material,e.fog,t)}))};var le=null;var de=new zv;function fe(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||$.intersectsSprite(e)){r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q);var i=_.update(e),o=e.material;l.push(e,i,o,n,ee.z,null)}}else if(e.isImmediateRenderObject)r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q),l.push(e,null,e.material,n,ee.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||$.intersectsObject(e))){r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q);i=_.update(e),o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],f=o[c.materialIndex];f&&f.visible&&l.push(e,i,f,n,ee.z,c)}else o.visible&&l.push(e,i,o,n,ee.z,null)}var p=e.children;for(s=0,u=p.length;s<u;s++)fe(p[s],t,n,r)}}function pe(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){F=n;for(var f=n.cameras,p=0,h=f.length;p<h;p++){var v=f[p];if(s.layers.test(v.layers)){if("viewport"in v)m.viewport(z.copy(v.viewport));else{var g=v.bounds,y=g.x*G,b=g.y*H,x=g.z*G,_=g.w*H;m.viewport(z.set(y,b,x,_).multiplyScalar(W))}d.setupLights(v),he(s,t,v,u,c,l)}}}else F=null,he(s,t,n,u,c,l)}}function he(e,t,n,r,i,o){if(e.onBeforeRender(L,t,n,r,i,o),d=S.get(t,F||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){m.setMaterial(i);var a=ve(n,t.fog,i,e);j.geometry=null,j.program=null,j.wireframe=!1,function(e,t){e.render((function(e){L.renderBufferImmediate(e,t)}))}(e,a)}else L.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(L,t,n,r,i,o),d=S.get(t,F||n)}function me(e,t,n){var r=g.get(e),i=d.state.lights,o=d.state.shadowsArray,a=r.lightsHash,s=i.state.hash,u=w.getParameters(e,i.state,o,t,X.numPlanes,X.numIntersection,n),c=w.getProgramCode(e,u),l=r.program,f=!0;if(void 0===l)e.addEventListener("dispose",ue);else if(l.code!==c)ce(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,f=!1;else{if(void 0!==u.shaderID)return;f=!1}if(f){if(u.shaderID){var p=Fv[u.shaderID];r.shader={name:e.type,uniforms:Rv(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,L),c=w.getProgramCode(e,u),l=w.acquireProgram(e,r.shader,u,c),r.program=l,e.program=l}var h=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<L.maxMorphTargets;m++)h["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<L.maxMorphNormals;m++)h["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=X.numPlanes,r.numIntersection=X.numIntersection,v.clippingPlanes=X.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=i.state.ambient,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=r.program.getUniforms(),b=_y.seqWithValue(y.seq,v);r.uniformsList=b}function ve(e,t,n,r){V=0;var i=g.get(n),o=d.state.lights,a=i.lightsHash,s=o.state.hash;if(J&&(K||e!==D)){var u=e===D&&n.id===I;X.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,u)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===X.numPlanes&&i.numIntersection===X.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(me(n,t,r),n.needsUpdate=!1);var c,l,p=!1,v=!1,y=!1,b=i.program,x=b.getUniforms(),_=i.shader.uniforms;if(m.useProgram(b.program)&&(p=!0,v=!0,y=!0),n.id!==I&&(I=n.id,v=!0),p||D!==e){if(x.setValue(f,"projectionMatrix",e.projectionMatrix),h.logarithmicDepthBuffer&&x.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),D!==e&&(D=e,v=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var w=x.map.cameraPosition;void 0!==w&&w.setValue(f,ee.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&x.setValue(f,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){x.setOptional(f,r,"bindMatrix"),x.setOptional(f,r,"bindMatrixInverse");var E=r.skeleton;if(E){var S=E.bones;if(h.floatVertexTextures){if(void 0===E.boneTexture){var T=Math.sqrt(4*S.length);T=hv.ceilPowerOfTwo(T),T=Math.max(T,4);var M=new Float32Array(T*T*4);M.set(E.boneMatrices);var A=new Av(M,T,T,iv,ev);A.needsUpdate=!0,E.boneMatrices=M,E.boneTexture=A,E.boneTextureSize=T}x.setValue(f,"boneTexture",E.boneTexture),x.setValue(f,"boneTextureSize",E.boneTextureSize)}else x.setOptional(f,E,"boneMatrices")}}return v&&(x.setValue(f,"toneMappingExposure",L.toneMappingExposure),x.setValue(f,"toneMappingWhitePoint",L.toneMappingWhitePoint),n.lights&&(l=y,(c=_).ambientLightColor.needsUpdate=l,c.directionalLights.needsUpdate=l,c.pointLights.needsUpdate=l,c.spotLights.needsUpdate=l,c.rectAreaLights.needsUpdate=l,c.hemisphereLights.needsUpdate=l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(_,t),n.isMeshBasicMaterial?ge(_,n):n.isMeshLambertMaterial?(ge(_,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(_,n)):n.isMeshPhongMaterial?(ge(_,n),n.isMeshToonMaterial?function(e,t){ye(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(_,n):ye(_,n)):n.isMeshStandardMaterial?(ge(_,n),n.isMeshPhysicalMaterial?function(e,t){be(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(_,n):be(_,n)):n.isMeshMatcapMaterial?(ge(_,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDepthMaterial?(ge(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDistanceMaterial?(ge(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(_,n)):n.isMeshNormalMaterial?(ge(_,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(_,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(_,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*W,e.scale.value=.5*H,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isShadowMaterial&&(_.color.value=n.color,_.opacity.value=n.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Dv.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Dv.LTC_2),_y.upload(f,i.uniformsList,_,L)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(_y.upload(f,i.uniformsList,_,L),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(f,"center",r.center),x.setValue(f,"modelViewMatrix",r.modelViewMatrix),x.setValue(f,"normalMatrix",r.normalMatrix),x.setValue(f,"modelMatrix",r.matrixWorld),b}function ge(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=g.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function ye(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function be(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}de.setAnimationLoop((function(e){ie.isPresenting()||le&&le(e)})),"undefined"!==typeof window&&de.setContext(window),this.setAnimationLoop=function(e){le=e,ie.setAnimationLoop(e),de.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!k){j.geometry=null,j.program=null,j.wireframe=!1,I=-1,D=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ie.enabled&&(t=ie.getCamera(t)),(d=S.get(e,t)).init(),e.onBeforeRender(L,e,t,n),Q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),$.setFromMatrix(Q),K=this.localClippingEnabled,J=X.init(this.clippingPlanes,K,t),(l=E.get(e,t)).init(),fe(e,t,0,L.sortObjects),!0===L.sortObjects&&l.sort(),J&&X.beginShadows();var i=d.state.shadowsArray;oe.render(i,e,t),d.setupLights(t),J&&X.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),T.render(l,e,t,r);var o=l.opaque,a=l.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&pe(o,e,t,s),a.length&&pe(a,e,t,s)}else o.length&&pe(o,e,t),a.length&&pe(a,e,t);n&&(y.updateRenderTargetMipmap(n),y.updateMultisampleRenderTarget(n)),m.buffers.depth.setTest(!0),m.buffers.depth.setMask(!0),m.buffers.color.setMask(!0),m.setPolygonOffset(!1),e.onAfterRender(L,e,t),ie.enabled&&ie.submitFrame(),l=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=V;return e>=h.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+h.maxTextures),V+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),y.setTexture2D(t,n)}}(),this.setTexture3D=function(e,t){y.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),y.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?y.setTextureCube(t,n):y.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){N=e},this.getRenderTarget=function(){return R},this.setRenderTarget=function(e){R=e,e&&void 0===g.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var t=N,n=!1;if(e){var r=g.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=e.isWebGLMultisampleRenderTarget?g.get(e).__webglMultisampledFramebuffer:r,z.copy(e.viewport),U.copy(e.scissor),B=e.scissorTest}else z.copy(q).multiplyScalar(W),U.copy(Z).multiplyScalar(W),B=Y;if(P!==t&&(f.bindFramebuffer(36160,t),P=t),m.viewport(z),m.scissor(U),m.setScissorTest(B),n){var i=g.get(e.texture);f.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=g.get(e).__webglFramebuffer;if(a){var s=!1;a!==P&&(f.bindFramebuffer(36160,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==iv&&O.convert(c)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(l!==Km&&O.convert(l)!==f.getParameter(35738)&&(l!==ev||!(h.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float")))&&(l!==tv||!(h.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&f.readPixels(t,n,r,i,O.convert(c),O.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(36160,P)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=O.convert(t.format);this.setTexture2D(t,0),f.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=O.convert(n.format),s=O.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?f.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):f.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function ub(e,t){this.name="",this.color=new jv(e),this.density=void 0!==t?t:25e-5}function cb(e,t,n){this.name="",this.color=new jv(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function lb(){Wv.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function db(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function fb(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function pb(e){pg.call(this),this.type="SpriteMaterial",this.color=new jv(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function hb(e){if(Wv.call(this),this.type="Sprite",void 0===tb){tb=new sg;var t=new db(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);tb.setIndex([0,1,2,0,2,3]),tb.addAttribute("position",new fb(t,3,0,!1)),tb.addAttribute("uv",new fb(t,2,3,!1))}this.geometry=tb,this.material=void 0!==e?e:new pb,this.center=new mv(.5,.5)}function mb(){Wv.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function vb(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),yg.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vv,this.bindMatrixInverse=new vv}function gb(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new vv)}}function yb(){Wv.call(this),this.type="Bone"}function bb(e){pg.call(this),this.type="LineBasicMaterial",this.color=new jv(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function xb(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Wv.call(this),this.type="Line",this.geometry=void 0!==e?e:new sg,this.material=void 0!==t?t:new bb({color:16777215*Math.random()})}function _b(e,t){xb.call(this,e,t),this.type="LineSegments"}function wb(e,t){xb.call(this,e,t),this.type="LineLoop"}function Eb(e){pg.call(this),this.type="PointsMaterial",this.color=new jv(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Sb(e,t){Wv.call(this),this.type="Points",this.geometry=void 0!==e?e:new sg,this.material=void 0!==t?t:new Eb({color:16777215*Math.random()})}function Tb(e,t,n,r,i,o,a,s,u){wv.call(this,e,t,n,r,i,o,a,s,u),this.format=void 0!==a?a:rv,this.minFilter=void 0!==o?o:Xm,this.magFilter=void 0!==i?i:Xm,this.generateMipmaps=!1}function Mb(e,t,n,r,i,o,a,s,u,c,l,d){wv.call(this,null,o,a,s,u,c,r,i,l,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ab(e,t,n,r,i,o,a,s,u){wv.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function Cb(e,t,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:ov)!==ov&&c!==av)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===ov&&(n=Qm),void 0===n&&c===av&&(n=nv),wv.call(this,null,r,i,o,a,s,c,n,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:Zm,this.minFilter=void 0!==s?s:Zm,this.flipY=!1,this.generateMipmaps=!1}function Ob(){var e=new Uint8Array(3);wv.call(this,null,void 0,void 0,void 0,void 0,void 0,1022,void 0,void 0,void 0),this.image={data:e,width:1,height:1},this.magFilter=Zm,this.minFilter=Zm,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Lb(e){sg.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,u,c,l,d=[],f=[0,0],p={},h=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(n=0;n<3;n++)s=v[h[n]],u=v[h[(n+1)%3]],f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===p[c=f[0]+","+f[1]]&&(p[c]={index1:f[0],index2:f[1]})}for(c in p)a=p[c],l=e.vertices[a.index1],d.push(l.x,l.y,l.z),l=e.vertices[a.index2],d.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry){var g,y,b,x,_,w,E;if(l=new yv,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=_=(x=b[i]).start,r=_+x.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),u=y.getX(t+(n+1)%3),f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===p[c=f[0]+","+f[1]]&&(p[c]={index1:f[0],index2:f[1]});for(c in p)a=p[c],l.fromBufferAttribute(g,a.index1),d.push(l.x,l.y,l.z),l.fromBufferAttribute(g,a.index2),d.push(l.x,l.y,l.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)w=3*t+n,l.fromBufferAttribute(g,w),d.push(l.x,l.y,l.z),E=3*t+(n+1)%3,l.fromBufferAttribute(g,E),d.push(l.x,l.y,l.z)}this.addAttribute("position",new ng(d,3))}function kb(e,t,n){Zv.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Nb(e,t,n)),this.mergeVertices()}function Nb(e,t,n){sg.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=1e-5,l=new yv,d=new yv,f=new yv,p=new yv,h=new yv;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var v=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,v,d),a.push(d.x,d.y,d.z),g-c>=0?(e(g-c,v,f),p.subVectors(d,f)):(e(g+c,v,f),p.subVectors(f,d)),v-c>=0?(e(g,v-c,f),h.subVectors(d,f)):(e(g,v+c,f),h.subVectors(f,d)),l.crossVectors(p,h).normalize(),s.push(l.x,l.y,l.z),u.push(g,v)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,_=(r+1)*m+i;o.push(y,b,_),o.push(b,x,_)}this.setIndex(o),this.addAttribute("position",new ng(a,3)),this.addAttribute("normal",new ng(s,3)),this.addAttribute("uv",new ng(u,2))}function Rb(e,t,n,r){Zv.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Pb(e,t,n,r)),this.mergeVertices()}function Pb(e,t,n,r){sg.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var c=e.clone().lerp(n,i/a),l=t.clone().lerp(n,i/a),d=a-i;for(o=0;o<=d;o++)u[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/d)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2===0?(s(u[i][f+1]),s(u[i+1][f]),s(u[i][f])):(s(u[i][f+1]),s(u[i+1][f+1]),s(u[i+1][f]))}}function s(e){i.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function l(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new yv,r=new yv,i=new yv,o=0;o<t.length;o+=3)u(t[o+0],n),u(t[o+1],r),u(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new yv,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new yv,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=l(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new yv,t=new yv,n=new yv,r=new yv,a=new mv,s=new mv,u=new mv,d=0,f=0;d<i.length;d+=9,f+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),a.set(o[f+0],o[f+1]),s.set(o[f+2],o[f+3]),u.set(o[f+4],o[f+5]),r.copy(e).add(t).add(n).divideScalar(3);var p=l(r);c(a,f+0,e,p),c(s,f+2,t,p),c(u,f+4,n,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new ng(i,3)),this.addAttribute("normal",new ng(i.slice(),3)),this.addAttribute("uv",new ng(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Ib(e,t){Zv.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new jb(e,t)),this.mergeVertices()}function jb(e,t){Pb.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Db(e,t){Zv.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Fb(e,t)),this.mergeVertices()}function Fb(e,t){Pb.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function zb(e,t){Zv.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ub(e,t)),this.mergeVertices()}function Ub(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Pb.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Bb(e,t){Zv.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vb(e,t)),this.mergeVertices()}function Vb(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Pb.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Gb(e,t,n,r,i,o){Zv.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Hb(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Hb(e,t,n,r,i){sg.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,u=new yv,c=new yv,l=new mv,d=new yv,f=[],p=[],h=[],m=[];function v(i){d=e.getPointAt(i/t,d);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=r;s++){var h=s/r*Math.PI*2,m=Math.sin(h),v=-Math.cos(h);c.x=v*a.x+m*l.x,c.y=v*a.y+m*l.y,c.z=v*a.z+m*l.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+n*c.x,u.y=d.y+n*c.y,u.z=d.z+n*c.z,f.push(u.x,u.y,u.z)}}!function(){for(a=0;a<t;a++)v(a);v(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)l.x=a/t,l.y=s/r,h.push(l.x,l.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new ng(f,3)),this.addAttribute("normal",new ng(p,3)),this.addAttribute("uv",new ng(h,2))}function Wb(e,t,n,r,i,o,a){Zv.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qb(e,t,n,r,i,o)),this.mergeVertices()}function qb(e,t,n,r,i,o){sg.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,u=[],c=[],l=[],d=[],f=new yv,p=new yv,h=new yv,m=new yv,v=new yv,g=new yv,y=new yv;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(A(b,i,o,e,h),A(b+.01,i,o,e,m),g.subVectors(m,h),y.addVectors(m,h),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,_=-t*Math.cos(x),w=t*Math.sin(x);f.x=h.x+(_*y.x+w*v.x),f.y=h.y+(_*y.y+w*v.y),f.z=h.z+(_*y.z+w*v.z),c.push(f.x,f.y,f.z),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),d.push(a/n),d.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var E=(r+1)*(s-1)+(a-1),S=(r+1)*s+(a-1),T=(r+1)*s+a,M=(r+1)*(s-1)+a;u.push(E,S,M),u.push(S,T,M)}function A(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new ng(c,3)),this.addAttribute("normal",new ng(l,3)),this.addAttribute("uv",new ng(d,2))}function Zb(e,t,n,r,i){Zv.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Yb(e,t,n,r,i)),this.mergeVertices()}function Yb(e,t,n,r,i){sg.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],l=[],d=new yv,f=new yv,p=new yv;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var h=a/r*i,m=o/n*Math.PI*2;f.x=(e+t*Math.cos(m))*Math.cos(h),f.y=(e+t*Math.cos(m))*Math.sin(h),f.z=t*Math.sin(m),u.push(f.x,f.y,f.z),d.x=e*Math.cos(h),d.y=e*Math.sin(h),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),l.push(a/r),l.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new ng(u,3)),this.addAttribute("normal",new ng(c,3)),this.addAttribute("uv",new ng(l,2))}ub.prototype.isFogExp2=!0,ub.prototype.clone=function(){return new ub(this.color,this.density)},ub.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},cb.prototype.isFog=!0,cb.prototype.clone=function(){return new cb(this.color,this.near,this.far)},cb.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},lb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:lb,copy:function(e,t){return Wv.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Wv.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(db.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(db.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(fb.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(fb.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),pb.prototype=Object.create(pg.prototype),pb.prototype.constructor=pb,pb.prototype.isSpriteMaterial=!0,pb.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},hb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:hb,isSprite:!0,raycast:function(){var e=new yv,t=new yv,n=new yv,r=new mv,i=new mv,o=new vv,a=new yv,s=new yv,u=new yv,c=new mv,l=new mv,d=new mv;function f(e,t,n,a,s,u){r.subVectors(e,n).addScalar(.5).multiply(a),void 0!==s?(i.x=u*r.x-s*r.y,i.y=s*r.x+u*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(o)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,h,m=this.material.rotation;0!==m&&(h=Math.cos(m),p=Math.sin(m));var v=this.center;f(a.set(-.5,-.5,0),n,v,t,p,h),f(s.set(.5,-.5,0),n,v,t,p,h),f(u.set(.5,.5,0),n,v,t,p,h),c.set(0,0),l.set(1,0),d.set(1,1);var g=r.ray.intersectTriangle(a,s,u,!1,e);if(null!==g||(f(s.set(-.5,.5,0),n,v,t,p,h),l.set(0,1),null!==(g=r.ray.intersectTriangle(a,u,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||i.push({distance:y,point:e.clone(),uv:vg.getUV(e,a,s,u,c,l,d,new mv),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Wv.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),mb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:mb,copy:function(e){Wv.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new yv;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new yv,t=new yv;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=Wv.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),vb.prototype=Object.assign(Object.create(yg.prototype),{constructor:vb,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Ev,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){yg.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(gb.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new vv;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new vv,t=new vv;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var u=n[a]?n[a].matrixWorld:t;e.multiplyMatrices(u,r[a]),e.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new gb(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),yb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:yb,isBone:!0}),bb.prototype=Object.create(pg.prototype),bb.prototype.constructor=bb,bb.prototype.isLineBasicMaterial=!0,bb.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},xb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:xb,isLine:!0,computeLineDistances:function(){var e=new yv,t=new yv;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],o=1,a=r.count;o<a;o++)e.fromBufferAttribute(r,o-1),t.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=e.distanceTo(t);n.addAttribute("lineDistance",new ng(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var e=new vv,t=new mg,n=new Ov;return function(r,i){var o=r.linePrecision,a=this.geometry,s=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=o,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var u=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,l=new yv,d=new yv,f=new yv,p=new yv,h=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var m=a.index,v=a.attributes.position.array;if(null!==m)for(var g=m.array,y=0,b=g.length-1;y<b;y+=h){var x=g[y],_=g[y+1];if(l.fromArray(v,3*x),d.fromArray(v,3*_),!(t.distanceSqToSegment(l,d,p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=v.length/3-1;y<b;y+=h){if(l.fromArray(v,3*y),d.fromArray(v,3*y+3),!(t.distanceSqToSegment(l,d,p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(a.isGeometry){var w=a.vertices,E=w.length;for(y=0;y<E-1;y+=h){var S;if(!(t.distanceSqToSegment(w[y],w[y+1],p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return Wv.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),_b.prototype=Object.assign(Object.create(xb.prototype),{constructor:_b,isLineSegments:!0,computeLineDistances:function(){var e=new yv,t=new yv;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);n.addAttribute("lineDistance",new ng(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,o=0,a=s.length;o<a;o+=2)e.copy(s[o]),t.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t)}return this}}()}),wb.prototype=Object.assign(Object.create(xb.prototype),{constructor:wb,isLineLoop:!0}),Eb.prototype=Object.create(pg.prototype),Eb.prototype.constructor=Eb,Eb.prototype.isPointsMaterial=!0,Eb.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Sb.prototype=Object.assign(Object.create(Wv.prototype),{constructor:Sb,isPoints:!0,raycast:function(){var e=new vv,t=new mg,n=new Ov;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=u,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,d=new yv,f=new yv;if(a.isBufferGeometry){var p=a.index,h=a.attributes.position.array;if(null!==p)for(var m=p.array,v=0,g=m.length;v<g;v++){var y=m[v];d.fromArray(h,3*y),_(d,y)}else{v=0;for(var b=h.length/3;v<b;v++)d.fromArray(h,3*v),_(d,v)}}else{var x=a.vertices;for(v=0,b=x.length;v<b;v++)_(x[v],v)}}function _(e,n){var a=t.distanceSqToPoint(e);if(a<l){t.closestPointToPoint(e,f),f.applyMatrix4(s);var u=r.ray.origin.distanceTo(f);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(a),point:f.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Tb.prototype=Object.assign(Object.create(wv.prototype),{constructor:Tb,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Mb.prototype=Object.create(wv.prototype),Mb.prototype.constructor=Mb,Mb.prototype.isCompressedTexture=!0,Ab.prototype=Object.create(wv.prototype),Ab.prototype.constructor=Ab,Ab.prototype.isCanvasTexture=!0,Cb.prototype=Object.create(wv.prototype),Cb.prototype.constructor=Cb,Cb.prototype.isDepthTexture=!0,Ob.prototype=Object.create(wv.prototype),Ob.prototype.constructor=Ob,Ob.prototype.isDataTexture=!0,Ob.prototype.isCfxTexture=!0,Lb.prototype=Object.create(sg.prototype),Lb.prototype.constructor=Lb,kb.prototype=Object.create(Zv.prototype),kb.prototype.constructor=kb,Nb.prototype=Object.create(sg.prototype),Nb.prototype.constructor=Nb,Rb.prototype=Object.create(Zv.prototype),Rb.prototype.constructor=Rb,Pb.prototype=Object.create(sg.prototype),Pb.prototype.constructor=Pb,Ib.prototype=Object.create(Zv.prototype),Ib.prototype.constructor=Ib,jb.prototype=Object.create(Pb.prototype),jb.prototype.constructor=jb,Db.prototype=Object.create(Zv.prototype),Db.prototype.constructor=Db,Fb.prototype=Object.create(Pb.prototype),Fb.prototype.constructor=Fb,zb.prototype=Object.create(Zv.prototype),zb.prototype.constructor=zb,Ub.prototype=Object.create(Pb.prototype),Ub.prototype.constructor=Ub,Bb.prototype=Object.create(Zv.prototype),Bb.prototype.constructor=Bb,Vb.prototype=Object.create(Pb.prototype),Vb.prototype.constructor=Vb,Gb.prototype=Object.create(Zv.prototype),Gb.prototype.constructor=Gb,Hb.prototype=Object.create(sg.prototype),Hb.prototype.constructor=Hb,Wb.prototype=Object.create(Zv.prototype),Wb.prototype.constructor=Wb,qb.prototype=Object.create(sg.prototype),qb.prototype.constructor=qb,Zb.prototype=Object.create(Zv.prototype),Zb.prototype.constructor=Zb,Yb.prototype=Object.create(sg.prototype),Yb.prototype.constructor=Yb;var $b=function(e,t,n){n=n||2;var r,i,o,a,s,u,c,l=t&&t.length,d=l?t[0]*n:e.length,f=Xb(e,0,d,n,!0),p=[];if(!f)return p;if(l&&(f=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Xb(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(ax(a));for(s.sort(rx),i=0;i<s.length;i++)ix(s[i],n),n=Jb(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var h=n;h<d;h+=n)(s=e[h])<r&&(r=s),(u=e[h+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return Kb(f,p,n,r,i,c),p};function Xb(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=hx(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=hx(o,e[o],e[o+1],a);return a&&lx(a,a.next)&&(mx(a),a=a.next),a}function Jb(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!lx(r,r.next)&&0!==cx(r.prev,r,r.next))r=r.next;else{if(mx(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Kb(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=ox(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?ex(e,r,i,o):Qb(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),mx(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?Kb(e=tx(e,t,n),t,n,r,i,o,2):2===a&&nx(e,t,n,r,i,o):Kb(Jb(e),t,n,r,i,o,1);break}}}function Qb(e){var t=e.prev,n=e,r=e.next;if(cx(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(sx(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&cx(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ex(e,t,n,r){var i=e.prev,o=e,a=e.next;if(cx(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=ox(s,u,t,n,r),f=ox(c,l,t,n,r),p=e.nextZ;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&sx(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&cx(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&sx(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&cx(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function tx(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!lx(i,o)&&dx(i,r,r.next,o)&&fx(i,o)&&fx(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),mx(r),mx(r.next),r=e=o),r=r.next}while(r!==e);return r}function nx(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ux(a,s)){var u=px(a,s);return a=Jb(a,a.next),u=Jb(u,u.next),Kb(a,t,n,r,i,o),void Kb(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function rx(e,t){return e.x-t.x}function ix(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,d=n.y,f=1/0;r=n.next;for(;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&sx(o<d?i:a,o,l,d,o<d?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&fx(r,e)&&(n=r,f=u),r=r.next;return n}(e,t),t){var n=px(t,e);Jb(n,n.next)}}function ox(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ax(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function sx(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ux(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&dx(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&fx(e,t)&&fx(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function cx(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function lx(e,t){return e.x===t.x&&e.y===t.y}function dx(e,t,n,r){return!!(lx(e,t)&&lx(n,r)||lx(e,r)&&lx(n,t))||cx(e,t,n)>0!==cx(e,t,r)>0&&cx(n,r,e)>0!==cx(n,r,t)>0}function fx(e,t){return cx(e.prev,e,e.next)<0?cx(e,t,e.next)>=0&&cx(e,e.prev,t)>=0:cx(e,t,e.prev)<0||cx(e,e.next,t)<0}function px(e,t){var n=new vx(e.i,e.x,e.y),r=new vx(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function hx(e,t,n,r){var i=new vx(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function mx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function vx(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var gx={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return gx.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];yx(e),bx(n,e);var o=e.length;t.forEach(yx);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,bx(n,t[a]);var s=$b(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function yx(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function bx(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function xx(e,t){Zv.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new _x(e,t)),this.mergeVertices()}function _x(e,t){sg.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,u=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:l-2,f=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,h=void 0!==t.UVGenerator?t.UVGenerator:wx;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);var m,v,g,y,b,x,_,w,E=!1;p&&(m=p.getSpacedPoints(s),E=!0,c=!1,v=p.computeFrenetFrames(s,!1),g=new yv,y=new yv,b=new yv),c||(f=0,l=0,d=0);var S=e.extractPoints(a),T=S.shape,M=S.holes;if(!gx.isClockWise(T))for(T=T.reverse(),_=0,w=M.length;_<w;_++)x=M[_],gx.isClockWise(x)&&(M[_]=x.reverse());var A=gx.triangulateShape(T,M),C=T;for(_=0,w=M.length;_<w;_++)x=M[_],T=T.concat(x);function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L,k,N,R,P,I,j=T.length,D=A.length;function F(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=a*a+s*s,d=a*c-s*u;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(l),p=Math.sqrt(u*u+c*c),h=t.x-s/f,m=t.y+a/f,v=((n.x-c/p-h)*c-(n.y+u/p-m)*u)/(a*c-s*u),g=(r=h+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new mv(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?u>Number.EPSILON&&(y=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new mv(r/o,i/o)}for(var z=[],U=0,B=C.length,V=B-1,G=U+1;U<B;U++,V++,G++)V===B&&(V=0),G===B&&(G=0),z[U]=F(C[U],C[V],C[G]);var H,W,q=[],Z=z.concat();for(_=0,w=M.length;_<w;_++){for(x=M[_],H=[],U=0,V=(B=x.length)-1,G=U+1;U<B;U++,V++,G++)V===B&&(V=0),G===B&&(G=0),H[U]=F(x[U],x[V],x[G]);q.push(H),Z=Z.concat(H)}for(L=0;L<f;L++){for(N=L/f,R=l*Math.cos(N*Math.PI/2),k=d*Math.sin(N*Math.PI/2),U=0,B=C.length;U<B;U++)$((P=O(C[U],z[U],k)).x,P.y,-R);for(_=0,w=M.length;_<w;_++)for(x=M[_],H=q[_],U=0,B=x.length;U<B;U++)$((P=O(x[U],H[U],k)).x,P.y,-R)}for(k=d,U=0;U<j;U++)P=c?O(T[U],Z[U],k):T[U],E?(y.copy(v.normals[0]).multiplyScalar(P.x),g.copy(v.binormals[0]).multiplyScalar(P.y),b.copy(m[0]).add(y).add(g),$(b.x,b.y,b.z)):$(P.x,P.y,0);for(W=1;W<=s;W++)for(U=0;U<j;U++)P=c?O(T[U],Z[U],k):T[U],E?(y.copy(v.normals[W]).multiplyScalar(P.x),g.copy(v.binormals[W]).multiplyScalar(P.y),b.copy(m[W]).add(y).add(g),$(b.x,b.y,b.z)):$(P.x,P.y,u/s*W);for(L=f-1;L>=0;L--){for(N=L/f,R=l*Math.cos(N*Math.PI/2),k=d*Math.sin(N*Math.PI/2),U=0,B=C.length;U<B;U++)$((P=O(C[U],z[U],k)).x,P.y,u+R);for(_=0,w=M.length;_<w;_++)for(x=M[_],H=q[_],U=0,B=x.length;U<B;U++)P=O(x[U],H[U],k),E?$(P.x,P.y+m[s-1].y,m[s-1].x+R):$(P.x,P.y,u+R)}function Y(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,o=s+2*f;for(i=0;i<o;i++){var a=j*i,u=j*(i+1);J(t+n+a,t+r+a,t+r+u,t+n+u)}}}function $(e,t,n){o.push(e),o.push(t),o.push(n)}function X(e,t,i){K(e),K(t),K(i);var o=r.length/3,a=h.generateTopUV(n,r,o-3,o-2,o-1);Q(a[0]),Q(a[1]),Q(a[2])}function J(e,t,i,o){K(e),K(t),K(o),K(t),K(i),K(o);var a=r.length/3,s=h.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);Q(s[0]),Q(s[1]),Q(s[3]),Q(s[1]),Q(s[2]),Q(s[3])}function K(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function Q(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(c){var t=0,i=j*t;for(U=0;U<D;U++)X((I=A[U])[2]+i,I[1]+i,I[0]+i);for(i=j*(t=s+2*f),U=0;U<D;U++)X((I=A[U])[0]+i,I[1]+i,I[2]+i)}else{for(U=0;U<D;U++)X((I=A[U])[2],I[1],I[0]);for(U=0;U<D;U++)X((I=A[U])[0]+j*s,I[1]+j*s,I[2]+j*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Y(C,t),t+=C.length,_=0,w=M.length;_<w;_++)Y(x=M[_],t),t+=x.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new ng(r,3)),this.addAttribute("uv",new ng(i,2)),this.computeVertexNormals()}xx.prototype=Object.create(Zv.prototype),xx.prototype.constructor=xx,xx.prototype.toJSON=function(){var e=Zv.prototype.toJSON.call(this);return Ex(this.parameters.shapes,this.parameters.options,e)},_x.prototype=Object.create(sg.prototype),_x.prototype.constructor=_x,_x.prototype.toJSON=function(){var e=sg.prototype.toJSON.call(this);return Ex(this.parameters.shapes,this.parameters.options,e)};var wx={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],u=t[3*r+1],c=t[3*i],l=t[3*i+1];return[new mv(o,a),new mv(s,u),new mv(c,l)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],u=t[3*n+2],c=t[3*r],l=t[3*r+1],d=t[3*r+2],f=t[3*i],p=t[3*i+1],h=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-l)<.01?[new mv(a,1-u),new mv(c,1-d),new mv(f,1-h),new mv(m,1-g)]:[new mv(s,1-u),new mv(l,1-d),new mv(p,1-h),new mv(v,1-g)]}};function Ex(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Sx(e,t){Zv.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Tx(e,t)),this.mergeVertices()}function Tx(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Zv;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),_x.call(this,r,t),this.type="TextBufferGeometry"}function Mx(e,t,n,r,i,o,a){Zv.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Ax(e,t,n,r,i,o,a)),this.mergeVertices()}function Ax(e,t,n,r,i,o,a){sg.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,c=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,d=[],f=new yv,p=new yv,h=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var y=[],b=u/n;for(s=0;s<=t;s++){var x=s/t;f.x=-e*Math.cos(r+x*i)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),g.push(x,1-b),y.push(l++)}d.push(y)}for(u=0;u<n;u++)for(s=0;s<t;s++){var _=d[u][s+1],w=d[u][s],E=d[u+1][s],S=d[u+1][s+1];(0!==u||o>0)&&h.push(_,w,S),(u!==n-1||c<Math.PI)&&h.push(w,E,S)}this.setIndex(h),this.addAttribute("position",new ng(m,3)),this.addAttribute("normal",new ng(v,3)),this.addAttribute("uv",new ng(g,2))}function Cx(e,t,n,r,i,o){Zv.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Ox(e,t,n,r,i,o)),this.mergeVertices()}function Ox(e,t,n,r,i,o){sg.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,u,c=[],l=[],d=[],f=[],p=e,h=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new yv,v=new mv;for(s=0;s<=r;s++){for(u=0;u<=n;u++)a=i+u/n*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),l.push(m.x,m.y,m.z),d.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y);p+=h}for(s=0;s<r;s++){var g=s*(n+1);for(u=0;u<n;u++){var y=a=u+g,b=a+n+1,x=a+n+2,_=a+1;c.push(y,b,_),c.push(b,x,_)}}this.setIndex(c),this.addAttribute("position",new ng(l,3)),this.addAttribute("normal",new ng(d,3)),this.addAttribute("uv",new ng(f,2))}function Lx(e,t,n,r){Zv.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new kx(e,t,n,r)),this.mergeVertices()}function kx(e,t,n,r){sg.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=hv.clamp(r,0,2*Math.PI);var i,o,a,s=[],u=[],c=[],l=1/t,d=new yv,f=new mv;for(o=0;o<=t;o++){var p=n+o*l*r,h=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)d.x=e[a].x*h,d.y=e[a].y,d.z=e[a].x*m,u.push(d.x,d.y,d.z),f.x=o/t,f.y=a/(e.length-1),c.push(f.x,f.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var v=i=a+o*e.length,g=i+e.length,y=i+e.length+1,b=i+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new ng(u,3)),this.addAttribute("uv",new ng(c,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,_=new yv,w=new yv,E=new yv;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)_.x=x[a+0],_.y=x[a+1],_.z=x[a+2],w.x=x[i+a+0],w.y=x[i+a+1],w.z=x[i+a+2],E.addVectors(_,w).normalize(),x[a+0]=x[i+a+0]=E.x,x[a+1]=x[i+a+1]=E.y,x[a+2]=x[i+a+2]=E.z}}function Nx(e,t){Zv.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Rx(e,t)),this.mergeVertices()}function Rx(e,t){sg.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var u=0;u<e.length;u++)c(e[u]),this.addGroup(a,s,u),a+=s,s=0;function c(e){var a,u,c,l=r.length/3,d=e.extractPoints(t),f=d.shape,p=d.holes;for(!1===gx.isClockWise(f)&&(f=f.reverse()),a=0,u=p.length;a<u;a++)c=p[a],!0===gx.isClockWise(c)&&(p[a]=c.reverse());var h=gx.triangulateShape(f,p);for(a=0,u=p.length;a<u;a++)c=p[a],f=f.concat(c);for(a=0,u=f.length;a<u;a++){var m=f[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,u=h.length;a<u;a++){var v=h[a],g=v[0]+l,y=v[1]+l,b=v[2]+l;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new ng(r,3)),this.addAttribute("normal",new ng(i,3)),this.addAttribute("uv",new ng(o,2))}function Px(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Ix(e,t){sg.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(hv.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new Zv).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,f=o.faces,p=0,h=f.length;p<h;p++)for(var m=f[p],v=0;v<3;v++)n=m[l[v]],r=m[l[(v+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:p,face2:void 0}:c[i].face2=p;for(i in c){var g=c[i];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=s){var y=d[g.index1];a.push(y.x,y.y,y.z),y=d[g.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new ng(a,3))}function jx(e,t,n,r,i,o,a,s){Zv.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Dx(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Dx(e,t,n,r,i,o,a,s){sg.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],l=[],d=[],f=[],p=0,h=[],m=n/2,v=0;function g(n){var i,o,h,g=new mv,y=new yv,b=0,x=!0===n?e:t,_=!0===n?1:-1;for(o=p,i=1;i<=r;i++)l.push(0,m*_,0),d.push(0,_,0),f.push(.5,.5),p++;for(h=p,i=0;i<=r;i++){var w=i/r*s+a,E=Math.cos(w),S=Math.sin(w);y.x=x*S,y.y=m*_,y.z=x*E,l.push(y.x,y.y,y.z),d.push(0,_,0),g.x=.5*E+.5,g.y=.5*S*_+.5,f.push(g.x,g.y),p++}for(i=0;i<r;i++){var T=o+i,M=h+i;!0===n?c.push(M,M+1,T):c.push(M+1,M,T),b+=3}u.addGroup(v,b,!0===n?1:2),v+=b}!function(){var o,g,y=new yv,b=new yv,x=0,_=(t-e)/n;for(g=0;g<=i;g++){var w=[],E=g/i,S=E*(t-e)+e;for(o=0;o<=r;o++){var T=o/r,M=T*s+a,A=Math.sin(M),C=Math.cos(M);b.x=S*A,b.y=-E*n+m,b.z=S*C,l.push(b.x,b.y,b.z),y.set(A,_,C).normalize(),d.push(y.x,y.y,y.z),f.push(T,1-E),w.push(p++)}h.push(w)}for(o=0;o<r;o++)for(g=0;g<i;g++){var O=h[g][o],L=h[g+1][o],k=h[g+1][o+1],N=h[g][o+1];c.push(O,L,N),c.push(L,k,N),x+=6}u.addGroup(v,x,0),v+=x}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.addAttribute("position",new ng(l,3)),this.addAttribute("normal",new ng(d,3)),this.addAttribute("uv",new ng(f,2))}function Fx(e,t,n,r,i,o,a){jx.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function zx(e,t,n,r,i,o,a){Dx.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ux(e,t,n,r){Zv.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Bx(e,t,n,r)),this.mergeVertices()}function Bx(e,t,n,r){sg.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],u=[],c=[],l=new yv,d=new mv;for(s.push(0,0,0),u.push(0,0,1),c.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var f=n+o/t*r;l.x=e*Math.cos(f),l.y=e*Math.sin(f),s.push(l.x,l.y,l.z),u.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,c.push(d.x,d.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new ng(s,3)),this.addAttribute("normal",new ng(u,3)),this.addAttribute("uv",new ng(c,2))}Sx.prototype=Object.create(Zv.prototype),Sx.prototype.constructor=Sx,Tx.prototype=Object.create(_x.prototype),Tx.prototype.constructor=Tx,Mx.prototype=Object.create(Zv.prototype),Mx.prototype.constructor=Mx,Ax.prototype=Object.create(sg.prototype),Ax.prototype.constructor=Ax,Cx.prototype=Object.create(Zv.prototype),Cx.prototype.constructor=Cx,Ox.prototype=Object.create(sg.prototype),Ox.prototype.constructor=Ox,Lx.prototype=Object.create(Zv.prototype),Lx.prototype.constructor=Lx,kx.prototype=Object.create(sg.prototype),kx.prototype.constructor=kx,Nx.prototype=Object.create(Zv.prototype),Nx.prototype.constructor=Nx,Nx.prototype.toJSON=function(){var e=Zv.prototype.toJSON.call(this);return Px(this.parameters.shapes,e)},Rx.prototype=Object.create(sg.prototype),Rx.prototype.constructor=Rx,Rx.prototype.toJSON=function(){var e=sg.prototype.toJSON.call(this);return Px(this.parameters.shapes,e)},Ix.prototype=Object.create(sg.prototype),Ix.prototype.constructor=Ix,jx.prototype=Object.create(Zv.prototype),jx.prototype.constructor=jx,Dx.prototype=Object.create(sg.prototype),Dx.prototype.constructor=Dx,Fx.prototype=Object.create(jx.prototype),Fx.prototype.constructor=Fx,zx.prototype=Object.create(Dx.prototype),zx.prototype.constructor=zx,Ux.prototype=Object.create(Zv.prototype),Ux.prototype.constructor=Ux,Bx.prototype=Object.create(sg.prototype),Bx.prototype.constructor=Bx;var Vx=Object.freeze({WireframeGeometry:Lb,ParametricGeometry:kb,ParametricBufferGeometry:Nb,TetrahedronGeometry:Ib,TetrahedronBufferGeometry:jb,OctahedronGeometry:Db,OctahedronBufferGeometry:Fb,IcosahedronGeometry:zb,IcosahedronBufferGeometry:Ub,DodecahedronGeometry:Bb,DodecahedronBufferGeometry:Vb,PolyhedronGeometry:Rb,PolyhedronBufferGeometry:Pb,TubeGeometry:Gb,TubeBufferGeometry:Hb,TorusKnotGeometry:Wb,TorusKnotBufferGeometry:qb,TorusGeometry:Zb,TorusBufferGeometry:Yb,TextGeometry:Sx,TextBufferGeometry:Tx,SphereGeometry:Mx,SphereBufferGeometry:Ax,RingGeometry:Cx,RingBufferGeometry:Ox,PlaneGeometry:lg,PlaneBufferGeometry:dg,LatheGeometry:Lx,LatheBufferGeometry:kx,ShapeGeometry:Nx,ShapeBufferGeometry:Rx,ExtrudeGeometry:xx,ExtrudeBufferGeometry:_x,EdgesGeometry:Ix,ConeGeometry:Fx,ConeBufferGeometry:zx,CylinderGeometry:jx,CylinderBufferGeometry:Dx,CircleGeometry:Ux,CircleBufferGeometry:Bx,BoxGeometry:ug,BoxBufferGeometry:cg});function Gx(e){pg.call(this),this.type="ShadowMaterial",this.color=new jv(0),this.transparent=!0,this.setValues(e)}function Hx(e){hg.call(this,e),this.type="RawShaderMaterial"}function Wx(e){pg.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new jv(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function qx(e){Wx.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Zx(e){pg.call(this),this.type="MeshPhongMaterial",this.color=new jv(16777215),this.specular=new jv(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Yx(e){Zx.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function $x(e){pg.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Xx(e){pg.call(this),this.type="MeshLambertMaterial",this.color=new jv(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jx(e){pg.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new jv(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function Kx(e){bb.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Gx.prototype=Object.create(pg.prototype),Gx.prototype.constructor=Gx,Gx.prototype.isShadowMaterial=!0,Gx.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this},Hx.prototype=Object.create(hg.prototype),Hx.prototype.constructor=Hx,Hx.prototype.isRawShaderMaterial=!0,Wx.prototype=Object.create(pg.prototype),Wx.prototype.constructor=Wx,Wx.prototype.isMeshStandardMaterial=!0,Wx.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qx.prototype=Object.create(Wx.prototype),qx.prototype.constructor=qx,qx.prototype.isMeshPhysicalMaterial=!0,qx.prototype.copy=function(e){return Wx.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Zx.prototype=Object.create(pg.prototype),Zx.prototype.constructor=Zx,Zx.prototype.isMeshPhongMaterial=!0,Zx.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Yx.prototype=Object.create(Zx.prototype),Yx.prototype.constructor=Yx,Yx.prototype.isMeshToonMaterial=!0,Yx.prototype.copy=function(e){return Zx.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},$x.prototype=Object.create(pg.prototype),$x.prototype.constructor=$x,$x.prototype.isMeshNormalMaterial=!0,$x.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Xx.prototype=Object.create(pg.prototype),Xx.prototype.constructor=Xx,Xx.prototype.isMeshLambertMaterial=!0,Xx.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jx.prototype=Object.create(pg.prototype),Jx.prototype.constructor=Jx,Jx.prototype.isMeshMatcapMaterial=!0,Jx.prototype.copy=function(e){return pg.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Kx.prototype=Object.create(bb.prototype),Kx.prototype.constructor=Kx,Kx.prototype.isLineDashedMaterial=!0,Kx.prototype.copy=function(e){return bb.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Qx=Object.freeze({ShadowMaterial:Gx,SpriteMaterial:pb,RawShaderMaterial:Hx,ShaderMaterial:hg,PointsMaterial:Eb,MeshPhysicalMaterial:qx,MeshStandardMaterial:Wx,MeshPhongMaterial:Zx,MeshToonMaterial:Yx,MeshNormalMaterial:$x,MeshLambertMaterial:Xx,MeshDepthMaterial:Wy,MeshDistanceMaterial:qy,MeshBasicMaterial:gg,MeshMatcapMaterial:Jx,LineDashedMaterial:Kx,LineBasicMaterial:bb,Material:pg}),e_={arraySlice:function(e,t,n){return e_.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function t_(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function n_(e,t,n,r){t_.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function r_(e,t,n,r){t_.call(this,e,t,n,r)}function i_(e,t,n,r){t_.call(this,e,t,n,r)}function o_(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=e_.convertArray(t,this.TimeBufferType),this.values=e_.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function a_(e,t,n){o_.call(this,e,t,n)}function s_(e,t,n,r){o_.call(this,e,t,n,r)}function u_(e,t,n,r){o_.call(this,e,t,n,r)}function c_(e,t,n,r){t_.call(this,e,t,n,r)}function l_(e,t,n,r){o_.call(this,e,t,n,r)}function d_(e,t,n,r){o_.call(this,e,t,n,r)}function f_(e,t,n,r){o_.call(this,e,t,n,r)}function p_(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=hv.generateUUID(),this.duration<0&&this.resetDuration()}function h_(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return u_;case"vector":case"vector2":case"vector3":case"vector4":return f_;case"color":return s_;case"quaternion":return l_;case"bool":case"boolean":return a_;case"string":return d_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];e_.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(t_.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(t_.prototype,{beforeStart_:t_.prototype.copySampleValue_,afterEnd_:t_.prototype.copySampleValue_}),n_.prototype=Object.assign(Object.create(t_.prototype),{constructor:n_,DefaultSettings_:{endingStart:lv,endingEnd:lv},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case dv:i=e,a=2*t-n;break;case fv:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case dv:o=e,s=2*n-t;break;case fv:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),h=p*p,m=h*p,v=-d*m+2*d*h-d*p,g=(1+d)*m+(-1.5-2*d)*h+(-.5+d)*p+1,y=(-1-f)*m+(1.5+f)*h+.5*p,b=f*m-f*h,x=0;x!==a;++x)i[x]=v*o[c+x]+g*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),r_.prototype=Object.assign(Object.create(t_.prototype),{constructor:r_,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,d=0;d!==a;++d)i[d]=o[u+d]*l+o[s+d]*c;return i}}),i_.prototype=Object.assign(Object.create(t_.prototype),{constructor:i_,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(o_,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:e_.convertArray(e.times,Array),values:e_.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(o_.prototype,{constructor:o_,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:uv,InterpolantFactoryMethodDiscrete:function(e){return new i_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new r_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new n_(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case sv:t=this.InterpolantFactoryMethodDiscrete;break;case uv:t=this.InterpolantFactoryMethodLinear;break;case cv:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sv;case this.InterpolantFactoryMethodLinear:return uv;case this.InterpolantFactoryMethodSmooth:return cv}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=e_.arraySlice(n,i,o),this.values=e_.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&e_.isTypedArray(r)){a=0;for(var u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===cv,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,d=c+n,f=0;f!==n;++f){var p=t[c+f];if(p!==t[l+f]||p!==t[d+f]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var h=a*n,m=i*n;for(f=0;f!==n;++f)t[m+f]=t[h+f]}++i}}if(o>0){e[i]=e[o];for(h=o*n,m=i*n,f=0;f!==n;++f)t[m+f]=t[h+f];++i}return i!==e.length&&(this.times=e_.arraySlice(e,0,i),this.values=e_.arraySlice(t,0,i*n)),this}}),a_.prototype=Object.assign(Object.create(o_.prototype),{constructor:a_,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:sv,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),s_.prototype=Object.assign(Object.create(o_.prototype),{constructor:s_,ValueTypeName:"color"}),u_.prototype=Object.assign(Object.create(o_.prototype),{constructor:u_,ValueTypeName:"number"}),c_.prototype=Object.assign(Object.create(t_.prototype),{constructor:c_,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),c=s+a;s!==c;s+=4)gv.slerpFlat(i,0,o,s-a,o,s,u);return i}}),l_.prototype=Object.assign(Object.create(o_.prototype),{constructor:l_,ValueTypeName:"quaternion",DefaultInterpolation:uv,InterpolantFactoryMethodLinear:function(e){return new c_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),d_.prototype=Object.assign(Object.create(o_.prototype),{constructor:d_,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:sv,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),f_.prototype=Object.assign(Object.create(o_.prototype),{constructor:f_,ValueTypeName:"vector"}),Object.assign(p_,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(h_(n[i]).scale(r));return new p_(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(o_.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=e_.getKeyframeOrder(s);s=e_.sortedArray(s,1,c),u=e_.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new u_(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new p_(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=r[d=u[1]];c||(r[d]=c=[]),c.push(s)}}var l=[];for(var d in r)l.push(p_.CreateFromMorphTargetSequence(d,r[d],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];e_.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)l[c[d].morphTargets[f]]=-1;for(var p in l){var h=[],m=[];for(f=0;f!==c[d].morphTargets.length;++f){var v=c[d];h.push(v.time),m.push(v.morphTarget===p?1:0)}r.push(new u_(".morphTargetInfluence["+p+"]",h,m))}o=l.length*(a||1)}else{var g=".bones["+t[u].name+"]";n(f_,g+".position",c,"pos",r),n(l_,g+".quaternion",c,"rot",r),n(f_,g+".scale",c,"scl",r)}}return 0===r.length?null:new p_(i,o,r)}}),Object.assign(p_.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var m_={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function v_(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var g_=new v_,y_={};function b_(e){this.manager=void 0!==e?e:g_}function x_(e){this.manager=void 0!==e?e:g_,this._parser=null}function __(e){this.manager=void 0!==e?e:g_}function w_(e){this.manager=void 0!==e?e:g_}function E_(e){this.manager=void 0!==e?e:g_}function S_(){this.type="Curve",this.arcLengthDivisions=200}function T_(e,t,n,r,i,o,a,s){S_.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function M_(e,t,n,r,i,o){T_.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function A_(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var u=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,u*=a,c*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}Object.assign(b_.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=m_.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===y_[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],c=a[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var l,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);l="blob"===d?new Blob([f.buffer],{type:s}):f.buffer;break;case"document":var h=new DOMParser;l=h.parseFromString(c,s);break;case"json":l=JSON.parse(c);break;default:l=c}setTimeout((function(){t&&t(l),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{y_[e]=[],y_[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;m_.add(e,n);var r=y_[e];if(delete y_[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=y_[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=y_[e];delete y_[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=y_[e];delete y_[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(e),m}y_[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:g_}.prototype,{load:function(e,t,n,r){var i=this,o=new b_(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=p_.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:g_,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new Mb;a.image=o;var s=new b_(this.manager);function u(u){s.load(e[u],(function(e){var n=i._parser(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=Xm),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,d=e.length;l<d;++l)u(l);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Xm),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a},setPath:function(e){return this.path=e,this}}),Object.assign(x_.prototype,{load:function(e,t,n,r){var i=this,o=new Av,a=new b_(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Wm,o.wrapT=void 0!==n.wrapT?n.wrapT:Wm,o.magFilter=void 0!==n.magFilter?n.magFilter:Xm,o.minFilter=void 0!==n.minFilter?n.minFilter:Jm,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Xm),o.needsUpdate=!0,t&&t(o,n))}),n,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(__.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=m_.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),m_.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(w_.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Lg,o=new __(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(E_.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new wv,o=new __(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?rv:iv,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(S_.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new yv,a=[],s=[],u=[],c=new yv,l=new vv;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new yv,u[0]=new yv;var d=Number.MAX_VALUE,f=Math.abs(a[0].x),p=Math.abs(a[0].y),h=Math.abs(a[0].z);for(f<=d&&(d=f,o.set(1,0,0)),p<=d&&(d=p,o.set(0,1,0)),h<=d&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(hv.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(hv.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(l.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),T_.prototype=Object.create(S_.prototype),T_.prototype.constructor=T_,T_.prototype.isEllipseCurve=!0,T_.prototype.getPoint=function(e,t){for(var n=t||new mv,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),d=s-this.aX,f=u-this.aY;s=d*c-f*l+this.aX,u=d*l+f*c+this.aY}return n.set(s,u)},T_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},T_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},T_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},M_.prototype=Object.create(T_.prototype),M_.prototype.constructor=M_,M_.prototype.isArcCurve=!0;var C_=new yv,O_=new A_,L_=new A_,k_=new A_;function N_(e,t,n,r){S_.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function R_(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function P_(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function I_(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function j_(e,t,n,r){S_.call(this),this.type="CubicBezierCurve",this.v0=e||new mv,this.v1=t||new mv,this.v2=n||new mv,this.v3=r||new mv}function D_(e,t,n,r){S_.call(this),this.type="CubicBezierCurve3",this.v0=e||new yv,this.v1=t||new yv,this.v2=n||new yv,this.v3=r||new yv}function F_(e,t){S_.call(this),this.type="LineCurve",this.v1=e||new mv,this.v2=t||new mv}function z_(e,t){S_.call(this),this.type="LineCurve3",this.v1=e||new yv,this.v2=t||new yv}function U_(e,t,n){S_.call(this),this.type="QuadraticBezierCurve",this.v0=e||new mv,this.v1=t||new mv,this.v2=n||new mv}function B_(e,t,n){S_.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new yv,this.v1=t||new yv,this.v2=n||new yv}function V_(e){S_.call(this),this.type="SplineCurve",this.points=e||[]}N_.prototype=Object.create(S_.prototype),N_.prototype.constructor=N_,N_.prototype.isCatmullRomCurve3=!0,N_.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new yv,s=this.points,u=s.length,c=(u-(this.closed?0:1))*e,l=Math.floor(c),d=c-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/u)+1)*u:0===d&&l===u-1&&(l=u-2,d=1),this.closed||l>0?n=s[(l-1)%u]:(C_.subVectors(s[0],s[1]).add(s[0]),n=C_),r=s[l%u],i=s[(l+1)%u],this.closed||l+2<u?o=s[(l+2)%u]:(C_.subVectors(s[u-1],s[u-2]).add(s[u-1]),o=C_),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),f),h=Math.pow(r.distanceToSquared(i),f),m=Math.pow(i.distanceToSquared(o),f);h<1e-4&&(h=1),p<1e-4&&(p=h),m<1e-4&&(m=h),O_.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,p,h,m),L_.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,p,h,m),k_.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,p,h,m)}else"catmullrom"===this.curveType&&(O_.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),L_.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),k_.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(O_.calc(d),L_.calc(d),k_.calc(d)),a},N_.prototype.copy=function(e){S_.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},N_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},N_.prototype.fromJSON=function(e){S_.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new yv).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},j_.prototype=Object.create(S_.prototype),j_.prototype.constructor=j_,j_.prototype.isCubicBezierCurve=!0,j_.prototype.getPoint=function(e,t){var n=t||new mv,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(I_(e,r.x,i.x,o.x,a.x),I_(e,r.y,i.y,o.y,a.y)),n},j_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},j_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},j_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},D_.prototype=Object.create(S_.prototype),D_.prototype.constructor=D_,D_.prototype.isCubicBezierCurve3=!0,D_.prototype.getPoint=function(e,t){var n=t||new yv,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(I_(e,r.x,i.x,o.x,a.x),I_(e,r.y,i.y,o.y,a.y),I_(e,r.z,i.z,o.z,a.z)),n},D_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},D_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},D_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},F_.prototype=Object.create(S_.prototype),F_.prototype.constructor=F_,F_.prototype.isLineCurve=!0,F_.prototype.getPoint=function(e,t){var n=t||new mv;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},F_.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},F_.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},F_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},F_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},F_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},z_.prototype=Object.create(S_.prototype),z_.prototype.constructor=z_,z_.prototype.isLineCurve3=!0,z_.prototype.getPoint=function(e,t){var n=t||new yv;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},z_.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},z_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},z_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},z_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},U_.prototype=Object.create(S_.prototype),U_.prototype.constructor=U_,U_.prototype.isQuadraticBezierCurve=!0,U_.prototype.getPoint=function(e,t){var n=t||new mv,r=this.v0,i=this.v1,o=this.v2;return n.set(P_(e,r.x,i.x,o.x),P_(e,r.y,i.y,o.y)),n},U_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},U_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},U_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},B_.prototype=Object.create(S_.prototype),B_.prototype.constructor=B_,B_.prototype.isQuadraticBezierCurve3=!0,B_.prototype.getPoint=function(e,t){var n=t||new yv,r=this.v0,i=this.v1,o=this.v2;return n.set(P_(e,r.x,i.x,o.x),P_(e,r.y,i.y,o.y),P_(e,r.z,i.z,o.z)),n},B_.prototype.copy=function(e){return S_.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},B_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},B_.prototype.fromJSON=function(e){return S_.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},V_.prototype=Object.create(S_.prototype),V_.prototype.constructor=V_,V_.prototype.isSplineCurve=!0,V_.prototype.getPoint=function(e,t){var n=t||new mv,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(R_(a,s.x,u.x,c.x,l.x),R_(a,s.y,u.y,c.y,l.y)),n},V_.prototype.copy=function(e){S_.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},V_.prototype.toJSON=function(){var e=S_.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},V_.prototype.fromJSON=function(e){S_.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new mv).fromArray(r))}return this};var G_=Object.freeze({ArcCurve:M_,CatmullRomCurve3:N_,CubicBezierCurve:j_,CubicBezierCurve3:D_,EllipseCurve:T_,LineCurve:F_,LineCurve3:z_,QuadraticBezierCurve:U_,QuadraticBezierCurve3:B_,SplineCurve:V_});function H_(){S_.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function W_(e){H_.call(this),this.type="Path",this.currentPoint=new mv,e&&this.setFromPoints(e)}function q_(e){W_.call(this,e),this.uuid=hv.generateUUID(),this.type="Shape",this.holes=[]}function Z_(e,t){Wv.call(this),this.type="Light",this.color=new jv(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Y_(e,t,n){Z_.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Wv.DefaultUp),this.updateMatrix(),this.groundColor=new jv(t)}function $_(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new mv(512,512),this.map=null,this.matrix=new vv}function X_(){$_.call(this,new Qy(50,1,.5,500))}function J_(e,t,n,r,i,o){Z_.call(this,e,t),this.type="SpotLight",this.position.copy(Wv.DefaultUp),this.updateMatrix(),this.target=new Wv,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new X_}function K_(e,t,n,r){Z_.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new $_(new Qy(90,1,.5,500))}function Q_(e,t,n,r,i,o){Ky.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function ew(){$_.call(this,new Q_(-5,5,5,-5,.5,500))}function tw(e,t){Z_.call(this,e,t),this.type="DirectionalLight",this.position.copy(Wv.DefaultUp),this.updateMatrix(),this.target=new Wv,this.shadow=new ew}function nw(e,t){Z_.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function rw(e,t,n,r){Z_.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function iw(e){this.manager=void 0!==e?e:g_,this.textures={}}H_.prototype=Object.assign(Object.create(S_.prototype),{constructor:H_,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new F_(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){S_.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=S_.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){S_.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new G_[r.type]).fromJSON(r))}return this}}),W_.prototype=Object.assign(Object.create(H_.prototype),{constructor:W_,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new F_(this.currentPoint.clone(),new mv(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new U_(this.currentPoint.clone(),new mv(e,t),new mv(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new j_(this.currentPoint.clone(),new mv(e,t),new mv(n,r),new mv(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new V_([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new T_(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)},copy:function(e){return H_.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=H_.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return H_.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),q_.prototype=Object.assign(Object.create(W_.prototype),{constructor:q_,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){W_.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=W_.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){W_.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new W_).fromJSON(r))}return this}}),Z_.prototype=Object.assign(Object.create(Wv.prototype),{constructor:Z_,isLight:!0,copy:function(e){return Wv.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Wv.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Y_.prototype=Object.assign(Object.create(Z_.prototype),{constructor:Y_,isHemisphereLight:!0,copy:function(e){return Z_.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign($_.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),X_.prototype=Object.assign(Object.create($_.prototype),{constructor:X_,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*hv.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),J_.prototype=Object.assign(Object.create(Z_.prototype),{constructor:J_,isSpotLight:!0,copy:function(e){return Z_.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),K_.prototype=Object.assign(Object.create(Z_.prototype),{constructor:K_,isPointLight:!0,copy:function(e){return Z_.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Q_.prototype=Object.assign(Object.create(Ky.prototype),{constructor:Q_,isOrthographicCamera:!0,copy:function(e,t){return Ky.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=d*(this.view.offsetY/c))-d*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Wv.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ew.prototype=Object.assign(Object.create($_.prototype),{constructor:ew}),tw.prototype=Object.assign(Object.create(Z_.prototype),{constructor:tw,isDirectionalLight:!0,copy:function(e){return Z_.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),nw.prototype=Object.assign(Object.create(Z_.prototype),{constructor:nw,isAmbientLight:!0}),rw.prototype=Object.assign(Object.create(Z_.prototype),{constructor:rw,isRectAreaLight:!0,copy:function(e){return Z_.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Z_.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(iw.prototype,{load:function(e,t,n,r){var i=this,o=new b_(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Qx[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new jv).setHex(o.value);break;case"v2":r.uniforms[i].value=(new mv).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new yv).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new Ev).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new bv).fromArray(o.value);case"m4":r.uniforms[i].value=(new vv).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new mv).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var ow=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function aw(e){this.manager=void 0!==e?e:g_}Object.assign(aw.prototype,{load:function(e,t,n,r){var i=this,o=new b_(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new sg,n=e.data.index;if(void 0!==n){var r=new sw[n.type](n.array);t.setIndex(new Yv(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o];r=new sw[a.type](a.array);t.addAttribute(o,new Yv(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var l=s[u];t.addGroup(l.start,l.count,l.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var f=new yv;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new Ov(f,d.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var sw={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function uw(e){this.manager=void 0!==e?e:g_,this.resourcePath=""}Object.assign(uw.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?ow(e):this.path;this.resourcePath=this.resourcePath||o;var a=new b_(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new q_).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new aw,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Vx[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Vx[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Vx[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Vx[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Vx[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Vx[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Vx[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Vx[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Vx[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Vx[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Vx[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Vx[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],c=0,l=s.shapes.length;c<l;c++){var d=t[s.shapes[c]];u.push(d)}a=new Vx[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],c=0,l=s.shapes.length;c<l;c++){d=t[s.shapes[c]];u.push(d)}var f=s.options.extrudePath;void 0!==f&&(s.options.extrudePath=(new G_[f.type]).fromJSON(f)),a=new Vx[s.type](u,s.options);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new iw;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var u=[],c=0;c<s.materials.length;c++){var l=s.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),u.push(n[l.uuid])}r[s.uuid]=u}else r[s.uuid]=i.parse(s),n[s.uuid]=r[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=p_.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new __(new v_(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=u.url;if(Array.isArray(c)){r[u.uuid]=[];for(var l=0,d=c.length;l<d;l++){var f=c[l],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;r[u.uuid].push(i(p))}}else{p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.resourcePath+u.url;r[u.uuid]=i(p)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Lg(t[s.image]):new wv(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,lw)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],dw),a.wrapT=n(s.wrap[1],dw)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,fw)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,fw)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new lb,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new jv(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new cb(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new ub(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Qy(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Q_(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new nw(e.color,e.intensity);break;case"DirectionalLight":r=new tw(e.color,e.intensity);break;case"PointLight":r=new K_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new rw(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new J_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Y_(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new vb(a,s):new yg(a,s);break;case"LOD":r=new mb;break;case"Line":r=new xb(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new wb(i(e.geometry),o(e.material));break;case"LineSegments":r=new _b(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new Sb(i(e.geometry),o(e.material));break;case"Sprite":r=new hb(o(e.material));break;case"Group":r=new Jy;break;default:r=new Wv}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,c=0;c<u.length;c++)r.add(this.parseObject(u[c],t,n));if("LOD"===e.type)for(var l=e.levels,d=0;d<l.length;d++){var f=l[d],p=r.getObjectByProperty("uuid",f.object);void 0!==p&&r.addLevel(p,f.distance)}return r}});var cw,lw={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},dw={RepeatWrapping:Hm,ClampToEdgeWrapping:Wm,MirroredRepeatWrapping:qm},fw={NearestFilter:Zm,NearestMipMapNearestFilter:Ym,NearestMipMapLinearFilter:$m,LinearFilter:Xm,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:Jm};function pw(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:g_,this.options=void 0}function hw(){this.type="ShapePath",this.color=new jv,this.subPaths=[],this.currentPath=null}function mw(e){this.type="Font",this.data=e}function vw(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,u,c,l,d,f,p,h=new hw;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,h.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,h.lineTo(a,s);break;case"q":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,d=m[v++]*t+r,h.quadraticCurveTo(l,d,u,c);break;case"b":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,d=m[v++]*t+r,f=m[v++]*t+n,p=m[v++]*t+r,h.bezierCurveTo(l,d,f,p,u,c)}}return{offsetX:o.ha*t,path:h}}}function gw(){}pw.prototype={constructor:pw,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=m_.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){m_.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}))},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(hw.prototype,{moveTo:function(e,t){this.currentPath=new W_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new q_;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=gx.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new q_).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var d,f,p=[],h=[],m=[],v=0;h[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(d=(s=o[g]).getPoints()),(a=e?!a:a)?(!l&&h[v]&&v++,h[v]={s:new q_,p:d},h[v].s.curves=s.curves,l&&v++,m[v]=[]):m[v].push({h:s,p:d[0]});if(!h[0])return n(o);if(h.length>1){for(var b=!1,x=[],_=0,w=h.length;_<w;_++)p[_]=[];for(_=0,w=h.length;_<w;_++)for(var E=m[_],S=0;S<E.length;S++){for(var T=E[S],M=!0,A=0;A<h.length;A++)r(T.p,h[A].p)&&(_!==A&&x.push({froms:_,tos:A,hole:S}),M?(M=!1,p[A].push(T)):b=!0);M&&p[_].push(T)}x.length>0&&(b||(m=p))}g=0;for(var C=h.length;g<C;g++){u=h[g].s,c.push(u);for(var O=0,L=(f=m[g]).length;O<L;O++)u.holes.push(f[O].h)}return c}}),Object.assign(mw.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=o;else{var d=vw(l,i,s,u,n);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(function(e){this.manager=void 0!==e?e:g_}.prototype,{load:function(e,t,n,r){var i=this,o=new b_(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new mw(e)},setPath:function(e){return this.path=e,this}}),gw.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(gw.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},t=new jv,n=new E_,r=new iw;return function(i,o,a){var s={};function u(e,t,r,i,u){var c,l=o+e,d=gw.Handlers.get(l);null!==d?c=d.load(l):(n.setCrossOrigin(a),c=n.load(l)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Hm),1!==t[1]&&(c.wrapT=Hm)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=Hm),"mirror"===i[0]&&(c.wrapS=qm),"repeat"===i[1]&&(c.wrapT=Hm),"mirror"===i[1]&&(c.wrapT=qm)),void 0!==u&&(c.anisotropy=u);var f=hv.generateUUID();return s[f]=c,f}var c={uuid:hv.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var d=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"DbgName":c.name=d;break;case"blending":c.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(d).getHex();break;case"colorSpecular":c.specular=t.fromArray(d).getHex();break;case"colorEmissive":c.emissive=t.fromArray(d).getHex();break;case"specularCoef":c.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=u(d,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapEmissive":c.emissiveMap=u(d,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapLight":c.lightMap=u(d,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapAO":c.aoMap=u(d,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapBump":c.bumpMap=u(d,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=d;break;case"mapNormal":c.normalMap=u(d,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=d;break;case"mapSpecular":c.specularMap=u(d,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapMetalness":c.metalnessMap=u(d,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapRoughness":c.roughnessMap=u(d,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapAlpha":c.alphaMap=u(d,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"flipSided":c.side=1;break;case"doubleSided":c.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=d;break;case"vertexColors":!0===d&&(c.vertexColors=2),"face"===d&&(c.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,d)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(s),r.parse(c)}}()});var yw=function(){return void 0===cw&&(cw=new(window.AudioContext||window.webkitAudioContext)),cw};function bw(e){this.manager=void 0!==e?e:g_}function xw(e,t,n,r){Wv.call(this),this.type="CubeCamera";var i=90,o=new Qy(i,1,e,t);o.up.set(0,-1,0),o.lookAt(new yv(1,0,0)),this.add(o);var a=new Qy(i,1,e,t);a.up.set(0,-1,0),a.lookAt(new yv(-1,0,0)),this.add(a);var s=new Qy(i,1,e,t);s.up.set(0,0,1),s.lookAt(new yv(0,1,0)),this.add(s);var u=new Qy(i,1,e,t);u.up.set(0,0,-1),u.lookAt(new yv(0,-1,0)),this.add(u);var c=new Qy(i,1,e,t);c.up.set(0,-1,0),c.lookAt(new yv(0,0,1)),this.add(c);var l=new Qy(i,1,e,t);l.up.set(0,-1,0),l.lookAt(new yv(0,0,-1)),this.add(l),r=r||{format:rv,magFilter:Xm,minFilter:Xm},this.renderTarget=new Mv(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,i=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,o,r),r.activeCubeFace=1,e.render(t,a,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,u,r),r.activeCubeFace=4,e.render(t,c,r),r.texture.generateMipmaps=i,r.activeCubeFace=5,e.render(t,l,r),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)o.activeCubeFace=a,e.setRenderTarget(o),e.clear(t,n,r);e.setRenderTarget(i)}}function _w(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ww(){Wv.call(this),this.type="AudioListener",this.context=yw(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Ew(e){Wv.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Sw(e){Ew.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Tw(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Mw(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(bw.prototype,{load:function(e,t,n,r){var i=new b_(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);yw().decodeAudioData(n,(function(e){t(e)}))}),n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qy,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qy,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var e,t,n,r,i,o,a,s,u=new vv,c=new vv;return function(l){if(e!==this||t!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){e=this,t=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var d,f,p=l.projectionMatrix.clone(),h=(s=this.eyeSep/2)*i/t,m=i*Math.tan(hv.DEG2RAD*n*.5)/a;c.elements[12]=-s,u.elements[12]=s,d=-m*r+h,f=m*r+h,p.elements[0]=2*i/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(p),d=-m*r-h,f=m*r-h,p.elements[0]=2*i/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(u)}}()}),xw.prototype=Object.create(Wv.prototype),xw.prototype.constructor=xw,Object.assign(_w.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),ww.prototype=Object.assign(Object.create(Wv.prototype),{constructor:ww,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new yv,t=new gv,n=new yv,r=new yv,i=new _w;return function(o){Wv.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),a.positionX){var u=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,u),a.positionY.linearRampToValueAtTime(e.y,u),a.positionZ.linearRampToValueAtTime(e.z,u),a.forwardX.linearRampToValueAtTime(r.x,u),a.forwardY.linearRampToValueAtTime(r.y,u),a.forwardZ.linearRampToValueAtTime(r.z,u),a.upX.linearRampToValueAtTime(s.x,u),a.upY.linearRampToValueAtTime(s.y,u),a.upZ.linearRampToValueAtTime(s.z,u)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Ew.prototype=Object.assign(Object.create(Wv.prototype),{constructor:Ew,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),Sw.prototype=Object.assign(Object.create(Ew.prototype),{constructor:Sw,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new yv,t=new gv,n=new yv,r=new yv;return function(i){if(Wv.prototype.updateMatrixWorld.call(this,i),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var o=this.panner;if(o.positionX){var a=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(e.x,a),o.positionY.linearRampToValueAtTime(e.y,a),o.positionZ.linearRampToValueAtTime(e.z,a),o.orientationX.linearRampToValueAtTime(r.x,a),o.orientationY.linearRampToValueAtTime(r.y,a),o.orientationZ.linearRampToValueAtTime(r.z,a)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(Tw.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Mw.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){gv.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var Aw,Cw,Ow="\\[\\]\\.:\\/";function Lw(e,t,n){var r=n||kw.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function kw(e,t,n){this.path=t,this.parsedPath=n||kw.parseTrackName(t),this.node=kw.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Nw(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:lv,endingEnd:lv},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Rw(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Pw(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Iw(){sg.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function jw(e,t,n){db.call(this,e,t),this.meshPerAttribute=n||1}function Dw(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Yv.call(this,e,t,n),this.meshPerAttribute=r||1}function Fw(e,t){return e.distance-t.distance}function zw(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)zw(i[o],t,n,!0)}function Uw(e,t){this.min=void 0!==e?e:new mv(1/0,1/0),this.max=void 0!==t?t:new mv(-1/0,-1/0)}function Bw(e,t){this.start=void 0!==e?e:new yv,this.end=void 0!==t?t:new yv}function Vw(e){Wv.call(this),this.material=e,this.render=function(){}}function Gw(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new sg,c=new ng(2*a*3,3);u.addAttribute("position",c),_b.call(this,u,new bb({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Hw(e,t){Wv.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new sg,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new ng(r,3));var u=new bb({fog:!1});this.cone=new _b(n,u),this.add(this.cone),this.update()}function Ww(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Ww(e.children[n]));return t}function qw(e){for(var t=Ww(e),n=new sg,r=[],i=[],o=new jv(0,0,1),a=new jv(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new ng(r,3)),n.addAttribute("color",new ng(i,3));var c=new bb({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});_b.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Zw(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Ax(t,4,2),i=new gg({wireframe:!0,fog:!1});yg.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Yw(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new sg;n.addAttribute("position",new ng([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new bb({fog:!1});xb.call(this,n,r);var i=new sg;i.addAttribute("position",new ng([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new yg(i,new gg({side:THREE.BackSide,fog:!1}))),this.update()}function $w(e,t,n){Wv.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Fb(t);r.rotateY(.5*Math.PI),this.material=new gg({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new Yv(o,3)),this.add(new yg(r,this.material)),this.update()}function Xw(e,t,n,r){e=e||10,t=t||10,n=new jv(void 0!==n?n:4473924),r=new jv(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,d=-a;c<=t;c++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var f=c===i?n:r;f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3}var p=new sg;p.addAttribute("position",new ng(s,3)),p.addAttribute("color",new ng(u,3));var h=new bb({vertexColors:2});_b.call(this,p,h)}function Jw(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new jv(void 0!==i?i:4473924),o=new jv(void 0!==o?o:8947848);var a,s,u,c,l,d,f,p=[],h=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,p.push(0,0,0),p.push(a,0,s),f=1&c?i:o,h.push(f.r,f.g,f.b),h.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,d=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*d,s=Math.cos(u)*d,p.push(a,0,s),h.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*d,s=Math.cos(u)*d,p.push(a,0,s),h.push(f.r,f.g,f.b);var m=new sg;m.addAttribute("position",new ng(p,3)),m.addAttribute("color",new ng(h,3));var v=new bb({vertexColors:2});_b.call(this,m,v)}function Kw(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new sg,c=new ng(2*a*3,3);u.addAttribute("position",c),_b.call(this,u,new bb({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Qw(e,t,n){Wv.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new sg;r.addAttribute("position",new ng([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new bb({fog:!1});this.lightPlane=new xb(r,i),this.add(this.lightPlane),(r=new sg).addAttribute("position",new ng([0,0,0,0,0,1],3)),this.targetLine=new xb(r,i),this.add(this.targetLine),this.update()}function eE(e){var t=new sg,n=new bb({color:16777215,vertexColors:1}),r=[],i=[],o={},a=new jv(16755200),s=new jv(16711680),u=new jv(43775),c=new jv(16777215),l=new jv(3355443);function d(e,t,n){f(e,n),f(t,n)}function f(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",u),d("u2","u3",u),d("u3","u1",u),d("c","t",c),d("p","c",l),d("cn1","cn2",l),d("cn3","cn4",l),d("cf1","cf2",l),d("cf3","cf4",l),t.addAttribute("position",new ng(r,3)),t.addAttribute("color",new ng(i,3)),_b.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function tE(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new sg;i.setIndex(new Yv(n,1)),i.addAttribute("position",new Yv(r,3)),_b.call(this,i,new bb({color:t})),this.matrixAutoUpdate=!1,this.update()}function nE(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new sg;i.setIndex(new Yv(r,1)),i.addAttribute("position",new ng([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),_b.call(this,i,new bb({color:n})),this.geometry.computeBoundingSphere()}function rE(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new sg;i.addAttribute("position",new ng([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),xb.call(this,i,new bb({color:r}));var o=new sg;o.addAttribute("position",new ng([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new yg(o,new gg({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function iE(e,t,n,r,i,o){Wv.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Aw&&((Aw=new sg).addAttribute("position",new ng([0,0,0,0,1,0],3)),(Cw=new Dx(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new xb(Aw,new bb({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yg(Cw,new gg({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function oE(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new sg;n.addAttribute("position",new ng(t,3)),n.addAttribute("color",new ng([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new bb({vertexColors:2});_b.call(this,n,r)}Object.assign(Lw.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(kw,{Composite:Lw,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new kw.Composite(e,t,n):new kw(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("[\\[\\]\\.:\\/]","g");return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^\\[\\]\\.:\\/]",t="[^"+Ow.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),a=new RegExp("^"+n+r+i+o+"$"),s=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(kw.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=kw.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(kw.prototype,{_getValue_unbound:kw.prototype.getValue,_setValue_unbound:kw.prototype.setValue}),Object.assign(function(){this.uuid=hv.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,c=0,l=arguments.length;c!==l;++c){var d=arguments[c],f=d.uuid,p=r[f];if(void 0===p){p=t++,r[f]=p,e.push(d);for(var h=0,m=s;h!==m;++h)a[h].push(new kw(d,i[h],o[h]))}else if(p<n){u=e[p];var v=--n,g=e[v];r[g.uuid]=p,e[p]=g,r[f]=v,e[v]=d;for(h=0,m=s;h!==m;++h){var y=a[h],b=y[v],x=y[p];y[p]=b,void 0===x&&(x=new kw(d,i[h],o[h])),y[v]=x}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=t){var l=t++,d=e[l];n[d.uuid]=c,e[c]=d,n[u]=l,e[l]=s;for(var f=0,p=i;f!==p;++f){var h=r[f],m=h[l],v=h[c];h[c]=m,h[l]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l)if(delete r[c],l<n){var d=--n,f=e[d],p=e[y=--t];r[f.uuid]=l,e[l]=f,r[p.uuid]=d,e[d]=p,e.pop();for(var h=0,m=o;h!==m;++h){var v=(b=i[h])[d],g=b[y];b[l]=v,b[d]=g,b.pop()}}else{var y;r[(p=e[y=--t]).uuid]=l,e[l]=p,e.pop();for(h=0,m=o;h!==m;++h){var b;(b=i[h])[l]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var d=c,f=s.length;d!==f;++d){var p=s[d];l[d]=new kw(p,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Nw.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,d=u.length;l!==d;++l)u[l].evaluate(a),c[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=dv,r.endingEnd=dv):(r.endingStart=e?this.zeroSlopeAtStart?dv:lv:fv,r.endingEnd=t?this.zeroSlopeAtEnd?dv:lv:fv)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Rw.prototype=Object.assign(Object.create(Bm.prototype),{constructor:Rw,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var d=r[l],f=d.name,p=c[f];if(void 0!==p)o[l]=p;else{if(void 0!==(p=o[l])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var h=t&&t._propertyBindings[l].binding.parsedPath;++(p=new Mw(kw.create(n,f,h),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,f),o[l]=p}a[l].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new r_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?p_.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new Nw(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?p_.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Pw.prototype.clone=function(){return new Pw(void 0===this.value.clone?this.value:this.value.clone())},Iw.prototype=Object.assign(Object.create(sg.prototype),{constructor:Iw,isInstancedBufferGeometry:!0,copy:function(e){return sg.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),jw.prototype=Object.assign(Object.create(db.prototype),{constructor:jw,isInstancedInterleavedBuffer:!0,copy:function(e){return db.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Dw.prototype=Object.assign(Object.create(Yv.prototype),{constructor:Dw,isInstancedBufferAttribute:!0,copy:function(e){return Yv.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new mg(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return zw(e,this,r,t),r.sort(Fw),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)zw(e[i],this,r,t);return r.sort(Fw),r}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(hv.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(Uw.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new mv;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new mv),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new mv),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new mv),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new mv),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new mv;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Bw.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new yv),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new yv),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new yv),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new yv,t=new yv;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e)/i;return r&&(o=hv.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new yv),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Vw.prototype=Object.create(Wv.prototype),Vw.prototype.constructor=Vw,Vw.prototype.isImmediateRenderObject=!0,Gw.prototype=Object.create(_b.prototype),Gw.prototype.constructor=Gw,Gw.prototype.update=function(){var e=new yv,t=new yv,n=new bv;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,d=u.length;l<d;l++)for(var f=u[l],p=0,h=f.vertexNormals.length;p<h;p++){var m=s[f[r[p]]],v=f.vertexNormals[p];e.copy(m).applyMatrix4(i),t.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry){var g=a.attributes.position,y=a.attributes.normal;for(c=0,p=0,h=g.count;p<h;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}o.needsUpdate=!0}}(),Hw.prototype=Object.create(Wv.prototype),Hw.prototype.constructor=Hw,Hw.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Hw.prototype.update=function(){var e=new yv;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),qw.prototype=Object.create(_b.prototype),qw.prototype.constructor=qw,qw.prototype.updateMatrixWorld=function(){var e=new yv,t=new vv,n=new vv;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u+1,e.x,e.y,e.z),u+=2)}o.getAttribute("position").needsUpdate=!0,Wv.prototype.updateMatrixWorld.call(this,r)}}(),Zw.prototype=Object.create(yg.prototype),Zw.prototype.constructor=Zw,Zw.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Zw.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Yw.prototype=Object.create(xb.prototype),Yw.prototype.constructor=Yw,Yw.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Yw.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},$w.prototype=Object.create(Wv.prototype),$w.prototype.constructor=$w,$w.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},$w.prototype.update=function(){var e=new yv,t=new jv,n=new jv;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Xw.prototype=Object.create(_b.prototype),Xw.prototype.constructor=Xw,Jw.prototype=Object.create(_b.prototype),Jw.prototype.constructor=Jw,Kw.prototype=Object.create(_b.prototype),Kw.prototype.constructor=Kw,Kw.prototype.update=function(){var e=new yv,t=new yv,n=new bv;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var d=s[c],f=d.normal;e.copy(a[d.a]).add(a[d.b]).add(a[d.c]).divideScalar(3).applyMatrix4(r),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}i.needsUpdate=!0}}(),Qw.prototype=Object.create(Wv.prototype),Qw.prototype.constructor=Qw,Qw.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Qw.prototype.update=function(){var e=new yv,t=new yv,n=new yv;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),eE.prototype=Object.create(_b.prototype),eE.prototype.constructor=eE,eE.prototype.update=function(){var e,t,n=new yv,r=new Ky;function i(i,o,a,s){n.set(o,a,s).unproject(r);var u=t[i];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,d=u.length;l<d;l++)c.setXYZ(u[l],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),tE.prototype=Object.create(_b.prototype),tE.prototype.constructor=tE,tE.prototype.update=function(){var e=new Cv;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),tE.prototype.setFromObject=function(e){return this.object=e,this.update(),this},tE.prototype.copy=function(e){return _b.prototype.copy.call(this,e),this.object=e.object,this},tE.prototype.clone=function(){return(new this.constructor).copy(this)},nE.prototype=Object.create(_b.prototype),nE.prototype.constructor=nE,nE.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Wv.prototype.updateMatrixWorld.call(this,e))},rE.prototype=Object.create(xb.prototype),rE.prototype.constructor=rE,rE.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),Wv.prototype.updateMatrixWorld.call(this,e)},iE.prototype=Object.create(Wv.prototype),iE.prototype.constructor=iE,iE.prototype.setDirection=function(){var e,t=new yv;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),iE.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},iE.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},iE.prototype.copy=function(e){return Wv.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},iE.prototype.clone=function(){return(new this.constructor).copy(this)},oE.prototype=Object.create(_b.prototype),oE.prototype.constructor=oE;function aE(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),N_.call(this,e),this.type="catmullrom"}S_.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(S_.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(H_.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Zv,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new yv(i.x,i.y,i.z||0))}return t}}),Object.assign(W_.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(N_.prototype),Object.create(N_.prototype),aE.prototype=Object.create(N_.prototype),Object.assign(aE.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Xw.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},qw.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(gw.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ow(e)}}),Object.assign(uw.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Uw.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Cv.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Bw.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(hv,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),hv.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),hv.ceilPowerOfTwo(e)}}),Object.assign(bv.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(vv.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new yv),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),Lv.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},gv.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(mg.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(vg.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(vg,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),vg.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),vg.getNormal(e,t,n,r)}}),Object.assign(q_.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new xx(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Nx(this,e)}}),Object.assign(mv.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yv.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ev.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Zv.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Wv.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Wv.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(mb.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(gb.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),vb.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(S_.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Qy.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Z_.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Yv.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(sg.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(sg.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(_x.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Pw.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(pg.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new jv}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(Zx.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(hg.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(sb.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(sb.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Zy.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Sv.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(ob.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Ew.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new bw).load(e,(function(e){t.setBuffer(e)})),this},Tw.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},xw.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};xv.crossOrigin=void 0,xv.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new E_;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},xv.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new w_;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},xv.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},xv.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var sE=new(function(){function e(){rr(this,e),this.renderer=void 0,this.rtTexture=void 0,this.sceneRTT=void 0,this.cameraRTT=void 0,this.material=void 0,this.request=void 0}return nr(e,[{key:"initialize",value:function(){var e=this;window.addEventListener("resize",(function(t){e.resize()}));var t=new Q_(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=100;var n=new lb,r=new Sv(window.innerWidth/1.5,window.innerHeight/1.5,{minFilter:Xm,magFilter:Zm,format:iv,type:Km}),i=new Ob;i.needsUpdate=!0;var o=new hg({uniforms:{tDiffuse:{value:i}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = vec2(uv.x, 1.0-uv.y); // fuck gl uv coords\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n",fragmentShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\t}\n"});this.material=o;var a=new yg(new dg(window.innerWidth/1.5,window.innerHeight/1.5),o);a.position.z=-100,n.add(a);var s=new sb;s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth/1.5,window.innerHeight/1.5),s.autoClear=!1,document.getElementById("app").appendChild(s.domElement),document.getElementById("app").style.display="none",this.renderer=s,this.rtTexture=r,this.sceneRTT=n,this.cameraRTT=t,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}},{key:"resize",value:function(){var e=new Q_(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);e.position.z=100,this.cameraRTT=e;var t=new lb,n=new yg(new dg(window.innerWidth/1.5,window.innerHeight/1.5),this.material);n.position.z=-100,t.add(n),this.sceneRTT=t,this.rtTexture=new Sv(window.innerWidth/1.5,window.innerHeight/1.5,{minFilter:Xm,magFilter:Zm,format:iv,type:Km}),this.renderer.setSize(window.innerWidth/1.5,window.innerHeight/1.5)}},{key:"animate",value:function(){if(requestAnimationFrame(this.animate),this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT,this.rtTexture,!0),this.request){this.request;this.request=null}}},{key:"generateImage",value:function(){var e=new Uint8Array(window.innerWidth/1.5*window.innerHeight/1.5*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,window.innerWidth/1.5,window.innerHeight/1.5,e);var t=document.createElement("canvas");t.style.display="inline",t.width=window.innerWidth/1.5,t.height=window.innerHeight/1.5;var n=new Uint8ClampedArray(e.buffer);return t.getContext("2d").putImageData(new ImageData(n,window.innerWidth/1.5,window.innerHeight/1.5),0,0),t.toDataURL("image/png",.5)}}]),e}());sE.initialize();var uE,cE,lE=function(){var e=ue(),t=Fn(Dl(),1)[0],n=zm(),r=Bl().addAlert,o=Um().takePhoto,a=Fn((0,i.useState)("https://placekitten.com/1280/720"),2),s=a[0],u=a[1];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,i.useEffect)((function(){var n=setInterval(e,t);return function(){clearInterval(n)}}),n)}((function(){u(sE.generateImage())}),1),(0,i.useEffect)((function(){return pl(Cm.ENTER_CAMERA,{}),function(){pl(Cm.EXIT_CAMERA,{})}}),[]),(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[80%_80%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[80%_80%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:" "}),(0,Fl.jsxs)(_d,{className:"flex flex-col justify-between h-full",children:[(0,Fl.jsx)("div",{}),(0,Fl.jsx)("div",{className:"bg-center bg-cover w-50 aspect-square",style:{backgroundImage:"url(".concat(s,")")}}),(0,Fl.jsxs)("div",{className:"flex justify-between items-center mb-14 mx-4",children:[(0,Fl.jsx)("div",{className:"bg-center bg-cover w-16 aspect-square rounded-xl cursor-pointer",style:{backgroundImage:"url(".concat(n[0]&&n[0].image||null,")")},onClick:function(){return e.push("/photo")}}),(0,Fl.jsx)("div",{className:"bg-white h-16 w-16 rounded-full ring ring-white ring-offset-2 ring-offset-black cursor-pointer",onClick:function(){pl(Cm.TAKE_PHOTO).then((function(e){if("ok"!==e.status)return r({message:t("CAMERA.FAILED_TO_TAKE_PHOTO"),type:"error"});o(e.data)}))}}),(0,Fl.jsx)(dd,{className:"bg-[#1D1D1D] text-white p-2 h-12 w-12 rounded-full cursor-pointer",onClick:function(){pl(Cm.TOGGLE_CAMERA,{})}})]})]})]})})},dE={contacts:Qc({key:"societyContactsList",default:[{id:1,display:"LSPD",number:"555-LSPD",avatar:"media/society_icon/lspd.webp"},{id:2,display:"LSMS",number:"555-LSMS",avatar:"media/society_icon/lsms.webp"}]}),filterInput:Qc({key:"societyFilterInput",default:""}),filteredContacts:el({key:"societyFilteredContacts",get:function(e){var t=e.get,n=t(dE.filterInput),r=t(dE.contacts),i=[];if(n){var o=new RegExp(n,"gi");r=r.filter((function(e){return e.display.match(o)||e.number.match(o)}))}return r.forEach((function(e){void 0===i[e.display[0]]&&(i[e.display[0]]=[]),i[e.display[0]].push(e)})),i}})};!function(e){e[e.message=255]="message"}(uE||(uE={})),function(e){e.UPDATE_SOCIETY_MESSAGE="npwd:updateSocietyMessage",e.SEND_SOCIETY_MESSAGE="npwd:sendSocietyMessage",e.FETCH_SOCIETY_MESSAGES="npwd:fetchSocietyMessage",e.RESET_SOCIETY_MESSAGES="npwd:resetSocietyMessage",e.SEND_SOCIETY_MESSAGE_SUCCESS="npwd:sendSocietyMessageSuccess",e.CREATE_MESSAGE_BROADCAST="npwd:createSocietyMessagesBroadcast"}(cE||(cE={}));var fE=function(){var e=le().id,t=qp({referal:"/society-contacts"}).referal,n=ue(),r=function(){var e=al((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(dE.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=er(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.id===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[]);return{getContact:e}}(),o=r.getContact,a=function(){var e=Bl().addAlert,t=Fn(Dl(),1)[0],n=ue();return{sendSocietyMessage:(0,i.useCallback)((function(r,i){var o=r.number,a=r.message,s=r.anonymous,u=r.position;pl(cE.SEND_SOCIETY_MESSAGE,{number:o,anonymous:s,message:a,position:u}).then((function(r){if("ok"!==r.status)return e({message:t("SOCIETY_CONTACTS.FEEDBACK.SEND_FAILED"),type:"error"});e({message:t("SOCIETY_CONTACTS.FEEDBACK.SEND_SUCCESS"),type:"success"}),n.replace(i)}))}),[e,n,t])}}(),s=a.sendSocietyMessage,u=o(parseInt(e)),c=Fn(Dl(),1)[0],l=Fn((0,i.useState)(""),2),d=l[0],f=l[1],p=Fn((0,i.useState)(!1),2),h=p[0],m=p[1];return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:u.display,children:(0,Fl.jsxs)(Lp,{className:"flex items-center text-base",onClick:function(){return n.goBack()},children:[(0,Fl.jsx)(od,{className:"h-5 w-5"}),"Fermer"]})}),(0,Fl.jsxs)(_d,{className:"text-white mt-10 mx-4 mb-4",children:[(0,Fl.jsx)("div",{className:"flex justify-center",children:(0,Fl.jsx)("div",{className:"bg-gray-700 bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(u.avatar,")")}})}),(0,Fl.jsx)("div",{children:(0,Fl.jsx)(Bp,{value:d,rows:14,variant:"outlined",onChange:function(e){e.currentTarget.value.length!==uE.message&&f(e.target.value)},placeholder:c("SOCIETY_CONTACTS.FORM_MESSAGE")})}),(0,Fl.jsxs)("div",{className:"mt-4 grid gap-3 grid-cols-3",children:[(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){s({number:u.number,message:d,anonymous:h,position:!1},t)},children:[(0,Fl.jsx)(Pd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm text-center",children:c("SOCIETY_CONTACTS.SEND")})]}),(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(e){m((function(e){return!e}))},children:[h?(0,Fl.jsx)(Bd,{className:"h-6 w-6"}):(0,Fl.jsx)(Ud,{className:"h-6 w-6"}),(0,Fl.jsxs)("p",{className:"text-sm text-center",children:["Rappel ",h?"interdit":"autoris\xe9"]})]}),(0,Fl.jsxs)("div",{className:"flex flex-col justify-center items-center bg-[#1C1C1E] text-[#347DD9] rounded-xl p-3 cursor-pointer",onClick:function(){s({number:u.number,message:d,anonymous:h,position:!0},t)},children:[(0,Fl.jsx)(Fd,{className:"h-6 w-6"}),(0,Fl.jsx)("p",{className:"text-sm text-center",children:c("SOCIETY_CONTACTS.SEND_POSITION")})]})]})]})]})})},pE=function(){var e=Fn(Dl(),1)[0],t=il(dE.filterInput),n=Fn((0,i.useState)(""),2),r=n[0],o=n[1],a=Jp(r,500);return(0,i.useEffect)((function(){t(a)}),[a,t]),(0,Fl.jsx)("div",{children:(0,Fl.jsx)(Xp,{onChange:function(e){return o(e.target.value)},placeholder:e("SOCIETY_CONTACTS.PLACEHOLDER_SEARCH_CONTACTS"),value:r})})},hE=function(){var e=tl(dE.filteredContacts),t=ue();return(0,Fl.jsxs)("div",{className:"mt-5",children:[(0,Fl.jsx)(pE,{}),(0,Fl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(e).sort().map((function(n){return(0,Fl.jsxs)("div",{className:"relative",children:[(0,Fl.jsx)("div",{className:"sticky top-0 pt-4 bg-black px-6 py-1 text-sm font-medium text-gray-400",children:(0,Fl.jsx)("h3",{children:n})}),(0,Fl.jsx)("ul",{className:"relative divide-y divide-gray-700",children:e[n].map((function(e){return(0,Fl.jsx)("li",{className:"bg-black w-full cursor-pointer",onClick:function(){return n=e.id,void t.push("/society-contacts/".concat(n));var n},children:(0,Fl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:[(0,Fl.jsx)("div",{className:"flex-shrink-0",children:(0,Fl.jsx)("img",{className:"h-10 w-10 bg-gray-700 rounded-full",src:e.avatar,alt:""})}),(0,Fl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,Fl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:e.display})]})]})},e.id)}))})]},n)}))})]})},mE=function(){var e=zE("SOCIETY_CONTACTS");return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[70%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[70%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e}),(0,Fl.jsx)(_d,{children:(0,Fl.jsxs)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:[(0,Fl.jsx)(ee,{path:"/society-contacts/",exact:!0,component:hE}),(0,Fl.jsx)(ee,{path:"/society-contacts/:id",exact:!0,component:fE})]})})]})})},vE=function(e){var t=e.children,n=e.id,r=e.emitOnOpen;return(0,i.useEffect)((function(){r&&pl("npwd:app:".concat(n),void 0,{})}),[n,r]),t},gE=(0,i.memo)(vE,(function(){return!0})),yE=["id","emitOnOpen","component"],bE=function(e){var t=e.id,n=e.emitOnOpen,r=e.component,i=Bn(e,yE);return(0,Fl.jsx)(ee,(0,kn.Z)((0,kn.Z)({},i),{},{render:function(){return(0,Fl.jsx)(gE,{id:t,emitOnOpen:n,children:(0,Fl.jsx)(r,{})})}}))},xE="common.white",_E="common.white",wE="common.white",EE="common.white",SE={transactions:Qc({key:"transactionList",default:[]}),bankModal:Qc({key:"modalVisibility",default:!1}),bankCredentials:Qc({key:"bankCredentails",default:null}),notification:Qc({key:"bankNotification",default:null})},TE=function(){return tl(SE.bankCredentials)},ME=function(e){return(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsx)("div",{className:"relative mx-10 bg-[#604b9b] flex flex-col justify-between h-48 rounded-2xl"}),(0,Fl.jsxs)("div",{className:"relative -top-48 m-5 bg-[#4e4b49] flex flex-col justify-between h-48 rounded-2xl",children:[(0,Fl.jsx)("div",{className:"flex justify-end font-bold text-white pr-5 pt-3",children:"BANK"}),(0,Fl.jsx)("div",{className:"m-3",children:(0,Fl.jsxs)("svg",{width:"42",height:"34",viewBox:"0 0 42 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fl.jsx)("mask",{id:"mask0_518_21",maskUnits:"userSpaceOnUse",x:"1",y:"0",width:"40",height:"33",children:(0,Fl.jsx)("rect",{x:"1",y:"0.707764",width:"40",height:"32",rx:"5",fill:"#F0F0F0"})}),(0,Fl.jsxs)("g",{mask:"url(#mask0_518_21)",children:[(0,Fl.jsx)("rect",{x:"1",y:"0.707764",width:"40",height:"32",rx:"5",fill:"#F0F0F0"}),(0,Fl.jsx)("path",{d:"M26 11.7078V11.2078H25.5V11.7078H26ZM50 11.7078H50.5V11.2078H50V11.7078ZM50 21.7078V22.2078H50.5V21.7078H50ZM26 21.7078H25.5V22.2078H26V21.7078ZM-8 11.7078V11.2078H-8.5V11.7078H-8ZM16 11.7078H16.5V11.2078H16V11.7078ZM16 21.7078V22.2078H16.5V21.7078H16ZM-8 21.7078H-8.5V22.2078H-8V21.7078ZM26 12.2078H50V11.2078H26V12.2078ZM49.5 11.7078V21.7078H50.5V11.7078H49.5ZM50 21.2078H26V22.2078H50V21.2078ZM26.5 21.7078V11.7078H25.5V21.7078H26.5ZM-8 12.2078H16V11.2078H-8V12.2078ZM15.5 11.7078V21.7078H16.5V11.7078H15.5ZM16 21.2078H-8V22.2078H16V21.2078ZM-7.5 21.7078V11.7078H-8.5V21.7078H-7.5ZM14 34.7078L19 28.7078L18.2318 28.0676L13.2318 34.0676L14 34.7078ZM23 28.7078L28.5227 34.2304L29.2298 33.5233L23.7071 28.0007L23 28.7078ZM13.2554 -0.525897L18.2673 5.4641L19.0343 4.82239L14.0223 -1.16761L13.2554 -0.525897ZM27.5649 -1.29224L23.0001 5.04512L23.8115 5.62959L28.3764 -0.707765L27.5649 -1.29224ZM23 22.7078V28.7078H24V22.7078H23ZM18 22.7078V28.7078H19V22.7078H18ZM18 4.70776V10.7078H19V4.70776H18ZM23 4.70776V10.7078H24V4.70776H23ZM26 21.7078H24V22.7078H26V21.7078ZM18 21.7078H16V22.7078H18V21.7078ZM26 10.7078H24V11.7078H26V10.7078ZM18 10.7078H16V11.7078H18V10.7078Z",fill:"black",fillOpacity:"0.4"})]})]})}),(0,Fl.jsxs)("div",{className:"flex justify-between text-white font-thin mx-3 pb-3",children:[(0,Fl.jsx)("h2",{children:e.name}),(0,Fl.jsxs)("h3",{children:["$",e.balance]})]})]})]})},AE=function(){var e=TE();return(0,Fl.jsx)(_d,{className:"mt-14 mb-4",children:e?(0,Fl.jsx)("div",{children:(0,Fl.jsx)(ME,{name:e.name,account:"Checking",balance:e.balance})}):(0,Fl.jsx)("div",{className:"h-[600px] w-full flex justify-center items-center text-white",children:"Could not load credentials"})})},CE=function(){var e=Fn(Dl(),1)[0];return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:e("APPS_BANK"),isBigHeader:!0}),(0,Fl.jsx)(_d,{children:(0,Fl.jsx)(ae,{children:(0,Fl.jsx)(ee,{path:"/bank",exact:!0,component:AE})})})]})})},OE="common.white",LE=[{id:1,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, conse ctetur adip iscing elit.",position:'{"x":205.12088012695312,"y":1160.4395751953125,"z":226.99560546875}',isTaken:!1,isDone:!1,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, cons ectetur adipis cing elit.",position:null,isTaken:!0,isDone:!1,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, cons ctetur adipi scing elit.",position:null,isTaken:!0,isDone:!0,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"",message:"Lorem ipsum dolor sit amet, cons ctetur adipi scing elit.",position:'{"x":205.12088012695312,"y":1160.4395751953125,"z":226.99560546875}',isTaken:!0,isDone:!0,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"}],kE={messages:Qc({key:"societyMessages",default:el({key:"defaultSocietyMessages",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(cE.FETCH_SOCIETY_MESSAGES,void 0,fl(LE));case 3:return t=e.sent,e.abrupt("return",t.data.reverse());case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})})},NE=function(){var e=tl(kE.messages),t=Td().initializeCall,n=function(e,t,n){pl(cE.UPDATE_SOCIETY_MESSAGE,{id:e,take:t,done:n})};return(0,Fl.jsx)("ul",{role:"list",className:"mt-5 relative divide-y divide-gray-700",children:e.map((function(e){return(0,Fl.jsxs)(up,{as:"li",className:"bg-black w-full",children:[(0,Fl.jsx)(up.Button,{className:"w-full",children:(0,Fl.jsx)("div",{className:"relative px-6 py-2 flex items-center space-x-3 hover:bg-gray-900",children:(0,Fl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,Fl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,Fl.jsx)("p",{className:"text-left text-sm font-medium text-gray-100",children:e.message}),(0,Fl.jsxs)("p",{className:"flex justify-between text-left text-xs text-gray-400",children:[e.isDone?(0,Fl.jsx)("span",{children:"L'appel est fini !"}):e.isTaken?(0,Fl.jsx)("span",{children:"L'appel est pris !"}):(0,Fl.jsx)("span",{}),(0,Fl.jsx)("span",{children:pf()().to(e.updatedAt)})]})]})})}),(0,Fl.jsx)(Op,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,Fl.jsxs)(up.Items,{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-gray-900 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[""!==e.source_phone&&(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n=e.source_phone,dl({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),void t(n);var n},children:[(0,Fl.jsx)(Gd,{className:"mx-3 h-5 w-5"})," Appeler"]}),e.position&&(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return function(e){var t=JSON.parse(e);pl(xh.SET_WAYPOINT,{x:t.x,y:t.y})}(e.position)},children:[(0,Fl.jsx)(Fd,{className:"mx-3 h-5 w-5"})," Aller a la position"]}),e.isTaken?!e.isDone&&(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n(e.id,!0,!0)},children:[(0,Fl.jsx)(Rd,{className:"mx-3 h-5 w-5"})," Cl\xf4turer l'appel"]}):(0,Fl.jsxs)(Lp,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n(e.id,!0,!1)},children:[(0,Fl.jsx)(Rd,{className:"mx-3 h-5 w-5"})," Prendre l'appel"]})]})})]},e.conversation_id)}))})},RE=function(){var e=zE("SOCIETY_MESSAGES");return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[10%_20%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[10%_20%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{app:e}),(0,Fl.jsx)(_d,{children:(0,Fl.jsx)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:(0,Fl.jsx)(ee,{path:"/society-messages",exact:!0,component:NE})})})]})})},PE=function(){var e=zE("PHOTO"),t=ue(),n=qp(),r=Fn(Dl(),1)[0],i=zm(),o=n.referal?decodeURIComponent(n.referal):"/photo/image",a=function(e){t.push(function(e){var t=e.pathname,n=void 0===t?"":t,r=e.search,i=void 0===r?"":r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=Th()(n+i).query;return"".concat(n,"?").concat(Wp().stringify((0,kn.Z)((0,kn.Z)({},s),{},(0,zn.Z)({},o,a))))}(function(e){var t=Th()(e);return{pathname:t.pathname,search:"?"+(t.search||"")}}(o),"image",e.image))};return(0,Fl.jsx)(id,{children:(0,Fl.jsxs)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all duration-300",enterFrom:"translate-x-0",enterTo:"-translate-x-full",leave:"transition-all duration-300",leaveFrom:"-translate-x-full",leaveTo:"translate-x-0",children:[(0,Fl.jsx)(df,{app:e,isBigHeader:!0}),(0,Fl.jsxs)(_d,{className:"mt-14",children:[0===i.length&&(0,Fl.jsx)("div",{className:"flex flex-col justify-center items-center text-white h-[600px]",children:r("PHOTO.FEEDBACK.NO_PHOTOS")}),(0,Fl.jsx)("div",{className:"grid grid-cols-3 gap-1",children:i.map((function(e){return(0,Fl.jsx)("div",{className:"bg-cover bg-center w-full aspect-square cursor-pointer",style:{backgroundImage:"url(".concat(e.image,")")},onClick:function(){return a(e)}},e.id)}))})]})]})})},IE=function(){var e=ue(),t=qp(),n=Um().deletePhoto,r=Bl().addAlert,o=Fn(Dl(),1)[0],a=t.referal||"/photo",s=(0,i.useMemo)((function(){return{id:parseInt(t.id),image:t.image}}),[t]);return s?(0,Fl.jsxs)("div",{className:"flex flex-col justify-between h-[790px]",children:[(0,Fl.jsx)("div",{}),(0,Fl.jsx)("div",{className:"bg-cover bg-center w-full aspect-square cursor-pointer",style:{backgroundImage:"url(".concat(s.image,")")}}),(0,Fl.jsxs)("div",{className:"grid grid-cols-4 content-start text-white bg-[#1C1C1E] h-16",children:[(0,Fl.jsx)(Lp,{className:"flex flex-col items-center py-3 text-sm",onClick:function(){!function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(s.image),e.push(a)},children:(0,Fl.jsx)(Wd,{className:"h-6 w-6"})}),(0,Fl.jsx)(Lp,{className:"flex flex-col items-center col-start-4 py-3 text-sm text-red-500",onClick:function(){pl(Cm.DELETE_PHOTO,{image:s.image}).then((function(t){if("ok"!==t.status)return r({message:o("CAMERA.FAILED_TO_DELETE"),type:"error"});n(s.image),e.goBack()}))},children:(0,Fl.jsx)(qd,{className:"h-6 w-6"})})]})]}):null},jE=function(){return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[80%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[80%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,Fl.jsxs)(id,{children:[(0,Fl.jsx)(df,{title:" "}),(0,Fl.jsx)(_d,{children:(0,Fl.jsx)(ae,{children:(0,Fl.jsxs)(i.Suspense,{fallback:(0,Fl.jsx)(bd,{}),children:[(0,Fl.jsx)(ee,{path:"/photo",exact:!0,component:PE}),(0,Fl.jsx)(ee,{path:"/photo/image",exact:!0,component:IE})]})})})]})})},DE=[{id:"DIALER",nameLocale:"APPS_DIALER",color:wE,path:"/phone",home:!0,Route:function(){return(0,Fl.jsx)(bE,{id:"DIALER",path:"/phone",component:eh,emitOnOpen:!1})}},{id:"MESSAGES",nameLocale:"APPS_MESSAGES",color:xE,path:"/messages",home:!0,Route:function(){return(0,Fl.jsx)(bE,{id:"MESSAGES",path:"/messages",component:Mm,emitOnOpen:!1})}},{id:"CONTACTS",nameLocale:"APPS_CONTACTS",color:_E,path:"/contacts",home:!0,Route:function(){return(0,Fl.jsx)(bE,{id:"CONTACTS",path:"/contacts",component:nh,emitOnOpen:!1})}},{id:"BANK",nameLocale:"APPS_BANK",color:"common.white",path:"/bank",Route:function(){return(0,Fl.jsx)(bE,{id:"BANK",path:"/bank",component:CE,emitOnOpen:!1})}},{id:"NOTES",nameLocale:"APPS_NOTES",color:"common.white",path:"/notes",Route:function(){return(0,Fl.jsx)(bE,{id:"NOTES",path:"/notes",component:Dm,emitOnOpen:!0})}},{id:"SOCIETY_CONTACTS",nameLocale:"APPS_SOCIETY_CONTACTS",color:EE,path:"/society-contacts",Route:function(){return(0,Fl.jsx)(bE,{id:"SOCIETY_CONTACTS",path:"/society-contacts",component:mE,emitOnOpen:!1})}},{id:"PHOTO",nameLocale:"APPS_PHOTO",color:"common.white",path:"/photo",Route:function(){return(0,Fl.jsx)(bE,{id:"PHOTO",path:"/photo",component:jE,emitOnOpen:!0})}},{id:"SETTINGS",nameLocale:"APPS_SETTINGS",color:"grey[50]",path:"/settings",Route:function(){return(0,Fl.jsx)(bE,{id:"SETTINGS",path:"/settings",component:Lh,emitOnOpen:!1})}},{id:"SOCIETY_MESSAGES",nameLocale:"APPS_SOCIETY_MESSAGES",color:OE,path:"/society-messages",Route:function(){return(0,Fl.jsx)(bE,{id:"SOCIETY_MESSAGES",path:"/society-messages",component:RE,emitOnOpen:!1})}},{id:"CAMERA",nameLocale:"APPS_CAMERA",color:"common.white",path:"/camera",home:!0,Route:function(){return(0,Fl.jsx)(bE,{id:"CAMERA",path:"/camera",component:lE,emitOnOpen:!0})}}];var FE=function(){var e=cf().icons,t=(0,i.useMemo)((function(){return DE.map((function(t){var r=i.lazy((function(){return n(7452)("./".concat(t.id)).catch((function(){return"Was not able to find a dynamic import for icon from this icon set"}))})),o=i.lazy((function(){return n(9061)("./".concat(t.id)).catch((function(){return"Was not able to find a dynamic import for icon from this icon set"}))})),a=lf(r),s=lf(o,{className:"h-16 w-16 rounded-[1rem]"});return(0,kn.Z)((0,kn.Z)({},t),{},{notification:e.find((function(e){return e.key===t.id})),NotificationIcon:a,notificationIcon:(0,Fl.jsx)(a,{}),icon:(0,Fl.jsx)(s,{})})}))}),[e]),r=(0,i.useCallback)((function(e){return t.find((function(t){return t.id===e}))||null}),[t]);return{apps:t,getApp:r}},zE=function(e){return(0,FE().getApp)(e)},UE=function(e){e.id;var t=e.nameLocale,n=(e.Icon,e.color,e.icon),r=(e.notification,Fn(Dl(),1)[0]);return(0,Fl.jsxs)(Lp,{className:"flex flex-col justify-self-center w-full",children:[(0,Fl.jsx)("div",{className:"self-center",children:n}),(0,Fl.jsx)("p",{className:"flex-nowrap self-center text-white text-sm truncate text-ellipsis w-20",children:r(t)})]})},BE=function(e){var t=e.items,n=e.Component,r=void 0===n?UE:n;return(0,Fl.jsx)("div",{className:"grid grid-cols-4 gap-4 mx-4 justify-items-center",children:t&&t.length&&t.map((function(e){return(0,Fl.jsx)(we,{to:e.path,children:(0,Fl.jsx)(r,(0,kn.Z)({},e))},e.id)}))})},VE=function(){var e=FE().apps,t=null===tl(Ed.societyNumber)?e.filter((function(e){return!0!==e.home&&"SOCIETY_MESSAGES"!==e.id})):e.filter((function(e){return!0!==e.home})),n=e.filter((function(e){return!0===e.home}));return(0,Fl.jsx)(id,{children:(0,Fl.jsxs)(Op,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col justify-between",enter:"transition-transform duration-700",enterFrom:"scale-[3.0]",enterTo:"scale-100",leave:"transition-transform duration-700",leaveFrom:"scale-100",leaveTo:"scale-[3.0]",children:[(0,Fl.jsx)("div",{className:"mt-4 px-1",children:(0,Fl.jsx)(BE,{items:t})}),(0,Fl.jsx)("div",{className:"bg-black bg-opacity-25 backdrop-blur rounded-[20px] mb-10 py-2 mx-2",children:(0,Fl.jsx)(BE,{items:n})})]})})},GE=function(){return tl($l.phoneTime)},HE=function(e){return(0,Fl.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fl.jsx)("rect",{x:"1.5",y:"1.5",width:"23",height:"11",rx:"1.5",stroke:"white"}),(0,Fl.jsx)("rect",{x:"3",y:"3",width:"12",height:"8",rx:"1",fill:"white"}),(0,Fl.jsx)("path",{d:"M26 5V5C26.5523 5 27 5.44772 27 6V8C27 8.55228 26.5523 9 26 9V9V5Z",fill:"white"})]}))},WE=function(e){return(0,Fl.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fl.jsx)("rect",{x:"1",y:"9",width:"3",height:"4",rx:"0.5",fill:"white"}),(0,Fl.jsx)("rect",{x:"6",y:"7",width:"3",height:"6",rx:"0.5",fill:"white"}),(0,Fl.jsx)("rect",{x:"11",y:"4",width:"3",height:"9",rx:"0.5",fill:"white",fillOpacity:"0.5"}),(0,Fl.jsx)("rect",{x:"16",y:"1",width:"3",height:"12",rx:"0.5",fill:"white",fillOpacity:"0.5"})]}))},qE=function(){var e=cf(),t=e.icons,n=e.notifications,r=e.setBarUncollapsed,o=de("/").isExact,a=GE();return(0,i.useEffect)((function(){0===n.length&&r(!1)}),[n,r]),(0,Fl.jsx)(Fl.Fragment,{children:(0,Fl.jsxs)("div",{className:"".concat(!o&&"bg-black"," grid grid-cols-3 px-5 py-3 text-white text-sm w-full z-50"),children:[(0,Fl.jsxs)("div",{className:"text-center",children:[a,t.map((function(e){return(0,Fl.jsx)("div",{children:e.icon})}))]}),(0,Fl.jsx)("div",{children:"\xa0"}),(0,Fl.jsxs)("div",{className:"flex justify-end",children:[(0,Fl.jsx)("span",{children:"ZT&T"}),(0,Fl.jsx)(WE,{className:"h-5 w-5 mx-2"}),(0,Fl.jsx)(HE,{className:"h-5 w-5"})]})]})})},ZE=function(){var e=ue();return(0,Fl.jsx)(Op,{appear:!0,show:!0,className:"absolute bottom-0 inset-x-px flex justify-center items-center h-10 z-50",enter:"transition-opacity duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,Fl.jsx)("div",{className:"bg-gray-200 bg-opacity-70 rounded-full cursor-pointer h-[0.53rem] w-2/5",onClick:function(){return e.push("/")}})})},YE=function(e){},$E=function(e,t,n){var r=(0,i.useRef)();(0,i.useEffect)((function(){r.current=n}),[n]),(0,i.useEffect)((function(){var n=function(n){var i=n.data,o=i.method,a=i.app,s=i.data;r.current&&r.current.call&&o===t&&a===e&&(dl({action:o,data:s}),r.current(s))};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}),[t,e])};YE([{app:"SIMCARD",method:Rp.SET_NUMBER,data:"111-1134"},{app:"SOCIETY_SIMCARD",method:Rp.SET_SOCIETY_NUMBER,data:"555-LSPD"},{app:"AVATAR",method:ll.SET_AVATAR,data:"https://beta.iodine.gg/teUcY.jpeg"}]);var XE,JE,KE,QE=n(4779);!function(e){e[e.title=255]="title",e[e.description=255]="description",e[e.url=255]="url"}(XE||(XE={})),function(e){e.DUPLICATE="duplicate"}(JE||(JE={})),function(e){e.ADD_LISTING="npwd:addListing",e.FETCH_LISTING="npwd:fetchAllListings",e.DELETE_LISTING="npwd:marketplaceDeleteListing",e.DELETE_LISTINGS_ON_DROP="npwd:marketplaceDeleteListingsOnDrop",e.REPORT_LISTING="npwd:reportListing",e.BROADCAST_ADD="npwd:sendMarketplaceBroadcastAdd",e.BROADCAST_DELETE="npwd:sendMarketplaceBroadcastDelete"}(KE||(KE={}));var eS,tS=Qc({key:"listings",default:el({key:"defaultListings",get:function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(KE.FETCH_LISTING);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.next=11;break;case 11:return console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),nS=(Qc({key:"form",default:{title:"",description:"",url:""}}),function(){var e=il(tS),t=al((function(t){var n=t.snapshot;return function(t){var r=n.getLoadable(tS),i=r.state,o=r.contents;"hasValue"===i&&o.length&&e((function(e){return In(e).filter((function(e){return!t.includes(e.id)}))}))}}),[]);return{deleteListing:t,addListing:al((function(t){var n=t.snapshot;return function(t){"hasValue"===n.getLoadable(tS).state&&e((function(e){return[t].concat(In(e))}))}}),[e])}});!function(e){e.GET_CREDENTIALS="npwd:getBankCredentials",e.SEND_CREDENTIALS="npwd:sendBankCredentials",e.FETCH_TRANSACTIONS="npwd:fetchAllTransactions",e.TRANSACTION_NOTIFICATION="npwd:bankTransactionNotification",e.TRANSACTION_ALERT="npwd:bankTransactionAlert",e.SEND_ALERT="npwd:sendBankAlert",e.SEND_NOTIFICATION="npwd:sendBankNotification"}(eS||(eS={}));var rS="messages:broadcast",iS=function(){var e=Fn(rl($l.visibility),2),t=e[0],n=e[1],r=cf().currentAlert,o=Fn(Zl(),1)[0].zoom,a=Fn((0,i.useState)(!1),2),s=a[0],u=a[1],c=(0,i.useRef)();return(0,i.useEffect)((function(){t&&u(!1)}),[t]),(0,i.useEffect)((function(){if(!t&&r){if(u(!0),c.current&&(clearTimeout(c.current),c.current=void 0),null!==r&&void 0!==r&&r.keepWhenPhoneClosed)return;c.current=setTimeout((function(){u(!1)}),3e3)}}),[r,t,n]),{bottom:(0,i.useMemo)((function(){return t?"0px":"".concat(-728*o.value,"px")}),[t,o]),visibility:s||t}},oS=function(){var e=Dh(),t=e.updateLocalMessages,n=e.updateLocalConversations,r=function(){var e=Fn(Dl(),1)[0],t=ue(),n=cf(),r=n.removeId,i=n.addNotification,o=n.addNotificationAlert,a=zE("MESSAGES"),s=a.icon,u=a.notificationIcon,c=Bh(),l=c.getMessageConversationById,d=c.goToConversation,f=Fh().addConversation,p=tl(Ih.activeMessageConversation);return t.listen((function(e){null!==p&&void 0!==p&&p.conversation_id&&Q(e.pathname,{path:"/messages/conversations/".concat(p.conversation_id),exact:!0})&&r("".concat(rS,":").concat(p.conversation_id))})),{setNotification:function(t){var n,a=t.conversationName,c=t.conversationId,p=t.message,h=null;(h=l(c))||(f(a),h=l(c));var m="".concat(rS,":").concat(c),v={app:"MESSAGES",id:m,sound:!0,title:(null===(n=h)||void 0===n?void 0:n.display)||h.phoneNumber||a,onClick:function(){return d(h)},content:p,icon:s,notificationIcon:u};o(v,(function(t){var n;r(m),h.unread>1?i((0,kn.Z)((0,kn.Z)({},t),{},{title:h.phoneNumber||(null===(n=h)||void 0===n?void 0:n.display),content:e("MESSAGES.MESSAGES.UNREAD_MESSAGES",{count:h.unread})})):i(t)}))}}}(),o=r.setNotification,a=ce().pathname,s=iS().visibility,u=of(),c=u.getDisplayByNumber,l=u.getPictureByNumber,d=(0,i.useCallback)((function(e){t(e)}),[t]),f=(0,i.useCallback)((function(e){var t=c(e.phoneNumber),r=l(e.phoneNumber);n({phoneNumber:e.phoneNumber,conversation_id:e.conversation_id,avatar:r,unread:0,display:t})}),[n,c,l]);(0,QE.useNuiEvent)("MESSAGES",xh.CREATE_MESSAGE_BROADCAST,(function(e){var t=e.conversationName,n=e.conversationId,r=e.message;s&&a.includes("/messages/conversations")||o({conversationName:t,conversationId:n,message:r})})),(0,QE.useNuiEvent)("MESSAGES",xh.SEND_MESSAGE_SUCCESS,d),(0,QE.useNuiEvent)("MESSAGES",xh.CREATE_MESSAGE_CONVERSATION_SUCCESS,f)},aS=function(e){var t=e.children;return(0,Fl.jsxs)("div",{children:[(0,Fl.jsx)("div",{children:t}),(0,Fl.jsx)("div",{children:(0,Fl.jsx)(ef,{isSmall:!0})})]})},sS="call:current",uS=function(){var e=Fn(Dl(),1)[0],t=ue(),n=cf(),r=n.addNotificationAlert,o=n.removeId,a=n.addNotification,s=function(){var e=Fn(Zl(),1)[0],t=Ql();if(!t)throw new Error("useRingtoneSound must be wrapped in SoundProvider");var n=(0,i.useMemo)((function(){return td("ringtone",e)}),[e]);return(0,i.useEffect)((function(){t.isMounted(n.sound)?t.volume(n.sound,n.volume):t.mount(n.sound,n.volume,!0)}),[t,n.sound,n.volume]),{play:function(){return t.play(n.sound,n.volume,!0)},stop:function(){return t.stop(n.sound)},playing:function(){return t.playing(n.sound)}}}(),u=s.play,c=s.stop,l=zE("DIALER"),d=l.icon,f=l.notificationIcon,p={app:"CALL",id:sS,cantClose:!0,icon:d,onClick:function(){return t.push("/call")},notificationIcon:f};return{setNotification:function(t){c(),t?(null!==t&&void 0!==t&&t.is_accepted&&(o(sS),a((0,kn.Z)((0,kn.Z)({},p),{},{content:(0,Fl.jsx)(aS,{children:e("DIALER.MESSAGES.CURRENT_CALL_WITH",{transmitter:t.transmitter})}),title:e("DIALER.MESSAGES.CURRENT_CALL_TITLE")}))),null!==t&&void 0!==t&&t.isTransmitter||null!==t&&void 0!==t&&t.is_accepted||(u(),o(sS),r((0,kn.Z)((0,kn.Z)({},p),{},{title:e("DIALER.MESSAGES.INCOMING_CALL_TITLE",{transmitter:t.transmitter}),keepWhenPhoneClosed:!1,content:(0,Fl.jsx)(aS,{children:e("DIALER.MESSAGES.TRANSMITTER_IS_CALLING",{transmitter:t.transmitter})})}),(function(e){return a(e)})))):o(sS)},clearNotification:function(){o(sS),c()}}},cS=(0,i.forwardRef)((function(e,t){return(0,Fl.jsxs)("div",(0,kn.Z)((0,kn.Z)({ref:t,className:"flex items-center mx-10 px-4 py-2 bg-black bg-opacity-70 text-gray-300 backdrop-blur shadow-md rounded-lg "},e),{},{children:[(0,Fl.jsx)("div",{className:"flex-none h-10 w-10 ".concat("success"===e.severity?"bg-green-500":"bg-red-500"," rounded-lg mr-3")}),(0,Fl.jsx)("div",{className:"flex-grow",children:e.children})]}))})),lS=cS,dS=function(){var e=cf().currentAlert;return(0,Fl.jsx)(Op,{appear:!0,show:!!e,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,Fl.jsx)("div",{children:(0,Fl.jsx)(lS,{onClick:function(t){return null===e||void 0===e?void 0:e.onClickAlert(t)},icon:(null===e||void 0===e?void 0:e.icon)||void 0})})})},fS=function(){var e=Fn((0,i.useState)(!1),2),t=e[0],n=e[1],r=Fn((0,i.useState)(""),2),o=r[0],a=r[1],s=Fn((0,i.useState)("info"),2),u=s[0],c=s[1];(0,QE.useNuiEvent)("PHONE","startRestart",(function(){a("Restarting UI"),n(!0),c("error"),setTimeout((function(){return window.location.reload()}),3e3)}));return(0,Fl.jsx)(Op,{appear:!0,show:t,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,Fl.jsx)(cS,{severity:u,onClose:function(){n(!1)},children:(0,Fl.jsxs)("p",{children:["Phone -",o]})})})},pS={ArrowRight:Qc({key:"ArrowRight",default:null}),ArrowLeft:Qc({key:"ArrowLeft",default:null}),ArrowUp:Qc({key:"ArrowUp",default:null}),ArrowDown:Qc({key:"ArrowDown",default:null}),Backspace:Qc({key:"Backspace",default:null}),Enter:Qc({key:"Enter",default:null}),Escape:Qc({key:"Escape",default:null})},hS=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Backspace","Enter","Escape"],mS=function(){var e=ue(),t=function(){var e=tl($l.visibility),t=tl($l.resourceConfig),n=cf().removeAlerts;return{ResourceConfig:t,closePhone:function(){n(),pl(Rp.CLOSE_PHONE,void 0,{}).catch()},openPhone:function(){pl(Rp.OPEN_PHONE,void 0,{}).catch()},isPhoneOpen:e}}().closePhone,n=tl(pS.ArrowRight),r=tl(pS.ArrowLeft),o=tl(pS.ArrowUp),a=tl(pS.ArrowDown),s=tl(pS.Backspace),u=tl(pS.Enter),c=tl(pS.Escape),l=(0,i.useRef)(new Map),d=il(pS.Escape),f=il(pS.Backspace);(0,i.useEffect)((function(){l.current.set("ArrowRight",n),l.current.set("ArrowLeft",r),l.current.set("ArrowUp",o),l.current.set("ArrowDown",a),l.current.set("Backspace",s),l.current.set("Enter",u),l.current.set("Escape",c)}),[a,r,n,o,s,u,c]),(0,i.useEffect)((function(){function e(e){var t=e.key,n=l.current.get(t);if(function(e){return-1!==hS.indexOf(e)}(t)&&n&&n.call)return n(e)}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[]);var p=(0,i.useCallback)((function(t){["input","textarea"].includes(t.target.nodeName.toLowerCase())||e.goBack()}),[e]);(0,i.useEffect)((function(){l.current.set("Escape",(function(){return t()})),l.current.set("Backspace",p)}),[d,f,e,p,t])},vS=function(e){var t,n=er(Ln.wallpapers);try{for(n.s();!(t=n.n()).done;){if(t.value.value===e)return!0}}catch(r){n.e(r)}finally{n.f()}},gS=function(e){var t=e.children,n=Fn(Zl(),1)[0],r=de("/").isExact,i=de("/camera"),o=iS(),a=o.bottom,s=o.visibility;return(0,Fl.jsx)(Op,{show:s,enter:"transition-any ease-in-out duration-500",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transition-any ease-in-out duration-500",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,Fl.jsx)("div",{className:"PhoneWrapper",onClick:function(){i&&i.isExact&&pl(Cm.TOGGLE_CONTROL_CAMERA,{})},children:(0,Fl.jsxs)("div",{className:"Phone",style:{position:"fixed",transformOrigin:"right bottom",zoom:"".concat(n.zoom.value,"%"),bottom:a},children:[(0,Fl.jsx)("div",{className:"PhoneFrame",style:{backgroundImage:"url(media/frames/default.png)"}}),(0,Fl.jsx)("div",{id:"phone",className:r?"PhoneScreen":"PhoneScreen PhoneScreenNoHome",style:{backgroundImage:vS(n.wallpaper.value)?"url(media/backgrounds/".concat(n.wallpaper.value,")"):"url(".concat(n.wallpaper.value,")")},children:t})]})})})},yS=JSON.parse('{"PhoneAsItem":{"enabled":true,"exportResource":"soz-inventory","exportFunction":"hasPhone"},"general":{"toggleKey":"L","toggleCommand":"phone"},"database":{"useIdentifierPrefix":false,"playerTable":"players","identifierColumn":"citizenid","identifierType":"license","profileQueries":true,"phoneNumberColumn":"phone_number"},"images":{"url":"https://images.gorp.link/","type":"imgur","imageEncoding":"jpg","contentType":"multipart/form-data","authorizationPrefix":"Client-ID","useAuthorization":true,"returnedDataIndexes":["data","link"]},"debug":{"level":"info","enabled":true,"sentryEnabled":true}}'),bS=function(e){e.isOpen;var t=e.errorMsg,n=Fn(Dl(),1)[0];return(0,Fl.jsxs)("div",{children:[(0,Fl.jsx)("div",{children:n("MISC.TOP_LEVEL_ERR_TITLE")}),(0,Fl.jsxs)("div",{children:[(0,Fl.jsxs)("div",{children:[n("MISC.TOP_LEVEL_ERR_MSG"),(0,Fl.jsx)("br",{}),(0,Fl.jsx)("br",{}),(0,Fl.jsx)("code",{style:{color:"red"},children:t})]}),(0,Fl.jsx)("div",{children:(0,Fl.jsx)("div",{color:"primary",onClick:function(){return window.location.reload()},children:n("MISC.TOP_LEVEL_ERR_ACTION")})})]})]})},xS=function(e){Xn(n,e);var t=Qn(n);function n(){var e;rr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1,errorMsg:""},e}return nr(n,[{key:"componentDidCatch",value:function(e,t){St(e,{contexts:{react:{componentStack:t.componentStack}}})}},{key:"render",value:function(){return this.state.hasError?(0,Fl.jsx)(bS,{isOpen:this.state.hasError,errorMsg:this.state.errorMsg}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMsg:e.message}}}]),n}(i.Component),_S=function(){var e=il($l.resourceConfig);(0,i.useEffect)((function(){var t=function(){var e;return window.GetParentResourceName?null===(e=window)||void 0===e?void 0:e.GetParentResourceName():"npwd"}();fetch("https://cfx-nui-".concat(t,"/config.json")).then(function(){var t=Hn(or().mark((function t(n){var r;return or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,e(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e])},wS=function(){var e=Bl(),t=e.alert,n=e.isOpen,r=e.handleClose;return(0,i.useEffect)((function(){var e=setInterval((function(){r()}),3e3);return function(){return clearInterval(e)}})),(0,Fl.jsx)(Op,{appear:!0,show:n,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,Fl.jsx)(lS,{severity:(null===t||void 0===t?void 0:t.type)||"info",onClose:r,children:(null===t||void 0===t?void 0:t.message)||""})})},ES="society-messages:broadcast",SS=function(){var e=nl(kE.messages).state,t=il(kE.messages);return{updateLocalMessages:(0,i.useCallback)((function(n){"hasValue"===e&&t((function(e){return[{id:n.id,conversation_id:n.conversation_id,source_phone:n.source_phone,message:n.message,position:n.position,isTaken:n.isTaken,isDone:n.isDone,createdAt:n.createdAt,updatedAt:n.updatedAt}].concat(In(e))}))}),[e,t])}},TS=function(){var e=function(){var e=Fn(Dl(),1)[0],t=ue(),n=cf(),r=n.removeId,i=n.addNotification,o=n.addNotificationAlert,a=zE("SOCIETY_MESSAGES"),s=a.icon,u=a.notificationIcon;return t.listen((function(e){Q(e.pathname,{path:"/society-messages",exact:!0})&&r("".concat(ES))})),{setNotification:function(n){var a=n.message,c="".concat(ES),l={app:"SOCIETY_MESSAGE",id:c,sound:!0,title:e("SOCIETY_MESSAGES.NOTIFICATION.TITLE"),onClick:function(){return t.push("/society-messages")},content:a,icon:s,notificationIcon:u};o(l,(function(e){r(c),i(e)}))}}}(),t=e.setNotification,n=SS().updateLocalMessages,r=ce().pathname,i=iS().visibility,o=Fn(rl(kE.messages),2),a=(o[0],o[1]),s=function(){var e=Hn(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pl(cE.FETCH_SOCIETY_MESSAGES,void 0,fl(LE));case 3:t=e.sent,a(t.data.reverse()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),a([]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,QE.useNuiEvent)("SOCIETY_MESSAGES",cE.CREATE_MESSAGE_BROADCAST,(function(e){var o=e.id,a=e.conversation_id,s=e.source_phone,u=e.message,c=e.position,l=e.isTaken,d=e.isDone,f=e.createdAt,p=e.updatedAt;i&&r.includes("/society-messages")||(t({message:u}),n({id:o,conversation_id:a,source_phone:s,message:u,position:c,isTaken:l,isDone:d,createdAt:f,updatedAt:p}))})),(0,QE.useNuiEvent)("SOCIETY_MESSAGES",cE.RESET_SOCIETY_MESSAGES,s)};var MS=function(){var e=Dl(),t=e.t,n=e.i18n,r=FE().apps,o=Fn(Zl(),1)[0],a=Bl().addAlert;(0,i.useEffect)((function(){n.changeLanguage(o.language.value).catch((function(e){return console.error(e)}))}),[n,o.language]),(0,i.useEffect)((function(){(function(){var e=localStorage.getItem(Vl);if(e)try{var t=JSON.parse(e);return Gl.validate(t,Hl).valid}catch(n){console.error("Unable to parse settings JSON",n)}return!0})()||a({message:t("SETTINGS.MESSAGES.INVALID_SETTINGS"),type:"error"})}),[]),_S(),mS(),function(){var e=FE().getApp,t=Bl().addAlert,n=ue(),r=il($l.visibility),o=il($l.resourceConfig),a=il($l.phoneTime),s=(0,i.useCallback)((function(t){var r=e(t.toUpperCase());if(!r)return console.error('App "'.concat(t,'" is an invalid app id to open'));n.push(r.path)}),[e,n]);$E("PHONE",Rp.ADD_SNACKBAR_ALERT,t),$E("PHONE",Rp.SET_VISIBILITY,r),$E("PHONE",Rp.SET_CONFIG,o),$E("PHONE",Rp.SET_TIME,a),$E("PHONE",Rp.OPEN_APP,s)}(),function(){var e=il(Ed.number),t=il(Ed.societyNumber),n=il(Ed.avatar);$E("SIMCARD",Rp.SET_NUMBER,e),$E("SOCIETY_SIMCARD",Rp.SET_SOCIETY_NUMBER,t),$E("AVATAR",ll.SET_AVATAR,n),Sd()}(),function(){var e=nS(),t=e.addListing,n=e.deleteListing,r=(0,i.useCallback)((function(e){t(e.listing)}),[t]),o=(0,i.useCallback)((function(e){n(e)}),[n]);(0,QE.useNuiEvent)("MARKETPLACE",KE.BROADCAST_ADD,r),(0,QE.useNuiEvent)("MARKETPLACE",KE.BROADCAST_DELETE,o)}(),function(){var e=il(SE.bankCredentials),t=il(SE.notification),n=Bl().addAlert,r=Fn(Dl(),1)[0];(0,QE.useNuiEvent)("BANK",eS.SEND_CREDENTIALS,e),(0,QE.useNuiEvent)("BANK",eS.SEND_ALERT,(function(e){var t=e.message,i=e.type;n({message:r("APPS_".concat(t)),type:i})})),(0,QE.useNuiEvent)("BANK",eS.SEND_NOTIFICATION,t)}(),oS(),function(){var e=of().getContactByNumber,t=ue(),n=FE().getApp,r=(0,i.useCallback)((function(r){var i,o=e(r.number),a=n("CONTACTS").path,s=Wp().stringify({addNumber:r.number.slice(0,Kd.number),name:null===(i=r.name)||void 0===i?void 0:i.slice(0,Kd.display)});if(!o)return t.push({pathname:"".concat(a,"/-1"),search:"?".concat(s)});t.push({pathname:"".concat(a,"/").concat(o.id),search:"?".concat(s)})}),[n,e,t]);$E("CONTACTS",Qd.ADD_CONTACT_EXPORT,r)}(),function(){var e=FE().getApp,t=ue(),n=(0,i.useCallback)((function(n){var r=e("NOTES").path,i=Wp().stringify(n);t.push({pathname:r,search:"?".concat(i)})}),[t,e]);$E("NOTES",Am.ADD_NOTE_EXPORT,n)}(),TS(),function(){var e=Od().modal,t=ue(),n=ce().pathname,r=Td().setCall,o=uS(),a=o.setNotification,s=o.clearNotification,u=il(wd.callModal),c=Fn((0,i.useState)(!1),2),l=c[0],d=c[1];(0,i.useEffect)((function(){d(!!e)}),[e]),(0,i.useEffect)((function(){e||"/call"!==n||t.replace("/"),e&&!l&&"/call"!==n&&t.push("/call")}),[t,e,n,l]),(0,QE.useNuiEvent)("CALL",yd.SET_CALLER,(function(e){if(r(e),!e)return s();a(e)})),(0,QE.useNuiEvent)("CALL",yd.SET_CALL_MODAL,u)}(),function(){var e=Bl().addAlert,t=Fn(Dl(),1)[0];$E("DIALER",yd.SEND_ALERT,(function(n){var r=n.message,i=n.type;e({message:t("APPS_".concat(r)),type:i})}))}();var s=Od().modal,u=Td().call,c=(null===u||void 0===u?void 0:u.is_accepted)||!s;return(0,Fl.jsx)("div",{children:(0,Fl.jsxs)(xS,{children:[(0,Fl.jsx)(fS,{}),(0,Fl.jsxs)(gS,{children:[(0,Fl.jsx)(qE,{}),(0,Fl.jsxs)("div",{className:"PhoneAppContainer select-none",children:[(0,Fl.jsxs)(Fl.Fragment,{children:[(0,Fl.jsx)(ee,{exact:!0,path:"/",component:VE}),s&&(0,Fl.jsx)(ee,{exact:!0,path:"/call",component:uf}),r.map((function(e){return(0,Fl.jsx)(e.Route,{},e.id)}))]}),(0,Fl.jsx)(dS,{}),(0,Fl.jsx)(wS,{})]}),c&&(0,Fl.jsx)(ZE,{})]})]})})};YE([{app:"PHONE",method:Rp.SET_VISIBILITY,data:!0},{app:"PHONE",method:Rp.SET_PHONE_READY,data:!0},{app:"PHONE",method:Rp.SET_TIME,data:pf()().format("hh:mm")},{app:"PHONE",method:Rp.SET_CONFIG,data:yS}]);var AS=function(){return(0,Fl.jsx)(Kl,{children:(0,Fl.jsx)(rd,{children:(0,Fl.jsx)(Ul,{children:(0,Fl.jsx)(MS,{})})})})},CS=n(5790),OS=n.n(CS);function LS(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var kS=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function NS(e){var t=kS.exec(e);return t?t.slice(1):[]}function RS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=!1,i=e.length-1;i>=-1&&!r;i--){var o=i>=0?e[i]:"/";o&&(n=o+"/"+n,r="/"===o.charAt(0))}return(r?"/":"")+(n=LS(n.split("/").filter((function(e){return!!e})),!r).join("/"))||"."}function PS(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}var IS=function(){function e(t){var n=this;void 0===t&&(t={}),this.name=e.id,this._prefix="app:///",this._iteratee=function(e){if(!e.filename)return e;var t=/^[A-Z]:\\/.test(e.filename),r=/^\//.test(e.filename);if(t||r){var i=t?e.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):e.filename,o=n._root?function(e,t){e=RS(e).substr(1),t=RS(t).substr(1);for(var n=PS(e.split("/")),r=PS(t.split("/")),i=Math.min(n.length,r.length),o=i,a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}var s=[];for(a=o;a<n.length;a++)s.push("..");return(s=s.concat(r.slice(o))).join("/")}(n._root,i):function(e,t){var n=NS(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}(i);e.filename=""+n._prefix+o}return e},t.root&&(this._root=t.root),t.prefix&&(this._prefix=t.prefix),t.iteratee&&(this._iteratee=t.iteratee)}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);return r?r.process(t):t}))},e.prototype.process=function(e){var t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=this._processExceptionsEvent(t)),e.stacktrace&&(t=this._processStacktraceEvent(t)),t},e.prototype._processExceptionsEvent=function(e){var t=this;try{return(0,Ce.pi)((0,Ce.pi)({},e),{exception:(0,Ce.pi)((0,Ce.pi)({},e.exception),{values:e.exception.values.map((function(e){return(0,Ce.pi)((0,Ce.pi)({},e),{stacktrace:t._processStacktrace(e.stacktrace)})}))})})}catch(n){return e}},e.prototype._processStacktraceEvent=function(e){try{return(0,Ce.pi)((0,Ce.pi)({},e),{stacktrace:this._processStacktrace(e.stacktrace)})}catch(t){return e}},e.prototype._processStacktrace=function(e){var t=this;return(0,Ce.pi)((0,Ce.pi)({},e),{frames:e&&e.frames&&e.frames.map((function(e){return t._iteratee(e)}))})},e.id="RewriteFrames",e}();var jS=function(e){var t=e.children,n=Fn((0,i.useState)(0),2),r=n[0],o=n[1];return(0,QE.useNuiEvent)("PHONE",Rp.UNLOAD_CHARACTER,(function(){o((function(e){return e+1}))})),(0,Fl.jsx)(Kc,{children:t},r)},DS=function(e){var t=e.children,n=sl();return(0,i.useEffect)((function(){if(Ln.debug.shouldShowAtomDebug){console.debug("The following atoms were modified:");var e,t=er(n.getNodes_UNSTABLE({isModified:!0}));try{for(t.s();!(e=t.n()).done;){var r=e.value;console.debug(r.key,n.getLoadable(r))}}catch(i){t.e(i)}finally{t.f()}}}),[n]),(0,Fl.jsx)(Fl.Fragment,{children:t})};function FS(e){return FS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(e)}function zS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gl(e,t,n[t])}))}return e}function US(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BS(e,t){return!t||"object"!==FS(t)&&"function"!==typeof t?US(e):t}function VS(e){return VS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VS(e)}function GS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}var HS={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},WS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yl(this,e),this.init(t,n)}return xl(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||HS,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,zS({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),qS=new WS,ZS=function(){function e(){yl(this,e),this.observers={}}return xl(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function YS(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function $S(e){return null==e?"":""+e}function XS(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function JS(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var o="string"!==typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function KS(e,t,n){var r=JS(e,t,Object);r.obj[r.k]=n}function QS(e,t){var n=JS(e,t),r=n.obj,i=n.k;if(r)return r[i]}function eT(e,t,n){var r=QS(e,n);return void 0!==r?r:QS(t,n)}function tT(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):tT(e[r],t[r],n):e[r]=t[r]);return e}function nT(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var rT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function iT(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return rT[e]})):e}var oT="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function aT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"===typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s];var c=r.slice(o+a).join(n);return c?aT(u,c,n):void 0}i=i[r[o]]}return i}}var sT=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return yl(this,t),n=BS(this,VS(t).call(this)),oT&&ZS.call(US(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return GS(t,e),xl(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!==typeof n&&(a=a.concat(n)),n&&"string"===typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=QS(this.data,a);return s||!o||"string"!==typeof n?s:aT(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),KS(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=QS(this.data,a)||{};r?tT(s,n,i):s=zS({},s,n),KS(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?zS({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(ZS),uT={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}},cT={},lT=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yl(this,t),n=BS(this,VS(t).call(this)),oT&&ZS.call(US(n)),XS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,US(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=qS.create("translator"),n}return GS(t,e),xl(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,n,r){var i=this;if("object"!==FS(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,u=a.namespaces,c=u[u.length-1],l=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(d){var f=n.nsSeparator||this.options.nsSeparator;return c+f+s}return s}var p=this.resolve(e,n),h=p&&p.res,m=p&&p.usedKey||s,v=p&&p.exactUsedKey||s,g=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,_="string"!==typeof h&&"boolean"!==typeof h&&"number"!==typeof h;if(x&&h&&_&&y.indexOf(g)<0&&("string"!==typeof b||"[object Array]"!==g)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,zS({},n,{ns:u})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var w="[object Array]"===g,E=w?[]:{},S=w?v:m;for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)){var M="".concat(S).concat(o).concat(T);E[T]=this.translate(M,zS({},n,{joinArrays:!1,ns:u})),E[T]===M&&(E[T]=h[T])}h=E}}else if(x&&"string"===typeof b&&"[object Array]"===g)(h=h.join(b))&&(h=this.extendTranslation(h,e,n,r));else{var A=!1,C=!1,O=void 0!==n.count&&"string"!==typeof n.count,L=t.hasDefaultValue(n),k=O?this.pluralResolver.getSuffix(l,n.count):"",N=n["defaultValue".concat(k)]||n.defaultValue;!this.isValidLookup(h)&&L&&(A=!0,h=N),this.isValidLookup(h)||(C=!0,h=s);var R=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,P=R&&C?void 0:h,I=L&&N!==h&&this.options.updateMissing;if(C||A||I){if(this.logger.log(I?"updateKey":"missingKey",l,c,s,I?N:h),o){var j=this.resolve(s,zS({},n,{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var z=0;z<F.length;z++)D.push(F[z]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(n.lng||this.language):D.push(n.lng||this.language);var U=function(e,t,r){i.options.missingKeyHandler?i.options.missingKeyHandler(e,c,t,I?r:P,I,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,c,t,I?r:P,I,n),i.emit("missingKey",e,c,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?D.forEach((function(e){i.pluralResolver.getSuffixes(e).forEach((function(t){U([e],s+t,n["defaultValue".concat(t)]||N)}))})):U(D,s,N))}h=this.extendTranslation(h,e,n,p,r),C&&h===s&&this.options.appendNamespaceToMissingKey&&(h="".concat(c,":").concat(s)),(C||A)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(zS({},n,{interpolation:zS({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=zS({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=uT.handle(f,e,t,this.options&&this.options.postProcessPassResolved?zS({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,f=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!cT["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(cT["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u,l=c,p=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,c,n,e,s);else d&&(o=a.pluralResolver.getSuffix(n,s.count)),d&&f&&p.push(l+o),f&&p.push(l+="".concat(a.options.contextSeparator).concat(s.context)),d&&p.push(l+=o);for(;u=p.pop();)a.isValidLookup(t)||(r=u,t=a.getResource(n,e,u,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(ZS);function dT(e){return e.charAt(0).toUpperCase()+e.slice(1)}var fT=function(){function e(t){yl(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qS.create("languageUtils")}return xl(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dT(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dT(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=dT(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),pT=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],hT={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function mT(){var e={};return pT.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:hT[t.fc]}}))})),e}var vT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yl(this,e),this.languageUtils=t,this.options=n,this.logger=qS.create("pluralResolver"),this.rules=mT()}return xl(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"===typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),gT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yl(this,e),this.logger=qS.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return xl(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:iT,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?nT(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?nT(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?nT(t.nestingPrefix):t.nestingPrefixEscaped||nT("$t("),this.nestingSuffix=t.nestingSuffix?nT(t.nestingSuffix):t.nestingSuffixEscaped||nT(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=eT(t,u,e);return s.alwaysFormat?s.format(i,void 0,n,zS({},r,t,{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(eT(t,u,a),c,n,zS({},r,t,{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=l(i[1].trim())))if("function"===typeof d){var n=d(e,i,r);o="string"===typeof n?n:""}else{if(f){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=$S(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=u.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=zS({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=zS({},t,a))}catch(o){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),o),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=$S(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return i.format(e,t,o.lng,zS({},o,{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();var yT=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yl(this,t),i=BS(this,VS(t).call(this)),oT&&ZS.call(US(i)),i.backend=e,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=qS.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return GS(t,e),xl(t,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(t)<0&&u.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=JS(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,zS({},o,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),t}(ZS);function bT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===FS(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===FS(e[2])||"object"===FS(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function xT(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function _T(){}var wT=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(yl(this,t),e=BS(this,VS(t).call(this)),oT&&ZS.call(US(e)),e.options=xT(n),e.services={},e.logger=qS,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),BS(e,US(e));setTimeout((function(){e.init(n,r)}),0)}return e}return GS(t,e),xl(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"===typeof e?new e:e:null}if("function"===typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=zS({},bT(),this.options,xT(t)),this.format=this.options.interpolation.format,n||(n=_T),!this.options.isClone){this.modules.logger?qS.init(r(this.modules.logger),this.options):qS.init(null,this.options);var i=new fT(this.options);this.store=new sT(this.options.resources,this.options);var o=this.services;o.logger=qS,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new vT(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new gT(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new yT(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new lT(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=YS(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_T,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=YS();return e||(e=this.languages),t||(t=this.options.ns),n||(n=_T),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uT.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=YS();this.emit("languageChanging",e);var i=function(i){e||i||!n.services.languageDetector||(i=[]);var o="string"===typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);o&&(n.language||(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o)),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==FS(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=zS({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var c=r.options.keySeparator||".",l=n?"".concat(n).concat(c).concat(t):t;return r.t(l,o)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=YS();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=YS();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_T,i=zS({},this.options,n,{isClone:!0}),o=new t(i),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=zS({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new lT(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(ZS),ET=new wT,ST={fr:JSON.parse('{"translation":{"MISC":{"TOP_LEVEL_ERR_TITLE":"Erreur fatale","TOP_LEVEL_ERR_ACTION":"Rafra\xeechir","TOP_LEVEL_ERR_MSG":"NPWD a rencontr\xe9 une erreur impossible \xe0 contourner. Vous devez recharger la fen\xeatre NUI. L\'erreur est affich\xe9e en dessous pour pouvoir la rapporter aux d\xe9veloppeurs."},"NOTIFICATIONS":{"NO_UNREAD":"Aucune notification(s)"},"DATE_FORMAT":"MM/JJ/AAAA","DATE_TIME_FORMAT":"MM/JJ/AAAA hh:mm A","CALLS":{"MESSAGES":{"RINGING":"Appel","OUTGOING":"Appel sortant","INCOMING":"Appel entrant"},"FEEDBACK":{"ERROR_MYSELF":"Vous ne pouvez pas vous appeler vous-m\xeame !","ERROR":"Une erreur est survenue lors de cet appel"}},"SETTINGS":{"PHONE_NUMBER":"Num\xe9ro de t\xe9l\xe9phone","CATEGORY":{"APPEARANCE":"Apparence","PHONE":"T\xe9l\xe9phone","PROFILE":"Profil","ACTIONS":"Actions"},"OPTIONS":{"THEME":"Th\xe8me","LANGUAGE":"Langage","FRAME":"Coque","ZOOM":"Zoom","WALLPAPER":"Fond d\'\xe9cran","RESET_SETTINGS":"R\xe9initialiser toutes vos donn\xe9es","STREAMER_MODE":{"TITLE":"Mode NSFW","DESCRIPTION":"Masquer les images par d\xe9faut"},"CUSTOM_WALLPAPER":{"DIALOG_TITLE":"Fond d\'\xe9cran personnalis\xe9","DIALOG_CONTENT":"Choisissez un fond d\'\xe9cran personnalis\xe9 en collant l\'URL de l\'image en dessous!","DIALOG_PLACEHOLDER":"Lien de l\'image","DIALOG_SUCCESS":"Fond d\'\xe9cran mis a jour","DIALOG_ERROR":"Image ou lien invalide"},"RINGTONE":"Sonnerie","RINGTONE_VOLUME":"Volume de la sonnerie","NOTIFICATION":"Notification","NOTIFICATION_VOLUME":"Volume des notifications","NOTIFICATION_FILTER":"Filtres des notifications"},"MESSAGES":{"INVALID_SETTINGS":"Param\xe8tres invalides stock\xe9s! Veuillez r\xe9initialiser les param\xe8tres.","SETTINGS_RESET":"Les param\xe8tres ont \xe9t\xe9 r\xe9initialis\xe9s!"}},"CAMERA":{"SHARE_DESTINATION":"O\xf9 voulez-vous partager l\'image ?","COPY_IMAGE":"Copiez le lien de l\'image ici:","FAILED_TO_DELETE":"La photo n\'a pas pu \xeatre supprim\xe9e :(","FAILED_TO_TAKE_PHOTO":"La photo n\'a pas pu \xeatre sauvegard\xe9e :("},"PHOTO":{"FEEDBACK":{"NO_PHOTOS":"Vous n\'avez pas de photos"}},"CONTACTS":{"FEEDBACK":{"ADD_FAILED":"Erreur de cr\xe9ation du contact!","ADD_SUCCESS":"Contact cr\xe9\xe9 avec succ\xe8s!","UPDATE_FAILED":"Erreur lors de la mise \xe0 jour du contact!","UPDATE_SUCCESS":"Contact mis \xe0 jour avec succ\xe8s!","DELETE_FAILED":"Erreur lors de la suppression du contact!","DELETE_SUCCESS":"Contact supprim\xe9 avec succ\xe8s!"},"PLACEHOLDER_SEARCH_CONTACTS":"Rechercher un contact...","FORM_NAME":"Nom","FORM_NUMBER":"Num\xe9ro","FORM_AVATAR":"URL Photo de profil","MODAL_BUTTON_ADD":"Ajouter contact"},"DIALER":{"MESSAGES":{"CURRENT_CALL_TITLE":"Appel en cours","INCOMING_CALL_TITLE":"Appel entrant","CURRENT_CALL_WITH":"En appel avec {{ transmitter }}","TRANSMITTER_IS_CALLING":"{{ transmitter }} vous appelle!"},"INPUT_PLACEHOLDER":"Entrer un num\xe9ro","NAVBAR_HISTORY":"Historique","NAVBAR_DIAL":"Clavier","NAVBAR_CONTACTS":"Contacts","NO_HISTORY":"Aucun historique d\'appel"},"NOTES":{"FEEDBACK":{"NO_NOTES":"Vous n\'avez pas de notes","ADD_FAILED":"La note n\'a pas pu \xeatre sauvegard\xe9e.","ADD_SUCCESS":"Note sauvegard\xe9e avec succ\xe8s.","DELETE_SUCCESS":"Note supprim\xe9e avec succ\xe8s.","DELETE_FAILED":"Impossible de supprimer la note.","UPDATE_FAILED":"Impossible de mettre \xe0 jour la note.","UPDATE_SUCCESS":"Note mise \xe0 jour avec succ\xe8s."}},"BANK":{"HOME_TITLE":"Compte en banque","CHECKING":"Total :"},"MARKETPLACE":{"FEEDBACK":{"REQUIRED_FIELDS":"Tous les champs requis doivent \xeatre renseign\xe9s!","CREATE_LISTING_FAILED":"\xc9chec lors de la cr\xe9ation d\'une nouvelle liste","CREATE_LISTING_SUCCESS":"Nouvelle liste cr\xe9\xe9e avec succ\xe8s!","DELETE_LISTING_FAILED":"Erreur lors de la suppression d\'une liste","DELETE_LISTING_SUCCESS":"Liste supprim\xe9e avec succ\xe8s","REPORT_LISTING_FAILED":"Cette liste a d\xe9j\xe0 \xe9t\xe9 signal\xe9e","DUPLICATE_LISTING":"Vous ne pouvez pas cr\xe9er une liste avec le m\xeame titre!","REPORT_LISTING_SUCCESS":"Liste signal\xe9e avec succ\xe8s"},"NEW_LISTING":"Nouvelle annonce","CHOOSE_IMAGE":"Choisir une image","FORM_TITLE":"Titre","POST_LISTING":"Publier","FORM_IMAGE":"Image ou URL","FORM_DESCRIPTION":"Description","NO_IMAGE":"Aucune image fournie"},"MESSAGES":{"MESSAGES":{"MESSAGE_CONVERSATION_CREATE_ALL_NUMBERS_FAILED":"Aucun des num\xe9ros n\'ont \xe9t\xe9 trouv\xe9s!","UNREAD_MESSAGES":"Vous avez {{ count }} message(s) non lu(s)","MESSAGE_GROUP_CREATE_SOME_NUMBERS_FAILED":"({{ numbers }}) ne sont pas attribu\xe9s."},"FEEDBACK":{"CONVERSATION_CREATE_ONE_NUMBER_FAILED":"{{ number }} n\'est pas un num\xe9ro attribu\xe9s","NEW_MESSAGE_FAILED":"Erreur d\'envoi","INVALID_PHONE_NUMBER":"Num\xe9ro de t\xe9l\xe9phone invalide","MESSAGE_CONVERSATION_DUPLICATE":"Cette conversation existe d\xe9j\xe0!","MESSAGE_GROUP_CREATE_FAILED":"Erreur lors de la cr\xe9ation du groupe","MESSAGE_GROUP_CREATE_MINE":"Vous ne pouvez pas vous ajouter vous-m\xeame !","FETCHED_MESSAGES_FAILED":"Impossible de retrouver les messages","DELETE_MESSAGE":"Supprimer","DELETE_MESSAGE_FAILED":"Impossible de supprimer le message","DELETE_CONVERSATION_FAILED":"Impossible de supprimer la conversation"},"SEARCH_PLACEHOLDER":"Rechercher...","DELETE_CONVERSATION":"Supprimer la conversation","NEW_MESSAGE":"Message...","NEW_MESSAGE_GROUP":"Num\xe9ros de t\xe9l\xe9phone...","GROUP_CHAT_LABEL":"Nom du groupe...","MEDIA_OPTION":"Envoyer une image","POSITION_OPTION":"Envoyer votre position","DESTINATION_OPTION":"Envoyer votre destination","NEW_MESSAGE_GROUP_SUBMIT":"Envoyer","INPUT_NAME_OR_NUMBER":"Rechercher des contacts ou tapez un num\xe9ro et appuyez sur Entr\xe9e","ACTIONS_TITLE":"Actions","ME":"Moi"},"SOCIETY_CONTACTS":{"FEEDBACK":{"SEND_FAILED":"Erreur d\'envoi du message !","SEND_SUCCESS":"Message envoy\xe9 avec succ\xe8s !"},"PLACEHOLDER_SEARCH_CONTACTS":"Rechercher...","FORM_MESSAGE":"Message","SEND":"Envoyer le message","SEND_POSITION":"Envoyer + Position","SET_ANONYMOUS":"\xcatre anonyme"},"SOCIETY_MESSAGES":{"NOTIFICATION":{"TITLE":"Appel de soci\xe9t\xe9"}},"RELATIVE_TIME":{"future":"dans %s","past":"%s plus t\xf4t","s":"quelques secondes","m":"une minute","mm":"%d minutes","h":"une heure","hh":"%d heures","d":"un jour","dd":"%d jours","M":"un mois","MM":"%d mois","y":"un an","yy":"%d ann\xe9es"},"GENERIC":{"LOADING":"Chargement...","WAIT":"Veuillez patienter...","SAVE":"Enregistrer","EDIT":"\xc9diter","UPDATE":"Mettre \xe0 jour","REQUIRED":"Requis","DELETE":"Supprimer","REPORT":"Signaler","CALL":"Appeler","MESSAGE":"Message","CLOSE":"Fermer","CANCEL":"Annuler","TITLE":"Titre","CONTENT":"Contenu","WRITE_TO_CLIPBOARD_TOOLTIP":"Copier {{ content }}","WRITE_TO_CLIPBOARD_MESSAGE":"{{content}} copi\xe9 dans le presse-papier!"},"COMING_SOON":"Coming soon...","INITIALIZING":"Initialisation","APPS_DIALER":"T\xe9l\xe9phone","APPS_CONTACTS":"Contacts","APPS_MESSAGES":"Messages","APPS_SETTINGS":"Param\xe8tres","APPS_BANK":"Maze Banque","APPS_NOTES":"Notes","APPS_EXAMPLE":"Example app","APPS_MARKETPLACE":"Marketplace","APPS_CAMERA":"Cam\xe9ra","APPS_PHOTO":"Galerie","APPS_SOCIETY_CONTACTS":"Annuaire Entreprise","APPS_SOCIETY_MESSAGES":"R\xe9pondeur Entreprise","GENERIC_CLICK_TO_REVEAL":"Cliquer pour r\xe9v\xe9ler","GENERIC_LOADING":"Chargement...","GENERIC_WAIT":"Veuillez patienter...","GENERIC_SAVE":"Enregistrer","GENERIC_EDIT":"\xc9diter","GENERIC_UPDATE":"Mettre \xe0 jour","GENERIC_REQUIRED":"Requis","GENERIC_DELETE":"Supprimer","GENERIC_REPORT":"Signaler","GENERIC_CALL":"Appeler","GENERIC_MESSAGE":"Message","GENERIC_CLOSE":"Fermer","GENERIC_CANCEL":"Annuler","GENERIC_TITLE":"Titre","GENERIC_CONTENT":"Contenu","GENERIC_WRITE_TO_CLIPBOARD_TOOLTIP":"Copier {{ content }}","GENERIC_WRITE_TO_CLIPBOARD_MESSAGE":"{{content}} copi\xe9 dans le presse-papier!"}}')};ET.use(Ol).init({lng:"fr",saveMissing:!0,missingKeyHandler:function(e,t,n,r){},fallbackLng:"fr",interpolation:{escapeValue:!1},resources:ST});pf().extend(Np()),pf().extend(OS());var TT=C(),MT=null!=="/"?"/":process.cwd();Ln.SentryErrorMetrics&&{NODE_ENV:"production",PUBLIC_URL:"/html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION&&function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Gt),void 0===e.release){var t=(0,Le.Rf)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),function(e,t){!0===t.debug&&Me.k.enable();var n=(0,Te.Gd)(),r=new e(t);n.bindClient(r)}(It,e),e.autoSessionTracking&&function(){var e=(0,Le.Rf)(),t=(0,Te.Gd)(),n="complete"===document.readyState,r=!1,i=function(){r&&n&&t.endSession()},o=function t(){n=!0,i(),e.removeEventListener("load",t)};t.startSession(),n||e.addEventListener("load",o);try{var a=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),r=!0,i())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),a.observe({type:"paint",buffered:!0})}catch(u){r=!0,i()}}()}({dsn:"https://2fd07f10ac9b4868902998b8a147e47b@o1133416.ingest.sentry.io/6179935",autoSessionTracking:!0,release:{NODE_ENV:"production",PUBLIC_URL:"/html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION,integrations:[new On.BrowserTracing({routingInstrumentation:function(e,t,n){return qt(e,"react-router-v5",t,n)}(TT)}),new IS({root:MT,iteratee:function(e){return e.filename&&""!==e.filename?(e.filename=e.filename.replace("https://cfx-nui-npwd",""),e):e}})],tracesSampleRate:.5}),o.render((0,Fl.jsx)(i.StrictMode,{children:(0,Fl.jsx)(ve,{children:(0,Fl.jsx)(QE.NuiProvider,{resource:"npwd",children:(0,Fl.jsx)(i.Suspense,{fallback:null,children:(0,Fl.jsx)(jS,{children:(0,Fl.jsx)(DS,{children:(0,Fl.jsx)(AS,{})})})})})})}),document.getElementById("root"))},7648:function(e,t,n){"use strict";n.d(t,{Xb:function(){return f},vc:function(){return v},Gd:function(){return m},cu:function(){return p}});var r=n(9388),i=n(6870),o=n(9846),a=n(6017),s=n(9685),u=n(1917),c=n(5385),l=n(5708),d=function(){function e(e){this.errors=0,this.sid=(0,i.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=c.$.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,i.DM)()),e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),"number"===typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===c.$.Ok?this.update({status:c.$.Exited}):this.update()},e.prototype.toJSON=function(){return(0,l.Jr)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,l.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),f=function(){function e(e,t,n){void 0===t&&(t=new u.s),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=(0,i.DM)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,(0,r.pi)((0,r.pi)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=(0,i.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(u){s=u}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,(0,r.pi)((0,r.pi)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=(0,i.DM)();return this._invokeClient("captureEvent",e,(0,r.pi)((0,r.pi)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var u=s.getOptions&&s.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,d=u.maxBreadcrumbs,f=void 0===d?100:d;if(!(f<=0)){var p=(0,o.yW)(),h=(0,r.pi)({timestamp:p},e),m=l?(0,i.Cf)((function(){return l(h,t)})):h;null!==m&&a.addBreadcrumb(m,Math.min(f,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=h(this);try{e(this)}finally{h(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return a.k.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,u=new d((0,r.pi)((0,r.pi)({release:a,environment:s},n&&{user:n.getUser()}),e));return n&&n.setSession(u),u},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,(0,r.fl)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=p(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[e])return i.extensions[e].apply(this,t);a.k.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function p(){var e=(0,i.Rf)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function h(e){var t=p(),n=y(t);return b(t,e),n}function m(){var e=p();return g(e)&&!y(e).isOlderThan(3)||b(e,new f),(0,s.KV)()?function(e){try{var t=v();if(!t)return y(e);if(!g(t)||y(t).isOlderThan(3)){var n=y(e).getStackTop();b(t,new f(n.client,u.s.clone(n.scope)))}return y(t)}catch(r){return y(e)}}(e):y(e)}function v(){var e=p().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}function g(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new f),e.__SENTRY__.hub}function b(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},1917:function(e,t,n){"use strict";n.d(t,{s:function(){return u},c:function(){return l}});var r=n(9388),i=n(8805),o=n(9846),a=n(9153),s=n(6870),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.fl)(t._breadcrumbs),n._tags=(0,r.pi)({},t._tags),n._extra=(0,r.pi)({},t._extra),n._contexts=(0,r.pi)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.fl)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),t._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):(0,i.PO)(t)&&(t=t,this._tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(0,r.pi)({timestamp:(0,o.yW)()},e);return this._breadcrumbs=void 0!==t&&t>=0?(0,r.fl)(this._breadcrumbs,[n]).slice(-t):(0,r.fl)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.pi)((0,r.pi)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.pi)({trace:this._span.getTraceContext()},e.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(e.tags=(0,r.pi)({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.fl)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors((0,r.fl)(c(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.c((function(a,u){var c=e[o];if(null===t||"function"!==typeof c)a(t);else{var l=c((0,r.pi)({},t),n);(0,i.J8)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(e,l,n,o+1).then(a).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function c(){var e=(0,s.Rf)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function l(e){c().push(e)}},8571:function(e,t,n){"use strict";n.d(t,{ro:function(){return _},lb:function(){return x}});var r,i=n(9388),o=n(7648);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(r||(r={}));var a=n(6017),s=n(9685),u=n(8805),c=n(6870),l=n(2034),d=n(3835),f=n(5129);function p(){var e=(0,f.x1)();e&&(a.k.log("[Tracing] Transaction: "+d.p.InternalError+" -> Global error occured"),e.setStatus(d.p.InternalError))}var h=n(5522),m=n(4281);function v(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function g(e,t,n){var o,s,u=e.getClient(),c=u&&u.getOptions()||{};return u&&(0,f.zu)(c)?void 0!==t.sampled?(t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Explicit}),t):("function"===typeof c.tracesSampler?(s=c.tracesSampler(n),t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Sampler,__sentry_sampleRate:String(Number(s))})):void 0!==n.parentSampled?(s=n.parentSampled,t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Inheritance})):(s=c.tracesSampleRate,t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Rate,__sentry_sampleRate:String(Number(s))})),function(e){if(isNaN(e)||"number"!==typeof e&&"boolean"!==typeof e)return a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1;if(e<0||e>1)return a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1;return!0}(s)?s?(t.sampled=Math.random()<s,t.sampled?(t.initSpanRecorder(null===(o=c._experiments)||void 0===o?void 0:o.maxSpans),a.k.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(a.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(s)+")"),t)):(a.k.log("[Tracing] Discarding transaction because "+("function"===typeof c.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(a.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t)}function y(t){var n={transactionContext:t,parentSampled:t.parentSampled};if((0,s.KV)()){var r=(0,o.vc)();if(r){var a=(0,s.l$)(e,"http").IncomingMessage,l=r.members.find((function(e){return(0,u.V9)(e,a)}));l&&(n.request=(0,s.SB)(l))}}else{var d=(0,c.Rf)();"location"in d&&(n.location=(0,i.pi)({},d.location))}return n}function b(e,t){return g(this,new m.Y(e,this),(0,i.pi)((0,i.pi)({},y(e)),t))}function x(e,t,n,r){return g(e,new h.io(t,e,n,r),y(t))}function _(){!function(){var e=(0,o.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=b),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=v))}(),(0,l.o)({callback:p,type:"error"}),(0,l.o)({callback:p,type:"unhandledrejection"})}e=n.hmd(e)},5522:function(e,t,n){"use strict";n.d(t,{nT:function(){return c},io:function(){return d}});var r=n(9388),i=n(9846),o=n(6017),a=n(4533),s=n(3835),u=n(4281),c=1e3,l=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"===typeof e?e:(0,i._I)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(a.g),d=function(e){function t(t,n,r,i){void 0===r&&(r=c),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(f(n),o.k.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(e){return e.setSpan(a)}))),a}return(0,r.ZT)(t,e),t.prototype.finish=function(t){var n,a,u=this;if(void 0===t&&(t=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){o.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var c=(0,r.XA)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next()){(0,l.value)(this,t)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===u.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(s.p.Cancelled),o.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||o.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),this._onScope&&f(this._idleHub),o.k.log("[Tracing] flushing IdleTransaction")}else o.k.log("[Tracing] No active IdleTransaction");return e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;if(!this.spanRecorder){this._initTimeout=setTimeout((function(){t._finished||t.finish()}),this._idleTimeout);this.spanRecorder=new l((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),o.k.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.k.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(o.k.log("[Tracing] popActivity "+e),delete this.activities[e],o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){t._finished||t.finish(r)}),n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce((function(e,t){return e+t})):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(o.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(s.p.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;o.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){e._beat()}),5e3)},t}(u.Y);function f(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}},5333:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(9388),i=n(9685),o=n(6017),a=n(5708);e=n.hmd(e);var s=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},c=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:s,this._describeOperations=!("describeOperations"in e)||e.describeOperations}return t.prototype.setupOnce=function(t,n){var r;try{r=(0,i.l$)(e,"mongodb").Collection}catch(a){return void o.k.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},t.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach((function(t){return r._patchOperation(e,t,n)}))},t.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,a.hl)(e.prototype,t,(function(e){return function(){for(var o,a,s,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l=u[u.length-1],d=n().getScope(),f=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!==typeof l||"mapReduce"===t&&2===u.length){var p=null===(a=f)||void 0===a?void 0:a.startChild(i(this,t,u));return e.call.apply(e,(0,r.fl)([this],u)).then((function(e){var t;return null===(t=p)||void 0===t||t.finish(),e}))}var h=null===(s=f)||void 0===s?void 0:s.startChild(i(this,t,u.slice(0,-1)));return e.call.apply(e,(0,r.fl)([this],u.slice(0,-1),[function(e,t){var n;null===(n=h)||void 0===n||n.finish(),l(e,t)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(e,t,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},o={op:"db",description:t,data:i},a=u[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!a||!s)return o;try{if("mapReduce"===t){var c=(0,r.CR)(n,2),l=c[0],d=c[1];i[a[0]]="string"===typeof l?l:l.name||"<anonymous>",i[a[1]]="string"===typeof d?d:d.name||"<anonymous>"}else for(var f=0;f<a.length;f++)i[a[f]]=JSON.stringify(n[f])}catch(p){}return o},t.id="Mongo",t}()},4888:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(9685),i=n(6017),o=n(5708);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.l$)(e,"mysql/lib/Connection.js")}catch(s){return void i.k.error("Mysql Integration was unable to require `mysql` package.")}(0,o.hl)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.sql,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t,n){var r;null===(r=s)||void 0===r||r.finish(),i(e,t,n)})):"function"===typeof r?e.call(this,t,(function(e,t,n){var i;null===(i=s)||void 0===i||i.finish(),r(e,t,n)})):e.call(this,t,r,i)}}))},t.id="Mysql",t}()},3215:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(9685),i=n(6017),o=n(5708);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.l$)(e,"pg").Client}catch(s){return void i.k.error("Postgres Integration was unable to require `pg` package.")}(0,o.hl)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.text,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),i(e,t)})):"function"===typeof r?e.call(this,t,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),r(e,t)})):e.call(this,t,r).then((function(e){var t;return null===(t=s)||void 0===t||t.finish(),e}))}}))},t.id="Postgres",t}()},4533:function(e,t,n){"use strict";n.d(t,{g:function(){return u},D:function(){return c}});var r=n(9388),i=n(6870),o=n(9846),a=n(5708),s=n(3835),u=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),c=function(){function e(e){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.pi)((0,r.pi)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=s.p.fromHttpCode(e);return t!==s.p.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===s.p.Ok},e.prototype.finish=function(e){this.endTimestamp="number"===typeof e?e:(0,o._I)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},3835:function(e,t,n){"use strict";var r;n.d(t,{p:function(){return r}}),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(r||(r={})),function(e){e.fromHttpCode=function(t){if(t<400)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(r||(r={}))},4281:function(e,t,n){"use strict";n.d(t,{Y:function(){return u}});var r=n(9388),i=n(7648),o=n(8805),a=n(6017),s=n(4533),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=t.name?t.name:"",r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.ZT)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new s.g(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.pi)({},e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(a.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction"};return Object.keys(this._measurements).length>0&&(a.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}a.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t}(s.D)},5129:function(e,t,n){"use strict";n.d(t,{zu:function(){return o},qG:function(){return a},x1:function(){return s},XL:function(){return u},WB:function(){return c}});var r=n(7648),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){return"tracesSampleRate"in e||"tracesSampler"in e}function a(e){var t=e.match(i);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function s(e){var t,n;return void 0===e&&(e=(0,r.Gd)()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function u(e){return e/1e3}function c(e){return 1e3*e}},5385:function(e,t,n){"use strict";var r;n.d(t,{$:function(){return r}}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={}))},4044:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(8805);function i(e){try{for(var t=e,n=[],r=0,i=0,a=" > ".length,s=void 0;t&&r++<5&&!("html"===(s=o(t))||r>1&&i+n.length*a+s.length>=80);)n.push(s),i+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(u){return"<unknown>"}}function o(e){var t,n,i,o,a,s=e,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),(t=s.className)&&(0,r.HD)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)u.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)i=c[a],(o=s.getAttribute(i))&&u.push("["+i+'="'+o+'"]');return u.join("")}},2034:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var r,i=n(9388),o=n(8805),a=n(6017),s=n(6870),u=n(5708),c=n(8578),l=n(4678),d=(0,s.Rf)(),f={},p={};function h(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in d.console&&(0,u.hl)(d.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",w("click",v.bind(null,"dom")),!1),d.document.addEventListener("keypress",E(v.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=d[e]&&d[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,u.hl)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&(0,u.hl)(n,"handleEvent",(function(e){return function(t){return w("click",v.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&(0,u.hl)(n,"handleEvent",(function(e){return function(t){return E(v.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&w("click",v.bind(null,"dom"),!0)(this),"keypress"===t&&E(v.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),(0,u.hl)(t,"removeEventListener",(function(e){return function(t,n,r){try{e.call(this,t,n.__sentry_wrapped__,r)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=[],t=[],n=XMLHttpRequest.prototype;(0,u.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=this,s=r[1];a.__sentry_xhr__={method:(0,o.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,o.HD)(s)&&"POST"===a.__sentry_xhr__.method&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(o){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var i=t.splice(n)[0];a.__sentry_xhr__&&void 0!==i[0]&&(a.__sentry_xhr__.body=i[0])}}catch(o){}v("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"===typeof a.onreadystatechange?(0,u.hl)(a,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(),e.apply(a,t)}})):a.addEventListener("readystatechange",c),n.apply(a,r)}})),(0,u.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),v("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!(0,l.t$)())return;(0,u.hl)(d,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:g(t),url:y(t)},startTimestamp:Date.now()};return v("fetch",(0,i.pi)({},r)),e.apply(d,t).then((function(e){return v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!(0,l.Bf)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,v("history",{from:o,to:a})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d.location.href,o=r;if(r=i,v("history",{from:o,to:i}),e)return e.apply(this,t)},(0,u.hl)(d.history,"pushState",t),(0,u.hl)(d.history,"replaceState",t)}();break;case"error":S=d.onerror,d.onerror=function(e,t,n,r,i){return v("error",{column:r,error:i,line:n,msg:e,url:t}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":T=d.onunhandledrejection,d.onunhandledrejection=function(e){return v("unhandledrejection",e),!T||T.apply(this,arguments)};break;default:a.k.warn("unknown instrumentation type:",e)}}function m(e){e&&"string"===typeof e.type&&"function"===typeof e.callback&&(f[e.type]=f[e.type]||[],f[e.type].push(e.callback),h(e.type))}function v(e,t){var n,r;if(e&&f[e])try{for(var o=(0,i.XA)(f[e]||[]),s=o.next();!s.done;s=o.next()){var u=s.value;try{u(t)}catch(l){a.k.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,c.$)(u)+"\nError: "+l)}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function g(e){return void 0===e&&(e=[]),"Request"in d&&(0,o.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function y(e){return void 0===e&&(e=[]),"string"===typeof e[0]?e[0]:"Request"in d&&(0,o.V9)(e[0],Request)?e[0].url:String(e[0])}var b,x,_=0;function w(e,t,n){return void 0===n&&(n=!1),function(r){b=void 0,r&&x!==r&&(x=r,_&&clearTimeout(_),n?_=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function E(e){return function(t){var n;try{n=t.target}catch(i){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(b||w("input",e)(t),clearTimeout(b),b=setTimeout((function(){b=void 0}),1e3))}}var S=null;var T=null},8805:function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!==typeof Event&&m(e,Event)}function d(e){return"undefined"!==typeof Element&&m(e,Element)}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,{VZ:function(){return r},VW:function(){return i},TX:function(){return o},fm:function(){return a},HD:function(){return s},pt:function(){return u},PO:function(){return c},cO:function(){return l},kK:function(){return d},Kj:function(){return f},J8:function(){return p},Cy:function(){return h},V9:function(){return m}})},6017:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(6870),i=(0,r.Rf)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},6870:function(e,t,n){"use strict";n.d(t,{Rf:function(){return o},DM:function(){return a},en:function(){return s},jH:function(){return u},Cf:function(){return c},Db:function(){return l},EG:function(){return d},l4:function(){return f},JY:function(){return p}});var r=n(9685),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function u(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var i=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),i}function l(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(n){}}function f(){try{return document.location.href}catch(e){return""}}function p(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}},9685:function(e,t,n){"use strict";n.d(t,{KV:function(){return o},l$:function(){return a},SB:function(){return u}});var r=n(8805),i=n(5708);function o(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function a(e,t){return e.require(t)}e=n.hmd(e);var s=["cookies","data","headers","method","query_string","url"];function u(t,n){if(void 0===n&&(n=s),!o())throw new Error("Can't get node request data outside of a node environment");var u={},c=t.headers||t.header||{},l=t.method,d=t.hostname||t.host||c.host||"<no host>",f="https"===t.protocol||t.secure||(t.socket||{}).encrypted?"https":"http",p=t.originalUrl||t.url||"",h=f+"://"+d+p;return n.forEach((function(n){switch(n){case"headers":u.headers=c;break;case"method":u.method=l;break;case"url":u.url=h;break;case"cookies":u.cookies=t.cookies||a(e,"cookie").parse(c.cookie||"");break;case"query_string":u.query_string=a(e,"url").parse(p||"",!1).query;break;case"data":if("GET"===l||"HEAD"===l)break;void 0!==t.body&&(u.data=(0,r.HD)(t.body)?t.body:JSON.stringify((0,i.Fv)(t.body)));break;default:({}).hasOwnProperty.call(t,n)&&(u[n]=t[n])}})),u}},5708:function(e,t,n){"use strict";n.d(t,{Jr:function(){return y},zf:function(){return g},hl:function(){return c},Fv:function(){return v},Qy:function(){return p},_j:function(){return l}});var r=n(9388),i=n(4044),o=n(8805),a=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n(8578),u=n(7050);function c(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(o){}e[t]=i}}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if((0,o.VZ)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if((0,o.cO)(e)){var a=e,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(u){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(u){s.currentTarget="<unknown>"}for(var r in"undefined"!==typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return e}function f(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function p(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=v(e,t);return f(r)>n?p(e,t-1,n):r}function h(e,t){return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,o.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,s.$)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":e}function m(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"===typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=h(e);return(0,o.pt)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"===typeof t.toJSON)return t.toJSON();var i=h(t,e);if((0,o.pt)(i))return i;var s=d(t),u=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=m(c,s[c],n-1,r));return r.unmemoize(t),u}function v(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return m(e,n,t)})))}catch(n){return"**non-serializable**"}}function g(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,u.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,u.$G)(i,t)}return""}function y(e){var t,n;if((0,o.PO)(e)){var i=e,a={};try{for(var s=(0,r.XA)(Object.keys(i)),u=s.next();!u.done;u=s.next()){var c=u.value;"undefined"!==typeof i[c]&&(a[c]=y(i[c]))}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(y):e}},8578:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r="<anonymous>";function i(e){try{return e&&"function"===typeof e&&e.name||r}catch(t){return r}}},7050:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},nK:function(){return o},zC:function(){return a}});var r=n(8805);function i(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},4678:function(e,t,n){"use strict";n.d(t,{Ak:function(){return o},t$:function(){return s},hv:function(){return u},Bf:function(){return c}});var r=n(6017),i=n(6870);function o(){if(!("fetch"in(0,i.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=(0,i.Rf)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(u){r.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return t}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function c(){var e=(0,i.Rf)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},9153:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r,i=n(8805);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var o=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&((0,i.J8)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void i(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void i(r)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},9846:function(e,t,n){"use strict";n.d(t,{yW:function(){return u},_I:function(){return c},Z1:function(){return l}});var r=n(6870),i=n(9685);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.Rf)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),l=function(){var e=(0,r.Rf)().performance;if(e)return e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()},4037:function(e,t,n){"use strict";var r=n(2506),i=n(9722),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},9722:function(e,t,n){"use strict";var r=n(3350),i=n(2506),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(f){c=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},7892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",u="week",c="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:u,d:s,D:f,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=v;var _=function(e){return e instanceof T},w=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)x[e]&&(r=e),t&&(x[e]=t,r=e);else{var i=e.name;x[i]=e,r=i}return!n&&r&&(b=r),r||!n&&b},E=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},S=y;S.l=w,S.i=_,S.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function v(e){this.$L=w(e.locale,null,!0),this.parse(e)}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return E(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<E(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!S.u(t)||t,l=S.p(e),p=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},h=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case u:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(r?g-x:g+(6-x),v);case s:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case o:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,u=S.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[s]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],h=u===s?this.$D+(t-this.$W):t;if(u===c||u===d){var m=this.clone().set(f,1);m.$d[p](h),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(r,l){var f,p=this;r=Number(r);var h=S.p(l),m=function(e){var t=E(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return m(1);if(h===u)return m(7);var v=(f={},f[o]=t,f[a]=n,f[i]=e,f)[h]||1,g=this.$d.getTime()+r*v;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].substr(0,o)},d=function(e){return S.s(o%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||h[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,p){var h,m=S.p(f),v=E(r),g=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=S.m(this,v);return b=(h={},h[d]=b/12,h[c]=b,h[l]=b/3,h[u]=(y-g)/6048e5,h[s]=(y-g)/864e5,h[a]=y/n,h[o]=y/t,h[i]=y/e,h)[m]||y,p?b:S.a(b)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return x[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),M=T.prototype;return E.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",f]].forEach((function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,T,E),e.$i=!0),E},E.locale=w,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=x[b],E.Ls=x,E.p={},E}()},130:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,a,s){for(var u,c,l,d=o.$locale().relativeTime||i,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=f.length,h=0;h<p;h+=1){var m=f[h];m.d&&(u=a?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var v=(e.rounding||Math.round)(Math.abs(u));if(l=u>0,v<=m.r||!m.r){v<=1&&h>0&&(m=f[h-1]);var g=d[m.l];s&&(v=s(""+v)),c="string"==typeof g?g.replace("%d",v):g(v,r,m.l,l);break}}if(r)return c;var y=l?d.future:d.past;return"function"==typeof y?y(c):y.replace("%s",c)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}()},5790:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},9412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var a=o(i[0]);a!==i[0]&&(n[i[0]]=a)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},2683:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},4779:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1464),t),i(n(9690),t),i(n(56),t),i(n(136),t),i(n(9887),t),i(n(7363),t),i(n(5355),t),i(n(7361),t)},7363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NuiContext=void 0;var r=n(2791);t.NuiContext=r.createContext(null)},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiCallback=void 0;var r=n(2791),i=n(7363),o=n(7361),a=n(1464);t.useNuiCallback=function(e,t,n,s){var u=r.useContext(i.NuiContext),c=u.sendAbortable,l=u.callbackTimeout,d=r.useRef(),f=r.useRef(),p=r.useRef(o.eventNameFactory(e,t)),h=r.useRef(t),m=r.useRef(e),v=r.useState(!1),g=v[0],y=v[1],b=r.useState(!1),x=b[0],_=b[1],w=r.useState(null),E=w[0],S=w[1],T=r.useState(null),M=T[0],A=T[1],C=r.useCallback((function(e){x&&(f.current&&clearTimeout(f.current),g||(A(e),S(null),_(!1),null===n||void 0===n||n(e)))}),[n,g,x]),O=r.useCallback((function(e){f.current&&clearTimeout(f.current),S(e),A(null),_(!1),null===s||void 0===s||s(e)}),[s]);return a.useNuiEvent(m.current,h.current+"Success",C),a.useNuiEvent(m.current,h.current+"Error",O),[r.useCallback((function(e,t){_((function(n){if(!n){y(!1),S(null),A(null),d.current=c(h.current,e);var r=t||{timeout:l},i=!1!==r.timeout&&(r.timeout||l);return i&&(clearTimeout(f.current),f.current=setTimeout((function(){y(!0),O(new Error('fivem-nui-react-lib: "'+p.current+'" event callback timed out after '+i+" milliseconds")),d.current&&d.current.abort(),f.current=void 0,d.current=void 0}),i)),!0}return n}))}),[]),{loading:x,response:M,error:E}]}},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiEvent=void 0;var r=n(2791),i=n(7361);t.useNuiEvent=function(e,t,n){var o=r.useRef();r.useEffect((function(){o.current=n}),[n]),r.useEffect((function(){var n=i.eventNameFactory(e,t),r=function(e){if(o.current&&o.current.call){var t=e.data;o.current(t)}};return function(e,t,n){e.addEventListener(t,n)}(window,n,r),function(){return window.removeEventListener(n,r)}}),[e,t])}},9690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiEventCallback=void 0;var r=n(2791),i=n(7363),o=n(7361),a=n(1464);t.useNuiEventCallback=function(e,t,n,s){console.warn("@ useNuiEventCallback is deprecated, please use useNuiCallback instead");var u=r.useContext(i.NuiContext),c=u.sendAbortable,l=u.callbackTimeout,d=r.useRef(),f=r.useRef(),p=r.useRef(o.eventNameFactory(e,t)),h=r.useRef(t),m=r.useRef(e),v=r.useState(!1),g=v[0],y=v[1],b=r.useState(!1),x=b[0],_=b[1],w=r.useState(null),E=w[0],S=w[1],T=r.useState(null),M=T[0],A=T[1],C=r.useCallback((function(e){x&&(f.current&&clearTimeout(f.current),g||(A(e),S(null),_(!1),null===n||void 0===n||n(e)))}),[n,g,x]),O=r.useCallback((function(e){f.current&&clearTimeout(f.current),S(e),A(null),_(!1),null===s||void 0===s||s(e)}),[s]);return r.useEffect((function(){x&&!f.current&&(clearTimeout(f.current),f.current=setTimeout((function(){y(!0),O(new Error('fivem-nui-react-lib: "'+p.current+'" event callback timed out after '+l+" milliseconds")),d.current&&d.current.abort(),f.current=void 0,d.current=void 0}),1e4))}),[x,O]),a.useNuiEvent(m.current,h.current+"Success",C),a.useNuiEvent(m.current,h.current+"Error",O),[r.useCallback((function(e){_((function(t){return t||(d.current=c(h.current,e),!0)}))}),[]),{loading:x,response:M,error:E}]}},136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiRequest=void 0;var r=n(2791),i=n(7363);t.useNuiRequest=function(){var e=r.useContext(i.NuiContext);if(!e)throw new Error("fivem-nui-react-lib: useNuiRequest must be used inside NuiProvider passing the `resource` prop");var t=e.send,n=e.sendAbortable;return r.useMemo((function(){return{send:t,sendAbortable:n}}),[t,n])}},5355:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NuiProvider=void 0;var a=n(184),s=n(2791),u=n(7363),c=n(7361);function l(e,t){var n=new AbortController,i=n.signal;return{abort:function(){return n.abort()},promise:fetch(e,r(r({},t),{signal:i}))}}function d(e,t,n){return["https://"+e+"/"+t,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}]}t.NuiProvider=function(e){var t=e.resource,n=e.children,f=e.timeout,p=s.useRef(t||""),h=s.useRef(f||1e4),m=function(e){var t=e.data,n=t.app,r=t.method,i=t.data;n&&r&&window.dispatchEvent(new MessageEvent(c.eventNameFactory(n,r),{data:i}))};s.useEffect((function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}}),[]);var v=s.useCallback((function(e,t){return void 0===t&&(t={}),i(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,fetch.apply(void 0,d(p.current,e,t))]}))}))}),[]),g=s.useCallback((function(e,t){return void 0===t&&(t={}),l.apply(void 0,d(p.current,e,t))}),[]);return a.jsx(u.NuiContext.Provider,r({value:{send:v,sendAbortable:g,resource:p.current,callbackTimeout:h.current}},{children:n}),void 0)}},9887:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NuiServiceProvider=void 0;var a=n(184),s=n(2791),u=n(7363),c=n(7361);function l(e,t){var n=new AbortController,i=n.signal;return{abort:function(){return n.abort()},promise:fetch(e,r(r({},t),{signal:i}))}}function d(e,t,n){return["https://"+e+"/"+t,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}]}t.NuiServiceProvider=function(e){var t=e.resource,n=e.children,f=e.timeout;console.warn("@ NuiServiceProvider is deprecated, please use NuiProvider instead");var p=s.useRef(),h=function(e){var t=e.data,n=t.app,r=t.method,i=t.data;n&&r&&window.dispatchEvent(new MessageEvent(c.eventNameFactory(n,r),{data:i}))};s.useEffect((function(){return window.addEventListener("message",h),function(){return window.removeEventListener("message",h)}}),[]);var m=s.useCallback((function(e,n){return void 0===n&&(n={}),i(void 0,void 0,void 0,(function(){return o(this,(function(r){return[2,fetch.apply(void 0,d(t,e,n))]}))}))}),[]),v=s.useCallback((function(e,n){return void 0===n&&(n={}),l.apply(void 0,d(t,e,n))}),[]);return a.jsx(u.NuiContext.Provider,r({value:{resource:p.current,send:m,sendAbortable:v,callbackTimeout:f||1e4}},{children:n}),void 0)}},7361:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventNameFactory=void 0;t.eventNameFactory=function(e,t){return e+":"+t}},222:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],d=0;d<c;d++)l.push("$"+d);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,a.prototype=new f,f.prototype=null}return a}},3350:function(e,t,n){"use strict";var r=n(222);e.exports=Function.prototype.bind||r},2506:function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(C){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,d=n(697)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"===typeof Uint8Array?r:f(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return m[t]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(3350),b=n(8316),x=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,M=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,S,(function(e,t,n,i){r[r.length]=n?w(i,T,"$1"):t||e})),r},A=function(e,t){var n,r=e;if(b(g,r)&&(r="%"+(n=g[r])[0]+"%"),b(m,r)){var o=m[r];if(o===p&&(o=v(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var n=M(e),r=n.length>0?n[0]:"",o=A("%"+r+"%",t),s=o.name,c=o.value,l=!1,d=o.alias;d&&(r=d[0],_(n,x([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var h=n[f],v=E(h,0,1),g=E(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),b(m,s="%"+(r+="."+h)+"%"))c=m[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var y=u(c,h);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[h]}else p=b(c,h),c=c[h];p&&!l&&(m[s]=c)}}return c}},697:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(3297);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8316:function(e,t,n){"use strict";var r=n(3350);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},1845:function(e,t,n){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||p(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(l){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),"undefined"===typeof u.start?u.noteOn(0):u.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return o.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,"undefined"!==typeof o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(o.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!==typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=p)){var m=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,"undefined"===typeof m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,l):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){m.currentTime=c,m.muted=s._muted||n._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var y=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";m.addEventListener(o._canPlayEvent,(function e(){n._state="loaded",g(),m.removeEventListener(o._canPlayEvent,e,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,i[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var c=o.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,a[s],"undefined"===typeof r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/r;d=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[a])&&(r.pause(o[a],!0),r.play(o[a],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!==typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var i=n._getSoundIds(),a=i.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?o.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function e(){n._playLock?setTimeout(e,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"===typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],o=0;if("number"===typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var a=n===i[o].id;if(t===i[o].fn&&a||!t&&a){i.splice(o,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(r[s[o]])&&(r[s[o]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(e,i[o].fn,i[o].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),o._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=o._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),e._node.gain.setValueAtTime(n,o.ctx.currentTime),e._node.paused=!0,e._node.connect(o.masterGain)):o.noAudio||(e._node=o._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(o._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*o.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(o._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?d(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(o)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!==typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!==typeof AudioContext?o.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=a,"undefined"!==typeof n.g?(n.g.HowlerGlobal=i,n.g.Howler=o,n.g.Howl=a,n.g.Sound=s):"undefined"!==typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!==typeof t?s[1]:t,n="number"!==typeof n?s[2]:n,r="number"!==typeof r?s[3]:r,i="number"!==typeof i?s[4]:i,o="number"!==typeof o?s[5]:o,"number"!==typeof e?s:(a._orientation=[e,t,n,r,i,o],"undefined"!==typeof a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,i,o),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!==typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof e)return o._pos;o._pos=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!==typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),"undefined"!==typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!==typeof n?o._orientation[1]:n,r="number"!==typeof r?o._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof e)return o._orientation;o._orientation=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!==typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),"undefined"!==typeof u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!==typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;e=o[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:u.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:u.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},1599:function(e,t,n){"use strict";var r=n(3682);e.exports=function e(t){if(Array.isArray(t))return-1!==t.indexOf("ssh")||-1!==t.indexOf("rsync");if("string"!==typeof t)return!1;var n=r(t);if(t=t.substring(t.indexOf("://")+3),e(n))return!0;var i=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(i)&&t.indexOf("@")<t.indexOf(":")}},109:function(e,t,n){"use strict";var r=n(3137),i=r.ValidatorResult,o=r.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function u(e,t,n,r,i){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,i,t,n);return t.throwError=o,t.throwAll=a,!s.valid&&r instanceof Function&&r(s),s.valid}function c(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function l(e,t,n,r,i,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,i,a,n,r);var s=this.validateSchema(e[i],a,n,r.makeChild(a,i));s.instance!==o.instance[i]&&(o.instance[i]=s.instance),o.importErrors(s)}}s.type=function(e,t,n,r){if(void 0===e)return null;var o=new i(e,t,n,r),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,n,r))){var s=a.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o},s.anyOf=function(e,t,n,r){if(void 0===e)return null;var a=new i(e,t,n,r),s=new i(e,t,n,r);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(u.bind(this,e,n,r,(function(e){s.importErrors(e)})))){var c=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return a},s.allOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var a=new i(e,t,n,r),s=this;return t.allOf.forEach((function(t,i){var o=s.validateSchema(e,t,n,r);if(!o.valid){var u=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";a.addError({name:"allOf",argument:{id:u,length:o.errors.length,valid:o},message:"does not match allOf schema "+u+" with "+o.errors.length+" error[s]:"}),a.importErrors(o)}})),a},s.oneOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var a=new i(e,t,n,r),s=new i(e,t,n,r),c=t.oneOf.filter(u.bind(this,e,n,r,(function(e){s.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==c&&(n.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),a},s.if=function(e,t,n,o){if(void 0===e)return null;if(!r.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,s=u.call(this,e,n,o,null,t.if),c=new i(e,t,n,o);if(s){if(void 0===t.then)return;if(!r.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,n,o.makeChild(t.then)),c.importErrors(a)}else{if(void 0===t.else)return;if(!r.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,n,o.makeChild(t.else)),c.importErrors(a)}return c},s.propertyNames=function(e,t,n,a){if(this.types.object(e)){var s=new i(e,t,n,a),u=void 0!==t.propertyNames?t.propertyNames:{};if(!r.isSchema(u))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var l in e)if(void 0!==c(e,l)){var d=this.validateSchema(l,u,n,a.makeChild(u));s.importErrors(d)}return s}},s.properties=function(e,t,n,r){if(this.types.object(e)){var a=new i(e,t,n,r),s=t.properties||{};for(var u in s){var l=s[u];if(void 0!==l){if(null===l)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,l,n,r);var d=c(e,u),f=this.validateSchema(d,l,n,r.makeChild(l,u));f.instance!==a.instance[u]&&(a.instance[u]=f.instance),a.importErrors(f)}}return a}},s.patternProperties=function(e,t,n,r){if(this.types.object(e)){var a=new i(e,t,n,r),s=t.patternProperties||{};for(var u in e){var c=!0;for(var d in s){var f=s[d];if(void 0!==f){if(null===f)throw new o('Unexpected null, expected schema in "patternProperties"');try{var p=new RegExp(d,"u")}catch(m){p=new RegExp(d)}if(p.test(u)){c=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,f,n,r);var h=this.validateSchema(e[u],f,n,r.makeChild(f,u));h.instance!==a.instance[u]&&(a.instance[u]=h.instance),a.importErrors(h)}}}c&&l.call(this,e,t,n,r,u,a)}return a}},s.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var o=new i(e,t,n,r);for(var a in e)l.call(this,e,t,n,r,a,o);return o}},s.minProperties=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},s.maxProperties=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},s.items=function(e,t,n,r){var o=this;if(this.types.array(e)&&t.items){var a=new i(e,t,n,r);return e.every((function(e,i){var s=Array.isArray(t.items)?t.items[i]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=o.validateSchema(e,s,n,r.makeChild(s,i));return u.instance!==a.instance[i]&&(a.instance[i]=u.instance),a.importErrors(u),!0})),a}},s.minimum=function(e,t,n,r){if(this.types.number(e)){var o=new i(e,t,n,r);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}},s.maximum=function(e,t,n,r){if(this.types.number(e)){var o=new i(e,t,n,r);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}},s.exclusiveMinimum=function(e,t,n,r){if("boolean"!==typeof t.exclusiveMaximum&&this.types.number(e)){var o=new i(e,t,n,r);return e>t.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}},s.exclusiveMaximum=function(e,t,n,r){if("boolean"!==typeof t.exclusiveMaximum&&this.types.number(e)){var o=new i(e,t,n,r);return e<t.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var d=function(e,t,n,a,s,u){if(this.types.number(e)){var c=t[s];if(0==c)throw new o(s+" cannot be zero");var l=new i(e,t,n,a),d=r.getDecimalPlaces(e),f=r.getDecimalPlaces(c),p=Math.max(d,f),h=Math.pow(10,p);return Math.round(e*h)%Math.round(c*h)!==0&&l.addError({name:s,argument:c,message:u+JSON.stringify(c)}),l}};function f(e,t,n){var i,o=n.length;for(i=t+1;i<o;i++)if(r.deepCompareStrict(e,n[i]))return!1;return!0}s.multipleOf=function(e,t,n,r){return d.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,n,r){return d.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,n,r){var o=new i(e,t,n,r);return void 0===e&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===c(e,t)&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),o},s.pattern=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=t.pattern;try{var s=new RegExp(a,"u")}catch(u){s=new RegExp(a)}return e.match(s)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}},s.format=function(e,t,n,o){if(void 0!==e){var a=new i(e,t,n,o);return a.disableFormat||r.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},s.minLength=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},s.maxLength=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},s.minItems=function(e,t,n,r){if(this.types.array(e)){var o=new i(e,t,n,r);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},s.maxItems=function(e,t,n,r){if(this.types.array(e)){var o=new i(e,t,n,r);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},s.uniqueItems=function(e,t,n,r){if(!0===t.uniqueItems&&this.types.array(e)){var o=new i(e,t,n,r);return e.every(f)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.dependencies=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);for(var a in t.dependencies)if(void 0!==e[a]){var s=t.dependencies[a],u=r.makeChild(s,a);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(t){void 0===e[t]&&o.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})}));else{var c=this.validateSchema(e,s,n,u);o.instance!==c.instance&&(o.instance=c.instance),c&&c.errors.length&&(o.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),o.importErrors(c))}}return o}},s.enum=function(e,t,n,a){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var s=new i(e,t,n,a);return t.enum.some(r.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,n,o){if(void 0===e)return null;var a=new i(e,t,n,o);return r.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},s.not=s.disallow=function(e,t,n,r){var o=this;if(void 0===e)return null;var a=new i(e,t,n,r),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(i){if(o.testType(e,t,n,r,i)){var s=i&&(i.$id||i.id)||i;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),a):null},e.exports=a},3137:function(e,t,n){"use strict";var r=n(2114),i=t.ValidationError=function(e,t,n,r,i,o){if(Array.isArray(r)?(this.path=r,this.property=r.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==r&&(this.property=r),e&&(this.message=e),n){var a=n.$id||n.id;this.schema=a||n}void 0!==t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var o=t.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.options=n,this.path=r.path,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function a(e,t){return t+": "+e.toString()+"\n"}function s(e){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}o.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new s(this);if(this.throwError)throw t;return t},o.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},o.prototype.toString=function(e){return this.errors.map(a).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=s,s.prototype=new Error,s.prototype.constructor=s,s.prototype.name="Validation Error";var u=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=t.SchemaContext=function(e,t,n,r,i){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=r,this.schemas=i};c.prototype.resolve=function(e){return r.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),i=e.$id||e.id,o=r.resolve(this.base,i||""),a=new c(e,this.options,n,o,Object.create(this.schemas));return i&&!a.schemas[o]&&(a.schemas[o]=e),a};var l=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"===typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(n){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};l.regexp=l.regex,l.pattern=l.regex,l.ipv4=l["ip-address"],t.isFormat=function(e,t,n){if("string"===typeof e&&void 0!==l[t]){if(l[t]instanceof RegExp)return l[t].test(e);if("function"===typeof l[t])return l[t](e)}else if(n&&n.customFormats&&"function"===typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function f(e,t,n,r){"object"===typeof n?t[r]=m(e[r],n):-1===e.indexOf(n)&&t.push(n)}function p(e,t,n){t[n]=e[n]}function h(e,t,n,r){"object"===typeof t[r]&&t[r]&&e[r]?n[r]=m(e[r],t[r]):n[r]=t[r]}function m(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(f.bind(null,e,r))):(e&&"object"===typeof e&&Object.keys(e).forEach(p.bind(null,e,r)),Object.keys(t).forEach(h.bind(null,e,t,r))),r}function v(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!==typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(r,i){return e(t[i],n[i])})));if("object"===typeof t){if(!t||!n)return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every((function(r){return e(t[r],n[r])}))}return t===n},e.exports.deepMerge=m,t.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var i=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(v).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!==typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t},t.isSchema=function(e){return"object"===typeof e&&e||"boolean"===typeof e}},4984:function(e,t,n){"use strict";var r=e.exports.Validator=n(4390);n(3137).ValidatorResult,n(3137).ValidatorResultError,n(3137).ValidationError,n(3137).SchemaError,n(8849),n(8849).R},8849:function(e,t,n){"use strict";var r=n(2114),i=n(3137);function o(e,t){this.id=e,this.ref=t}e.exports.R=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var o=r.resolve(e,t.$ref);c[o]=c[o]?c[o]+1:0}else{var l=t.$id||t.id,d=l?r.resolve(e,l):e;if(d){if(d.indexOf("#")<0&&(d+="#"),u[d]){if(!i.deepCompareStrict(u[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return u[d]}u[d]=t,"#"==d[d.length-1]&&(u[d.substring(0,d.length-1)]=t)}a(d+"/items",Array.isArray(t.items)?t.items:[t.items]),a(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),s(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),s(d+"/definitions",t.definitions),s(d+"/patternProperties",t.patternProperties),s(d+"/dependencies",t.dependencies),a(d+"/disallow",t.disallow),a(d+"/allOf",t.allOf),a(d+"/anyOf",t.anyOf),a(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function a(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function s(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var u={},c={};return n(e,t),new o(u,c)}},4390:function(e,t,n){"use strict";var r=n(2114),i=n(109),o=n(3137),a=n(8849).R,s=o.ValidatorResult,u=o.ValidatorResultError,c=o.SchemaError,l=o.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(p),this.attributes=Object.create(i.validators)};function f(e){var t="string"===typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=a(t||"/",e),i=t||e.$id||e.id;for(var o in r.id)this.schemas[o]=r.id[o];for(var o in r.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return"undefined"===typeof n.schemas[e]})),this.schemas[i]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,i){if("boolean"!==typeof t&&"object"!==typeof t||null===t)throw new c("Expected `schema` to be an object or boolean");n||(n={});var o,d=t.$id||t.id,f=r.resolve(n.base||"/",d||"");if(!i){(i=new l(t,n,[],f,Object.create(this.schemas))).schemas[f]||(i.schemas[f]=t);var p=a(f,t);for(var h in p.id){var m=p.id[h];i.schemas[h]=m}}if(n.required&&void 0===e)return(o=new s(e,t,n,i)).addError("is required, but is undefined"),o;if(!(o=this.validateSchema(e,t,n,i)))throw new Error("Result undefined");if(n.throwAll&&o.errors.length)throw new u(o);return o},d.prototype.validateSchema=function(e,t,n,r){var a=new s(e,t,n,r);if("boolean"===typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var u={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,u)),t=u.schema,u.schema=null,u.ctx=null,u=null}else t=o.deepMerge(t,this.superResolve(t.extends,r));var d=f(t);if(d){var p=this.resolve(t,d,r),h=new l(p.subschema,n,r.path,p.switchSchema,r.schemas);return this.validateSchema(e,p.subschema,n,h)}var m=n&&n.skipAttributes||[];for(var v in t)if(!i.ignoreProperties[v]&&m.indexOf(v)<0){var g=null,y=this.attributes[v];if(y)g=y.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+v,t);g&&a.importErrors(g)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,r);a.instance=b}return a},d.prototype.schemaTraverser=function(e,t){e.schema=o.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=f(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var i=r.parse(t),a=i&&i.hash,s=a&&a.length&&t.substr(0,t.length-a.length);if(!s||!n.schemas[s])throw new c("no such schema <"+t+">",e);var u=o.objectGetPath(n.schemas[s],a.substr(1));if(void 0===u)throw new c("no such schema "+a+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},d.prototype.testType=function(e,t,n,r,i){if(void 0!==i){if(null===i)throw new c('Unexpected null in "type" keyword');if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,n,r);return void 0===o||!(o&&o.errors.length)}return!0}};var p=d.prototype.types={};p.string=function(e){return"string"==typeof e},p.number=function(e){return"number"==typeof e&&isFinite(e)},p.integer=function(e){return"number"==typeof e&&e%1===0},p.boolean=function(e){return"boolean"==typeof e},p.array=function(e){return Array.isArray(e)},p.null=function(e){return null===e},p.date=function(e){return e instanceof Date},p.any=function(e){return!0},p.object=function(e){return e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},8261:function(e,t,n){"use strict";var r=n(6056).default,i=n(8485).default,o=n(4534).default,a="undefined"===typeof URL?n(2114).URL:URL,s=function(e,t){return t.some((function(t){return t instanceof RegExp?t.test(e):t===e}))},u=function(e,t){if(t=r({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return function(e,t){var n=t.stripHash,r=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!r)throw new Error("Invalid URL: ".concat(e));var a=r[1].split(";"),s=r[2],u=n?"":r[3],c=!1;"base64"===a[a.length-1]&&(a.pop(),c=!0);var l=(a.shift()||"").toLowerCase(),d=a.map((function(e){var t=e.split("=").map((function(e){return e.trim()})),n=o(t,2),r=n[0],i=n[1],a=void 0===i?"":i;return"charset"===r&&"us-ascii"===(a=a.toLowerCase())?"":"".concat(r).concat(a?"=".concat(a):"")})).filter(Boolean),f=i(d);return c&&f.push("base64"),(0!==f.length||l&&"text/plain"!==l)&&f.unshift(l),"data:".concat(f.join(";"),",").concat(c?s.trim():s).concat(u?"#".concat(u):"")}(e,t);var n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));var u=new a(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===u.protocol&&(u.protocol="http:"),t.forceHttps&&"http:"===u.protocol&&(u.protocol="https:"),t.stripAuthentication&&(u.username="",u.password=""),t.stripHash&&(u.hash=""),u.pathname&&(u.pathname=u.pathname.replace(/((?!:).|^)\/{2,}/g,(function(e,t){return/^(?!\/)/g.test(t)?"".concat(t,"/"):"/"}))),u.pathname&&(u.pathname=decodeURI(u.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){var c=u.pathname.split("/"),l=c[c.length-1];s(l,t.removeDirectoryIndex)&&(c=c.slice(0,c.length-1),u.pathname=c.slice(1).join("/")+"/")}if(u.hostname&&(u.hostname=u.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(u.hostname)&&(u.hostname=u.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(var d=0,f=i(u.searchParams.keys());d<f.length;d++){var p=f[d];s(p,t.removeQueryParameters)&&u.searchParams.delete(p)}return t.sortQueryParameters&&u.searchParams.sort(),t.removeTrailingSlash&&(u.pathname=u.pathname.replace(/\/$/,"")),e=u.toString(),!t.removeTrailingSlash&&"/"!==u.pathname||""!==u.hash||(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};e.exports=u,e.exports.default=u},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},2584:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"===typeof u.get?u.get:null,l=s&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,y="function"===typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"===typeof Symbol&&"object"===typeof Symbol.iterator,w=Object.prototype.propertyIsEnumerable,E=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),S=n(4654).custom,T=S&&L(S)?S:null,M="function"===typeof Symbol&&"undefined"!==typeof Symbol.toStringTag?Symbol.toStringTag:null;function A(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function C(e){return String(e).replace(/"/g,"&quot;")}function O(e){return"[object Array]"===R(e)&&(!M||!("object"===typeof e&&M in e))}function L(e){if(_)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!x)return!1;try{return x.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(N(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(N(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!N(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(N(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return I(t,s);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var m="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=m&&m>0&&"object"===typeof t)return O(t)?"[Array]":"[Object]";var b=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(s,r);if("undefined"===typeof i)i=[];else if(P(i,t)>=0)return"[Circular]";function w(t,n,o){if(n&&(i=i.slice()).push(n),o){var a={depth:s.depth};return N(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t){var S=function(e){if(e.name)return e.name;var t=g.call(v.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),k=B(t,w);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(k.length>0?" { "+k.join(", ")+" }":"")}if(L(t)){var j=_?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(t);return"object"!==typeof t||_?j:D(j)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var V="<"+String(t.nodeName).toLowerCase(),G=t.attributes||[],H=0;H<G.length;H++)V+=" "+G[H].name+"="+A(C(G[H].value),"double",s);return V+=">",t.childNodes&&t.childNodes.length&&(V+="..."),V+="</"+String(t.nodeName).toLowerCase()+">"}if(O(t)){if(0===t.length)return"[]";var W=B(t,w);return b&&!function(e){for(var t=0;t<e.length;t++)if(P(e[t],"\n")>=0)return!1;return!0}(W)?"["+U(W,b)+"]":"[ "+W.join(", ")+" ]"}if(function(e){return"[object Error]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t)){var q=B(t,w);return 0===q.length?"["+String(t)+"]":"{ ["+String(t)+"] "+q.join(", ")+" }"}if("object"===typeof t&&u){if(T&&"function"===typeof t[T])return t[T]();if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(V){return!0}return e instanceof Map}catch(t){}return!1}(t)){var Z=[];return a.call(t,(function(e,n){Z.push(w(n,t,!0)+" => "+w(e,t))})),z("Map",o.call(t),Z,b)}if(function(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var Y=[];return l.call(t,(function(e){Y.push(w(e,t))})),z("Set",c.call(t),Y,b)}if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(V){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return F("WeakMap");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(V){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return F("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return F("WeakRef");if(function(e){return"[object Number]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t))return D(w(Number(t)));if(function(e){if(!e||"object"!==typeof e||!y)return!1;try{return y.call(e),!0}catch(t){}return!1}(t))return D(w(y.call(t)));if(function(e){return"[object Boolean]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t))return D(h.call(t));if(function(e){return"[object String]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t))return D(w(String(t)));if(!function(e){return"[object Date]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t)&&!function(e){return"[object RegExp]"===R(e)&&(!M||!("object"===typeof e&&M in e))}(t)){var $=B(t,w),X=E?E(t)===Object.prototype:t instanceof Object||t.constructor===Object,J=t instanceof Object?"":"null prototype",K=!X&&M&&Object(t)===t&&M in t?R(t).slice(8,-1):J?"Object":"",Q=(X||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(K||J?"["+[].concat(K||[],J||[]).join(": ")+"] ":"");return 0===$.length?Q+"{}":b?Q+"{"+U($,b)+"}":Q+"{ "+$.join(", ")+" }"}return String(t)};var k=Object.prototype.hasOwnProperty||function(e){return e in this};function N(e,t){return k.call(e,t)}function R(e){return m.call(e)}function P(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function I(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return I(e.slice(0,t.maxStringLength),t)+r}return A(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,j),"single",t)}function j(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function D(e){return"Object("+e+")"}function F(e){return e+" { ? }"}function z(e,t,n,r){return e+" ("+t+") {"+(r?U(n,r):n.join(", "))+"}"}function U(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function B(e,t){var n=O(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=N(e,i)?t(e[i],e):""}var o,a="function"===typeof b?b(e):[];if(_){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)N(e,u)&&(n&&String(Number(u))===u&&u<e.length||_&&o["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof b)for(var c=0;c<a.length;c++)w.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},5039:function(e,t,n){"use strict";var r=n(3682),i=n(1599),o=n(4245);e.exports=function(e){e=(e||"").trim();var t={protocols:r(e),protocol:null,port:null,resource:"",user:"",pathname:"",hash:"",search:"",href:e,query:Object.create(null)},n=e.indexOf("://"),a=null,s=null;e.startsWith(".")&&(e.startsWith("./")&&(e=e.substring(2)),t.pathname=e,t.protocol="file");var u=e.charAt(1);return t.protocol||(t.protocol=t.protocols[0],t.protocol||(i(e)?t.protocol="ssh":"/"===u||"~"===u?(e=e.substring(2),t.protocol="file"):t.protocol="file")),-1!==n&&(e=e.substring(n+3)),s=e.split(/\/|\\/),"file"!==t.protocol?t.resource=s.shift():t.resource="",2===(a=t.resource.split("@")).length&&(t.user=a[0],t.resource=a[1]),2===(a=t.resource.split(":")).length&&(t.resource=a[0],a[1]?(t.port=Number(a[1]),isNaN(t.port)&&(t.port=null,s.unshift(a[1]))):t.port=null),s=s.filter(Boolean),"file"===t.protocol?t.pathname=t.href:t.pathname=t.pathname||("file"!==t.protocol||"/"===t.href[0]?"/":"")+s.join("/"),2===(a=t.pathname.split("#")).length&&(t.pathname=a[0],t.hash=a[1]),2===(a=t.pathname.split("?")).length&&(t.pathname=a[0],t.search=a[1]),t.query=o.parse(t.search),t.href=t.href.replace(/\/$/,""),t.pathname=t.pathname.replace(/\/$/,""),t}},1272:function(e,t,n){"use strict";var r=n(5039),i=n(8261);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!==typeof e||!e.trim())throw new Error("Invalid url.");t&&("object"!==typeof t&&(t={stripHash:!1}),e=i(e,t));var n=r(e);return n}},6151:function(e,t,n){var r=n(2878);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,f)s+=f[1];else{var h=e[a],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=h&&h!==m,w="+"===b||"*"===b,E="?"===b||"*"===b,S=n[2]||l,T=g||y;r.push({name:v||o++,prefix:m||"",delimiter:S,optional:E,repeat:w,partial:_,asterisk:!!x,pattern:T?c(T):x?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=u(n.delimiter||"/"),m=a.slice(-h.length)===h;return i||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+h+"|$)",l(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},2878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3682:function(e){"use strict";e.exports=function(e,t){!0===t&&(t=0);var n=e.indexOf("://"),r=e.substring(0,n).split("+").filter(Boolean);return"number"===typeof t?r[t]:r}},9874:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},2808:function(e,t,n){"use strict";var r=n(2334),i=n(4360),o=n(9874);e.exports={formats:o,parse:i,stringify:r}},4360:function(e,t,n){"use strict";var r=n(4184),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var d=0;n.depth>0&&null!==(s=a.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:a[c]=i:a={0:i}}i=a}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var l="string"===typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,d),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?h="utf-8":"utf8=%26%2310003%3B"===f[n]&&(h="iso-8859-1"),p=n,n=f.length);for(n=0;n<f.length;++n)if(n!==p){var m,v,g=f[n],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(m=t.decoder(g,a.decoder,h,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),a.decoder,h,"key"),v=r.maybeMap(u(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),v&&t.interpretNumericEntities&&"iso-8859-1"===h&&(v=s(v)),g.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(c,m)?c[m]=r.combine(c[m],v):c[m]=v}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},f=Object.keys(l),p=0;p<f.length;++p){var h=f[p],m=c(h,l[h],n,"string"===typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},2334:function(e,t,n){"use strict";var r=n(581),i=n(4184),o=n(9874),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(t,n,o,a,s,c,d,f,h,m,v,g,y,b,x){var _,w=t;if(x.has(t))throw new RangeError("Cyclic object value");if("function"===typeof d?w=d(n,w):w instanceof Date?w=m(w):"comma"===o&&u(w)&&(w=i.maybeMap(w,(function(e){return e instanceof Date?m(e):e}))),null===w){if(a)return c&&!y?c(n,p.encoder,b,"key",v):n;w=""}if("string"===typeof(_=w)||"number"===typeof _||"boolean"===typeof _||"symbol"===typeof _||"bigint"===typeof _||i.isBuffer(w))return c?[g(y?n:c(n,p.encoder,b,"key",v))+"="+g(c(w,p.encoder,b,"value",v))]:[g(n)+"="+g(String(w))];var E,S=[];if("undefined"===typeof w)return S;if("comma"===o&&u(w))E=[{value:w.length>0?w.join(",")||null:void 0}];else if(u(d))E=d;else{var T=Object.keys(w);E=f?T.sort(f):T}for(var M=0;M<E.length;++M){var A=E[M],C="object"===typeof A&&void 0!==A.value?A.value:w[A];if(!s||null!==C){var O=u(w)?"function"===typeof o?o(n,A):n:n+(h?"."+A:"["+A+"]");x.set(t,!0);var L=r();l(S,e(C,O,o,a,s,c,d,f,h,m,v,g,y,b,L))}}return S};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=p.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?p.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:p.encode,encoder:"function"===typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"===typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(n=c.filter);var d,f=[];if("object"!==typeof i||null===i)return"";d=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=s[d];n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var v=r(),g=0;g<n.length;++g){var y=n[g];c.skipNulls&&null===i[y]||l(f,h(i[y],y,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var b=f.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},4184:function(e,t,n){"use strict";var r=n(9874),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"===typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},4245:function(e,t,n){"use strict";var r=n(4534).default,i=n(9504).default,o=n(8485).default,a=n(499),s=n(9412),u=n(845),c=n(2683);function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function f(e,t){return t.decode?s(e):e}function p(e){return Array.isArray(e)?e.sort():"object"===typeof e?p(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function h(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&f(n,e).includes(e.arrayFormatSeparator);n=o?f(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return f(t,e)})):null===n?n:f(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!==typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(""!==c){var d=u(t.decode?c.replace(/\+/g," "):c,"="),h=r(d,2),m=h[0],g=h[1];g=void 0===g?null:["comma","separator"].includes(t.arrayFormat)?g:f(g,t),n(f(m,t),g,o)}}}catch(T){s.e(T)}finally{s.f()}for(var y=0,b=Object.keys(o);y<b.length;y++){var x=b[y],_=o[x];if("object"===typeof _&&null!==_)for(var w=0,E=Object.keys(_);w<E.length;w++){var S=E[w];_[S]=v(_[S],t)}else o[x]=v(_,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=p(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=g,t.stringify=function(e,t){if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[d(t,e),"=",d(r,e)].join("")]:[[n,d(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];n(u)||(i[u]=e[u])}var c=Object.keys(i);return!1!==t.sort&&c.sort(t.sort),c.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:g(m(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:f(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var u=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:c(a,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,d,f,p,h=e[c].replace(a,"%20"),m=h.indexOf(r);m>=0?(l=h.substr(0,m),d=h.substr(m+1)):(l=h,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),t(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(h,e)&&(f.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,S=60107,T=60108,M=60114,A=60109,C=60110,O=60112,L=60113,k=60120,N=60115,R=60116,P=60121,I=60128,j=60129,D=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),E=z("react.portal"),S=z("react.fragment"),T=z("react.strict_mode"),M=z("react.profiler"),A=z("react.provider"),C=z("react.context"),O=z("react.forward_ref"),L=z("react.suspense"),k=z("react.suspense_list"),N=z("react.memo"),R=z("react.lazy"),P=z("react.block"),z("react.scope"),I=z("react.opaque.id"),j=z("react.debug_trace_mode"),D=z("react.offscreen"),F=z("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function G(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function q(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case M:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return Z(e.type);case P:return Z(e._render);case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,Oe=null;function Le(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ae(e.stateNode,e.type,t))}}function ke(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var je=Re,De=!1,Fe=!1;function ze(){null===Ce&&null===Oe||(Ie(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Be=!1}function Ge(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,qe=!1,Ze=null,Ye={onError:function(e){He=!0,We=e}};function $e(e,t,n,r,i,o,a,s,u){He=!1,We=null,Ge.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Xe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,dt=new Map,ft=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},Mt={};function At(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mt)return Tt[e]=n[t];return e}d&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=At("animationend"),Ot=At("animationiteration"),Lt=At("animationstart"),kt=At("transitionend"),Nt=new Map,Rt=new Map,Pt=["abort","abort",Ct,"animationEnd",Ot,"animationIteration",Lt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Nt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Dt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Dt(u),i=jt):0!==(s&=o)&&(r=Dt(s),i=jt)}else 0!==(o=n&~a)?(r=Dt(o),i=jt):0!==s&&(r=Dt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Dt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/qt|0)|0},Wt=Math.log,qt=Math.LN2;var Zt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Xt(e,t,n,r){De||Ie();var i=Kt,o=De;De=!0;try{Pe(i,e,t,n,r)}finally{(De=o)||ze()}}function Jt(e,t,n,r){Yt(Zt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ht(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Ir(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Me(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),hn=i({},fn,{view:0,detail:0}),mn=un(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(i({},vn,{dataTransfer:0})),bn=un(i({},hn,{relatedTarget:0})),xn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(_n),En=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function Cn(){return An}var On=i({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=un(On),kn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=un(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=un(Pn),jn=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var zn=d&&"TextEvent"in window&&!Fn,Un=d&&(!Dn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),Vn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){ke(r),0<(t=Dr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Xn=null;function Jn(e){Or(e,0)}function Kn(e){if(J(ii(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Xn=$n=null)}function or(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];if(Yn(t,Xn,e,Me(e)),e=Jn,De)e(t);else{De=!0;try{Re(e,t)}finally{De=!1,ze()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ur(e,t){if("click"===e)return Kn(t)}function cr(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,_r=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==K(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&fr(_r,r)||(_r=r,0<(r=Dr(xr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Pt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Rt.set(Sr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(a(198));var l=We;He=!1,We=null,qe||(qe=!0,Ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(qe)throw e=Ze,qe=!1,Ze=null,e}function Lr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[kr]||(e[kr]=!0,s.forEach((function(t){Ar.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,ze()}}((function(){var r=o,i=Me(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var u=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Ln;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ct:case Ot:case Lt:u=xn;break;case kt:u=Rn;break;case"scroll":u=mn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ue(h,f))&&l.push(jr(h,m,p)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:ii(u),p=null==c?s:ii(c),(s=new l(m,h+"leave",u,n,i)).target=d,s.relatedTarget=p,m=null,ni(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Fr(p))h++;for(p=0,m=f;m;m=Fr(m))p++;for(;0<h-p;)l=Fr(l),h--;for(;0<p-h;)f=Fr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&zr(a,s,u,l,!1),null!==c&&null!==d&&zr(a,d,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(Zn(s))if(er)v=cr;else{v=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Yn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(br=g,xr=r,_r=null);break;case"focusout":_r=xr=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Gn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Gn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Or(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Ue(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Br=null,Vr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Jr,Qr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Kr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Kr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Qr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function di(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},pi=ci(fi),hi=ci(!1),mi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(hi),li(pi)}function bi(e,t,n){if(pi.current!==fi)throw Error(a(168));di(pi,t),di(hi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,mi=pi.current,di(pi,e),di(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(pi),di(pi,e)):li(hi),di(hi,n)}var Ei=null,Si=null,Ti=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Li=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Di={},Fi=void 0!==Oi?Oi:function(){},zi=null,Ui=null,Bi=!1,Vi=Li(),Gi=1e4>Vi?Li:function(){return Li()-Vi};function Hi(){switch(ki()){case Ni:return 99;case Ri:return 98;case Pi:return 97;case Ii:return 96;case ji:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ni;case 98:return Ri;case 97:return Pi;case 96:return Ii;case 95:return ji;default:throw Error(a(332))}}function qi(e,t){return e=Wi(e),Ti(e,t)}function Zi(e,t,n){return e=Wi(e),Mi(e,t,n)}function Yi(){if(null!==Ui){var e=Ui;Ui=null,Ai(e)}$i()}function $i(){if(!Bi&&null!==zi){Bi=!0;var e=0;try{var t=zi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Mi(Ni,Yi),n}finally{Bi=!1}}}var Xi=_.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ci(null),Qi=null,eo=null,to=null;function no(){to=eo=Qi=null}function ro(e){var t=Ki.current;li(Ki),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Qi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Da=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qi)throw Error(a(308));eo=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,d=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(u=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,u);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=m.payload)?h.call(p,f,u):h)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=p,c=f):d=d.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=d,Bs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=pu(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=pu(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=pu(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),hu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function xo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:pi.current,i.context=vi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Mo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Zu(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Zu(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(Eo(t)||V(t))return(t=Yu(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||V(n))return null!==i?null:d(e,t,n,r,null);To(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(a=o(d,a,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var d=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case w:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=So(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Yu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Zu(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xu(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,u);if(V(o))return v(e,r,o,u);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Z(e.type)||"Component"))}return n(e,r)}}var Ao=Mo(!0),Co=Mo(!1),Oo={},Lo=ci(Oo),ko=ci(Oo),No=ci(Oo);function Ro(e){if(e===Oo)throw Error(a(174));return e}function Po(e,t){switch(di(No,t),di(ko,e),di(Lo,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Lo),di(Lo,t)}function Io(){li(Lo),li(ko),li(No)}function jo(e){Ro(No.current);var t=Ro(Lo.current),n=he(t,e.type);t!==n&&(di(ko,e),di(Lo,n))}function Do(e){ko.current===e&&(li(Lo),li(ko))}var Fo=ci(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Bo=null,Vo=!1;function Go(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Vo){var t=Bo;if(t){var n=t;if(!Ho(e,t)){if(!(t=Yr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Go(Uo,n)}Uo=e,Bo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Zo(e){if(e!==Uo)return!1;if(!Vo)return qo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Bo;t;)Go(e,t),t=Yr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Uo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Bo=Uo=null,Vo=!1}var $o=[];function Xo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Jo=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Qo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Qo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Ra:Pa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Jo.current=Ia,e=n(r,i)}while(ia)}if(Jo.current=Na,t=null!==ta&&null!==ta.next,Qo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Qo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function ha(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Jo.current,c=u.useState((function(){return pa(i,t,n)})),l=c[1],d=c[0];c=na;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,m=f.source;f=f.subscribe;var v=ea;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=pu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ht(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=pu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(h,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=l=ka.bind(null,ea,e),c.queue=e,c.baseQueue=null,d=pa(i,t,n),c.memoizedState=c.baseState=d),d}function ma(e,t,n){return ha(ca(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=ka.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function xa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return xa(516,4,e,t)}function Ea(e,t){return _a(516,4,e,t)}function Sa(e,t){return _a(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ma(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ta.bind(null,t,e),n)}function Aa(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function La(e,t){var n=Hi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function ka(e,t,n){var r=fu(),i=pu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}hu(e,i,r)}}var Na={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ka.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Aa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return wa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=La.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Ma,useLayoutEffect:Sa,useMemo:Oa,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ea((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Ma,useLayoutEffect:Sa,useMemo:Oa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ea((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},ja=_.ReactCurrentOwner,Da=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):Ao(t,e.child,n,r)}function za(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Da=!0)}return Ha(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Fa(e,t,i,n),t.child}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=gi(n)?mi:pi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=gi(n)?mi:pi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,ho(t,r,a,i),u=t.memoizedState,s!==r||f!==u||hi.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=gi(n)?mi:pi.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&_o(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,ho(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||hi.current||so?("function"===typeof p&&(go(t,n,p,r),h=t.memoizedState),(c=so||bo(t,n,c,r,f,h,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Ga(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Po(e,t.containerInfo)}var Ya,$a,Xa,Ja={dehydrated:null,retryLane:0};function Ka(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Yu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=qu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(a,s),null!==e?r=qu(e,r):(r=Yu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Io(),li(hi),li(pi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Ro(No.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Lo.current),Zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Qr]=s,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(e=0;e<Mr.length;e++)Lr(Mr[e],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":ee(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ue(r,s),Lr("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Lr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Qr]=r,Ya(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),o=r;break;case"iframe":case"object":case"embed":Lr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Lr(Mr[o],e);o=r;break;case"source":Lr("error",e),o=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),o=r;break;case"details":Lr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Lr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Lr("invalid",e);break;default:o=r}Se(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Lr("scroll",e):null!=d&&x(e,s,d,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(No.current),Ro(Lo.current),Zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Zo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Bs)&&0===(134217727&Vs)||yu(Rs,Is))),(r||n)&&(t.flags|=4),null);case 4:return Io(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Fo.current,di(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),li(hi),li(pi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Io(),null;case 10:return ro(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Lo.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Lr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===I?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ps(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Zr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(t,n);else{r=t;try{i()}catch(o){Uu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uu(t,o)}break;case 5:ms(t);break;case 4:Ts(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ss(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ms(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Gi(),ys(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Os=Math.ceil,Ls=_.ReactCurrentDispatcher,ks=_.ReactCurrentOwner,Ns=0,Rs=null,Ps=null,Is=0,js=0,Ds=ci(0),Fs=0,zs=null,Us=0,Bs=0,Vs=0,Gs=0,Hs=null,Ws=0,qs=1/0;function Zs(){qs=Gi()+500}var Ys,$s=null,Xs=!1,Js=null,Ks=null,Qs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,du=!1;function fu(){return 0!==(48&Ns)?Gi():-1!==su?su:su=Gi()}function pu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Us),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ns)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=mu(e,t)))return null;Gt(e,t,n),e===Rs&&(Vs|=t,4===Fs&&yu(e,Is));var r=Hi();1===t?0!==(8&Ns)&&0===(48&Ns)?bu(e):(vu(e,n),0===Ns&&(Zs(),Yi())):(0===(4&Ns)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Hs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Dt(c);var d=jt;o[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?Is:0),t=jt,0===r)null!==n&&(n!==Di&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ai(n)}15===t?(n=bu.bind(null,e),null===zi?(zi=[n],Ui=Mi(Ni,$i)):zi.push(n),n=Di):14===t?n=Zi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Zi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ns))throw Error(a(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Is:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var o=Mu();for(Rs===e&&Is===r||(Zs(),Su(e,r));;)try{Ou();break}catch(u){Tu(e,u)}if(no(),Ls.current=o,Ns=i,null!==Ps?r=0:(Rs=null,Is=0,r=Fs),0!==(Us&Vs))Su(e,0);else if(0!==r){if(2===r&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(n=zt(e))&&(r=Au(e,n))),1===r)throw t=zs,Su(e,0),yu(e,n),vu(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Nu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Gi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Nu.bind(null,e),r);break}Nu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){e.timeoutHandle=Wr(Nu.bind(null,e),n);break}Nu(e);break;default:throw Error(a(329))}}return vu(e,Gi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Gs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ns))throw Error(a(327));if(Iu(),e===Rs&&0!==(e.expiredLanes&Is)){var t=Is,n=Au(e,t);0!==(Us&Vs)&&(n=Au(e,t=Ft(e,t)))}else n=Au(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(t=zt(e))&&(n=Au(e,t))),1===n)throw n=zs,Su(e,0),yu(e,t),vu(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e),vu(e,Gi()),null}function xu(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Zs(),Yi())}}function _u(e,t){var n=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=n)&&(Zs(),Yi())}}function wu(e,t){di(Ds,js),js|=t,Us|=t}function Eu(){js=Ds.current,li(Ds)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Io(),li(hi),li(pi),Xo();break;case 5:Do(r);break;case 4:Io();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Rs=e,Ps=qu(e.current,null),Is=js=Us=t,Fs=0,zs=null,Gs=Vs=Bs=0}function Tu(e,t){for(;;){var n=Ps;try{if(no(),Jo.current=Na,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Qo=0,na=ta=ea=null,ia=!1,ks.current=null,null===n||null===n.return){Fs=1,zs=t,Ps=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Fo.current),f=a;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=f.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var x=Bu.bind(null,o,c,s);c.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,po(f,fs(0,o,t));break e;case 1:o=u;var _=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ks||!Ks.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,po(f,ps(f,o,t));break e}}f=f.return}while(null!==f)}ku(n)}catch(E){t=E,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Mu(){var e=Ls.current;return Ls.current=Na,null===e?Na:e}function Au(e,t){var n=Ns;Ns|=16;var r=Mu();for(Rs===e&&Is===t||Su(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(no(),Ns=n,Ls.current=r,null!==Ps)throw Error(a(261));return Rs=null,Is=0,Fs}function Cu(){for(;null!==Ps;)Lu(Ps)}function Ou(){for(;null!==Ps&&!Ci();)Lu(Ps)}function Lu(e){var t=Ys(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?ku(e):Ps=t,ks.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Fs&&(Fs=5)}function Nu(e){var t=Hi();return qi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Iu()}while(null!==eu);if(0!==(48&Ns))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Ht(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ps=Rs=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,ks.current=null,Br=$t,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(M){u=null;break e}var d=0,f=-1,p=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(f=d+o),v!==c||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++h===o&&(f=d),g===c&&++m===l&&(p=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,lu=null,du=!1,$s=r;do{try{Pu()}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ye($s.stateNode,""),128&b){var x=$s.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ws($s),$s.flags&=-3;break;case 6:ws($s),$s.flags&=-3,Ms($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ms($s.alternate,$s);break;case 4:Ms($s.alternate,$s);break;case 8:Ts(s,u=$s);var w=u.alternate;xs(u),null!==w&&xs(w)}$s=$s.nextEffect}}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);if(_=Vr,x=vr(),b=_.focusedElem,s=_.selectionRange,x!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(x=s.start,void 0===(_=s.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!_.extend&&w>s&&(u=s,s=w,w=u),u=hr(b,w),o=hr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),w>s?(_.addRange(x),_.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Br,Vr=Br=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var E=$s.flags;if(36&E&&gs(b,$s.alternate,$s),128&E){x=void 0;var S=$s.ref;if(null!==S){var T=$s.stateNode;$s.tag,x=T,"function"===typeof S?S(x):S.current=x}}$s=$s.nextEffect}}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Ns=i}else e.current=n;if(Qs)Qs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(M){}if(vu(e,Gi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ns)||Yi(),null}function Pu(){for(;null!==$s;){var e=$s.alternate;du||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(du=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(du=!0));var t=$s.flags;0!==(256&t)&&vs(e,$s),0===(512&t)||Qs||(Qs=!0,Zi(97,(function(){return Iu(),null}))),$s=$s.nextEffect}}function Iu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,qi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Qs||(Qs=!0,Zi(97,(function(){return Iu(),null})))}function Du(e,t){ru.push(t,e),Qs||(Qs=!0,Zi(97,(function(){return Iu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ns))throw Error(a(331));var t=Ns;Ns|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ns=t,Yi(),!0}function zu(e,t,n){fo(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=mu(e,1))&&(Gt(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)zu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=ps(n,e=cs(t,e),1);if(fo(n,i),i=fu(),null!==(n=mu(n,1)))Gt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Is&n)===n&&(4===Fs||3===Fs&&(62914560&Is)===Is&&500>Gi()-Ws?Su(e,0):Gs|=n),vu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Us),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=mu(e,t))&&(Gt(e,t,n),vu(e,n))}function Gu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Gu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Yu(n.children,i,o,t);case j:s=8,i|=16;break;case T:s=8,i|=1;break;case M:return(e=Hu(12,n,t,8|i)).elementType=M,e.type=M,e.lanes=o,e;case L:return(e=Hu(13,n,t,i)).type=L,e.elementType=L,e.lanes=o,e;case k:return(e=Hu(19,n,t,i)).elementType=k,e.lanes=o,e;case D:return $u(n,i,o,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case O:s=11;break e;case N:s=14;break e;case R:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=D,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=pu(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=xi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),hu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ku(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Qu(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,t.tag){case 3:Za(t),Yo();break;case 5:jo(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ka(e,t,n):(di(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);di(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Da=0!==(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,pi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===N)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=za(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Yr(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return jo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Ga(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ka(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(di(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Ua(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oo(t,n),xo(t,r,i),wo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=pu(e);hu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=xu,Pe=function(e,t,n,r,i){var o=Ns;Ns|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ns=o)&&(Zs(),Yi())}},Ie=function(){0===(49&Ns)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Gi())}))}Yi()}(),Iu())},je=function(e,t){var n=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=n)&&(Zs(),Yi())}};var uc={Events:[ri,ii,oi,ke,Ne,Iu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ei=dc.inject(lc),Si=dc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ns;if(0!==(48&n))return e(t);Ns|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ns=n,Yi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+M(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+M(s=e[c],c);u+=A(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,l=r+M(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var L={current:null};function k(){var e=L.current;if(null===e)throw Error(p(321));return e}var N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return k().useCallback(e,t)},t.useContext=function(e,t){return k().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return k().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return k().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return k().useLayoutEffect(e,t)},t.useMemo=function(e,t){return k().useMemo(e,t)},t.useReducer=function(e,t,n){return k().useReducer(e,t,n)},t.useRef=function(e){return k().useRef(e)},t.useState=function(e){return k().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(k){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(O([])));_&&_!==n&&r.call(_,o)&&(b=_);var w=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(m=!1,v=null)}catch(n){throw _.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,_.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],A=[],C=1,O=null,L=3,k=!1,N=!1,R=!1;function P(e){for(var t=E(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,w(M,t)}t=E(A)}}function I(e){if(R=!1,P(e),!N)if(null!==E(M))N=!0,n(j);else{var t=E(A);null!==t&&r(I,t.startTime-e)}}function j(e,n){N=!1,R&&(R=!1,i()),k=!0;var o=L;try{for(P(n),O=E(M);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,L=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?O.callback=s:O===E(M)&&S(M),P(n)}else S(M);O=E(M)}if(null!==O)var u=!0;else{var c=E(A);null!==c&&r(I,c.startTime-n),u=!1}return u}finally{O=null,L=o,k=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return E(M)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,w(A,e),null===E(M)&&e===E(A)&&(R?i():R=!0,r(I,a-s))):(e.sortIndex=u,w(M,e),N||k||(N=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},581:function(e,t,n){"use strict";var r=n(2506),i=n(4037),o=n(2584),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(u){if(t)return f(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),l(e,r,i)):u?(t||(t=new u),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},845:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},9388:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return a},XA:function(){return s},CR:function(){return u},fl:function(){return c}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},6369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(f[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=u)e=p(e/35);return p(r+36*e/(e+38))}function w(e){var t,n,r,i,o,a,c,l,d,f,h,v=[],g=e.length,y=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,a=1,c=u;i>=g&&m("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>p((s-y)/a))&&m("overflow"),y+=l*a,!(l<(d=c<=w?1:c>=w+26?26:c-w));c+=u)a>p(s/(f=u-d))&&m("overflow"),a*=f;w=_(y-o,t=v.length+1,0==o),p(y/t)>s-x&&m("overflow"),x+=p(y/t),y%=t,v.splice(y++,0,x)}return b(v)}function E(e){var t,n,r,i,o,a,c,l,d,f,v,g,b,w,E,S=[];for(g=(e=y(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(v=e[a])<128&&S.push(h(v));for(r=i=S.length,i&&S.push("-");r<g;){for(c=s,a=0;a<g;++a)(v=e[a])>=t&&v<c&&(c=v);for(c-t>p((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<g;++a)if((v=e[a])<t&&++n>s&&m("overflow"),v==t){for(l=n,d=u;!(l<(f=d<=o?1:d>=o+26?26:d-o));d+=u)E=l-f,w=u-f,S.push(h(x(f+E%w,0))),l=p(E/w);S.push(h(x(l,0))),o=_(n,b,r==i),n=0,++r}++n,++t}return S.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:w,encode:E,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){"use strict";var r=n(6369),i=n(9939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(863);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||_&&v[_]||(b=b.substr(2),this.slashes=!0)}if(!v[_]&&(E||_&&!g[_])){for(var S,T,M=-1,A=0;A<f.length;A++){-1!==(C=b.indexOf(f[A]))&&(-1===M||C<M)&&(M=C)}-1!==(T=-1===M?b.lastIndexOf("@"):b.lastIndexOf("@",M))&&(S=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(S)),M=-1;for(A=0;A<d.length;A++){var C;-1!==(C=b.indexOf(d[A]))&&(-1===M||C<M)&&(M=C)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var L=this.hostname.split(/\./),k=(A=0,L.length);A<k;A++){var N=L[A];if(N&&!N.match(p)){for(var R="",P=0,I=N.length;P<I;P++)N.charCodeAt(P)>127?R+="x":R+=N[P];if(!R.match(p)){var j=L.slice(0,A),D=L.slice(A+1),F=N.match(h);F&&(j.push(F[1]),D.unshift(F[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(A=0,k=l.length;A<k;A++){var B=l[A];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var W=this.search||"";this.path=z+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=x||b||n.host&&e.pathname,w=_,E=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===E[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=E.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=E.slice(-1)[0],M=(n.host||e.host||E.length>1)&&("."===T||".."===T)||""===T,A=0,C=E.length;C>=0;C--)"."===(T=E[C])?E.splice(C,1):".."===T?(E.splice(C,1),A++):A&&(E.splice(C,1),A--);if(!_&&!w)for(;A--;A)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),M&&"/"!==E.join("/").substr(-1)&&E.push("");var O,L=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=L?"":E.length?E.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(_=_||n.host&&E.length)&&!L&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},9939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5314:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},807:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},4011:function(e,t,n){var r=n(5314);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},9504:function(e,t,n){var r=n(5816);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.default=e.exports,e.exports.__esModule=!0},8181:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},5962:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1581:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},6258:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},4815:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},6056:function(e,t,n){var r=n(8181);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},4534:function(e,t,n){var r=n(807),i=n(1581),o=n(5816),a=n(6258);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},8485:function(e,t,n){var r=n(4011),i=n(5962),o=n(5816),a=n(4815);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},5816:function(e,t,n){var r=n(5314);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},4322:function(e,t,n){e.exports=n(9727)},9061:function(e,t,n){var r={"./BANK":[7872,872],"./BANK.tsx":[7872,872],"./CAMERA":[123,123],"./CAMERA.tsx":[123,123],"./CONTACTS":[6352,352],"./CONTACTS.tsx":[6352,352],"./DIALER":[8624,624],"./DIALER.tsx":[8624,624],"./EMAIL":[3609,609],"./EMAIL.tsx":[3609,609],"./EXAMPLE":[1409,409],"./EXAMPLE.tsx":[1409,409],"./LOCATION":[3448,448],"./LOCATION.tsx":[3448,448],"./MARKETPLACE":[6327,327],"./MARKETPLACE.tsx":[6327,327],"./MESSAGES":[5695,695],"./MESSAGES.tsx":[5695,695],"./NOTES":[3960,960],"./NOTES.tsx":[3960,960],"./PHOTO":[1087,87],"./PHOTO.tsx":[1087,87],"./SETTINGS":[8227,227],"./SETTINGS.tsx":[8227,227],"./SOCIETY_CONTACTS":[684,684],"./SOCIETY_CONTACTS.tsx":[684,684],"./SOCIETY_MESSAGES":[288,288],"./SOCIETY_MESSAGES.tsx":[288,288]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=9061,e.exports=i},7452:function(e,t,n){var r={"./BANK":[3501,501],"./BANK.tsx":[3501,501],"./CAMERA":[8934,934],"./CAMERA.tsx":[8934,934],"./CONTACTS":[2811,811],"./CONTACTS.tsx":[2811,811],"./DIALER":[9163,163],"./DIALER.tsx":[9163,163],"./EMAIL":[7547,547],"./EMAIL.tsx":[7547,547],"./EXAMPLE":[3042,42],"./EXAMPLE.tsx":[3042,42],"./LOCATION":[9440,440],"./LOCATION.tsx":[9440,440],"./MARKETPLACE":[9867,867],"./MARKETPLACE.tsx":[9867,867],"./MESSAGES":[4723,723],"./MESSAGES.tsx":[4723,723],"./NOTES":[7012,12],"./NOTES.tsx":[7012,12],"./SETTINGS":[7727,727],"./SETTINGS.tsx":[7727,727],"./SOCIETY_CONTACTS":[152,152],"./SOCIETY_CONTACTS.tsx":[152,152],"./SOCIETY_MESSAGES":[7774,774],"./SOCIETY_MESSAGES.tsx":[7774,774]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=7452,e.exports=i},4654:function(){},6222:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},8489:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(6222);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{12:"674ff85b",42:"b1eda8c1",87:"7e068401",123:"1a352b5c",152:"29a7b6f4",163:"b362e60a",227:"53ee9946",288:"fb8f3af5",327:"a89930e0",352:"8f46521c",409:"a6458eb5",440:"a4bfc359",448:"1c0b1ed3",501:"61540812",547:"7c2eddba",609:"5c8f6cb7",624:"34fc9021",684:"8319e9b6",695:"c2b188bf",723:"360986a5",727:"44c02aad",774:"b6e42041",811:"66542615",867:"e564fa34",872:"cc01c4ba",934:"cc5193d8",960:"36ceb11c"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="npwd-nui:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/html/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0},r=self.webpackChunknpwd_nui=self.webpackChunknpwd_nui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();n(5298)}();