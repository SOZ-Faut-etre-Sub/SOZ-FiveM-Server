var F=Object.defineProperty,H=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var M=(e,n,i)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,l=(e,n)=>{for(var i in n||(n={}))D.call(n,i)&&M(e,i,n[i]);if(j)for(var i of j(n))J.call(n,i)&&M(e,i,n[i]);return e},d=(e,n)=>H(e,T(n));import{j as K,a as G,F as Q,A as g,l as k,y as U,S as W}from"./vendor.js";const X=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const p of t.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function _(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};X();var Y="/html/assets/radio-sr.png",Z="/html/assets/radio-lr.png";const ee="_container_we8kz_1",ne="_container_show_we8kz_8",te="_container_hide_we8kz_12",oe="_radio_we8kz_16",ie="_screen_we8kz_22",ae="_actions_we8kz_32",ce="_action_style_we8kz_36",_e="_action_enable_we8kz_47 _action_style_we8kz_36",re="_action_validate_we8kz_55 _action_style_we8kz_36",se="_action_mix_we8kz_63 _action_style_we8kz_36",le="_action_volume_up_we8kz_72 _action_style_we8kz_36",de="_action_volume_down_we8kz_80 _action_style_we8kz_36",fe="_action_freq_primary_we8kz_89 _action_style_we8kz_36",ye="_action_freq_secondary_we8kz_97 _action_style_we8kz_36";var ue={container:ee,container_show:ne,container_hide:te,radio:oe,screen:ie,actions:ae,action_style:ce,action_enable:_e,action_validate:re,action_mix:se,action_volume_up:le,action_volume_down:de,action_freq_primary:fe,action_freq_secondary:ye};const me="_container_eif0e_1",he="_container_show_eif0e_8",ve="_container_hide_eif0e_12",pe="_radio_eif0e_16",we="_screen_eif0e_22",ge="_actions_eif0e_38",qe="_action_style_eif0e_42",ke="_action_enable_eif0e_53 _action_style_eif0e_42",$e="_action_validate_eif0e_61 _action_style_eif0e_42",ze="_action_mix_eif0e_69 _action_style_eif0e_42",Ce="_action_volume_up_eif0e_78 _action_style_eif0e_42",be="_action_volume_down_eif0e_86 _action_style_eif0e_42",xe="_action_freq_primary_eif0e_95 _action_style_eif0e_42",Le="_action_freq_secondary_eif0e_103 _action_style_eif0e_42";var Ae={container:me,container_show:he,container_hide:ve,radio:pe,screen:we,actions:ge,action_style:qe,action_enable:ke,action_validate:$e,action_mix:ze,action_volume_up:Ce,action_volume_down:be,action_freq_primary:xe,action_freq_secondary:Le},q=(e=>(e[e.Left=0]="Left",e[e.Both=1]="Both",e[e.Right=2]="Right",e))(q||{});const Be="_screen_1cqr1_1",Re="_enabled_1cqr1_19",Se="_frequency_1cqr1_27",je="_meta_1cqr1_73";var $={screen:Be,enabled:Re,frequency:Se,meta:je};const a=K,w=G,O=Q,Me=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a("path",{"fill-rule":"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z","clip-rule":"evenodd"})}),Ne=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:a("path",{d:"M512 287.9l-.0042 112C511.1 444.1 476.1 480 432 480c-26.47 0-48-21.56-48-48.06V304.1C384 277.6 405.5 256 432 256c10.83 0 20.91 2.723 30.3 6.678C449.7 159.1 362.1 80.13 256 80.13S62.29 159.1 49.7 262.7C59.09 258.7 69.17 256 80 256C106.5 256 128 277.6 128 304.1v127.9C128 458.4 106.5 480 80 480c-44.11 0-79.1-35.88-79.1-80.06L0 288c0-141.2 114.8-256 256-256c140.9 0 255.6 114.5 255.1 255.3C511.1 287.5 511.1 287.7 512 287.9z"})}),Oe=({enabled:e,currentFrequency:n,primaryFrequency:i,setPrimaryFrequency:_,secondaryFrequency:o,setSecondaryFrequency:t})=>{const p=g(r=>{let y=n==="primary"?i.frequency:o.frequency;/^[0-9]{3}\.[0-9]{2}$/.test(r.target.value)&&(y=parseFloat(r.target.value)),n==="primary"?_(f=>d(l({},f),{frequency:y})):t(f=>d(l({},f),{frequency:y}))},[n,_,t]),m=r=>{switch(r){case q.Left:return"L";case q.Both:return"L/R";case q.Right:return"R"}};return a("div",{class:`${$.screen} ${e?$.enabled:""}`,children:e&&w(O,{children:[w("div",{className:$.frequency,children:[a("span",{children:n==="primary"?"F1":"F2"}),a("input",{type:"text",maxLength:6,value:(n==="primary"?i.frequency:o.frequency).toFixed(2),onChange:p})]}),w("span",{className:$.meta,children:[w("div",{children:[a(Me,{}),n==="primary"?i.volume:o.volume,"%"]}),w("div",{children:[a(Ne,{}),m(n==="primary"?i.ear:o.ear)]})]})]})})},Pe="https://soz-talk";function z(e,n={},i){e.charAt(0)!=="/"&&(e=`/${e}`),fetch(`${Pe}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(_=>{_.ok&&_.json().then(o=>{o==="ok"&&i()})}).catch(_=>console.error(_))}const N=e=>{const[n,i]=k(!1),[_,o]=k(!1),[t,p]=k("primary"),[m,r]=k({frequency:0,volume:100,ear:q.Both}),[y,f]=k({frequency:0,volume:100,ear:q.Both}),P=e.type==="radio"?Y:Z,s=e.type==="radio"?ue:Ae,I=g(()=>{z(`/${e.type}/enable`,{state:!_},()=>{o(c=>!c)})},[_,o]),A=g(c=>{p(c)},[p]),V=g(()=>{const c=t==="primary"?m.ear:y.ear;let v=q[c+1]!==void 0?c+1:0;z(`/${e.type}/change_ear`,{[t]:v},()=>{t==="primary"?r(h=>d(l({},h),{ear:v})):f(h=>d(l({},h),{ear:v}))})},[t,m,y,r,f]),B=g(c=>{c>=0&&c<=100&&z(`/${e.type}/change_volume`,{[t]:c},()=>{t==="primary"?r(v=>d(l({},v),{volume:c})):f(v=>d(l({},v),{volume:c}))})},[t,r,f]),E=g(()=>{const c=(t==="primary"?m.frequency:y.frequency)*100;c>=1e4&&c<=99999&&z(`/${e.type}/change_frequency`,{[t]:c},()=>{})},[t,m,y]),R=g(c=>{const{type:v,action:h,frequency:C,volume:b,ear:x,isPrimary:L,isEnabled:S}=c.data;v===e.type&&(h==="open"?i(!0):h==="close"?i(!1):h==="enabled"?S!==void 0&&o(S):h==="frequency_change"?C&&(L?r(u=>d(l({},u),{frequency:C/100})):f(u=>d(l({},u),{frequency:C/100}))):h==="volume_change"?b&&(L?r(u=>d(l({},u),{volume:b})):f(u=>d(l({},u),{volume:b}))):h==="ear_change"&&x&&(L?r(u=>d(l({},u),{ear:x})):f(u=>d(l({},u),{ear:x}))))},[]);return U(()=>(window.addEventListener("message",R),()=>{window.removeEventListener("message",R)}),[]),w("div",{class:`${s.container} ${n?s.container_show:s.container_hide}`,children:[a("img",{class:s.radio,src:P,alt:"Radio"}),a("div",{class:s.screen,children:a(Oe,{enabled:_,currentFrequency:t,primaryFrequency:m,setPrimaryFrequency:r,secondaryFrequency:y,setSecondaryFrequency:f})}),w("div",{class:s.actions,children:[a("div",{class:s.action_enable,onClick:I}),a("div",{class:s.action_validate,onClick:E}),a("div",{class:s.action_mix,onClick:V}),a("div",{class:s.action_volume_up,onClick:()=>B(t==="primary"?m.volume+10:y.volume+10)}),a("div",{class:s.action_volume_down,onClick:()=>B(t==="primary"?m.volume-10:y.volume-10)}),a("div",{class:s.action_freq_primary,onClick:()=>A("primary")}),a("div",{class:s.action_freq_secondary,onClick:()=>A("secondary")})]})]})},Ie=()=>w(O,{children:[a(N,{type:"radio"}),a(N,{type:"cibi"})]});W(a(Ie,{}),document.getElementById("app"));
