var H=Object.defineProperty,T=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var M=(e,n,i)=>n in e?H(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,r=(e,n)=>{for(var i in n||(n={}))J.call(n,i)&&M(e,i,n[i]);if(j)for(var i of j(n))K.call(n,i)&&M(e,i,n[i]);return e},l=(e,n)=>T(e,D(n));import{j as G,a as Q,F as U,A as g,l as q,y as W,S as X}from"./vendor.js";const Y=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))_(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function _(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}};Y();var Z="/html/assets/radio-sr.png",ee="/html/assets/radio-lr.png";const ne="_container_1uio1_1",oe="_container_show_1uio1_8",te="_container_hide_1uio1_12",ce="_radio_1uio1_16",ie="_screen_1uio1_22",ae="_actions_1uio1_32",_e="_action_style_1uio1_36",se="_action_enable_1uio1_47 _action_style_1uio1_36",re="_action_validate_1uio1_55 _action_style_1uio1_36",le="_action_mix_1uio1_63 _action_style_1uio1_36",de="_action_close_1uio1_71",ue="_action_volume_up_1uio1_84 _action_style_1uio1_36",fe="_action_volume_down_1uio1_92 _action_style_1uio1_36",ye="_action_freq_primary_1uio1_101 _action_style_1uio1_36",me="_action_freq_secondary_1uio1_109 _action_style_1uio1_36";var he={container:ne,container_show:oe,container_hide:te,radio:ce,screen:ie,actions:ae,action_style:_e,action_enable:se,action_validate:re,action_mix:le,action_close:de,action_volume_up:ue,action_volume_down:fe,action_freq_primary:ye,action_freq_secondary:me};const ve="_container_19dzc_1",pe="_container_show_19dzc_8",ge="_container_hide_19dzc_12",we="_radio_19dzc_16",$e="_screen_19dzc_22",qe="_actions_19dzc_38",Ce="_action_style_19dzc_42",ze="_action_enable_19dzc_53 _action_style_19dzc_42",xe="_action_validate_19dzc_61 _action_style_19dzc_42",be="_action_mix_19dzc_69 _action_style_19dzc_42",Le="_action_close_19dzc_77",ke="_action_volume_up_19dzc_90 _action_style_19dzc_42",Ae="_action_volume_down_19dzc_98 _action_style_19dzc_42",Be="_action_freq_primary_19dzc_107 _action_style_19dzc_42",Re="_action_freq_secondary_19dzc_115 _action_style_19dzc_42";var Se={container:ve,container_show:pe,container_hide:ge,radio:we,screen:$e,actions:qe,action_style:Ce,action_enable:ze,action_validate:xe,action_mix:be,action_close:Le,action_volume_up:ke,action_volume_down:Ae,action_freq_primary:Be,action_freq_secondary:Re},$=(e=>(e[e.Left=0]="Left",e[e.Both=1]="Both",e[e.Right=2]="Right",e))($||{});const je="_screen_1xhmt_1",Me="_enabled_1xhmt_10",Ie="_frequency_1xhmt_14",Ne="_meta_1xhmt_37";var z={screen:je,enabled:Me,frequency:Ie,meta:Ne};const c=G,w=Q,N=U,Oe=()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c("path",{"fill-rule":"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z","clip-rule":"evenodd"})}),Pe=()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:c("path",{d:"M512 287.9l-.0042 112C511.1 444.1 476.1 480 432 480c-26.47 0-48-21.56-48-48.06V304.1C384 277.6 405.5 256 432 256c10.83 0 20.91 2.723 30.3 6.678C449.7 159.1 362.1 80.13 256 80.13S62.29 159.1 49.7 262.7C59.09 258.7 69.17 256 80 256C106.5 256 128 277.6 128 304.1v127.9C128 458.4 106.5 480 80 480c-44.11 0-79.1-35.88-79.1-80.06L0 288c0-141.2 114.8-256 256-256c140.9 0 255.6 114.5 255.1 255.3C511.1 287.5 511.1 287.7 512 287.9z"})}),Ve=({enabled:e,currentFrequency:n,primaryFrequency:i,setPrimaryFrequency:_,secondaryFrequency:t,setSecondaryFrequency:o})=>{const p=g(d=>{let f=n==="primary"?i.frequency:t.frequency;/^[0-9]{3}\.[0-9]{2}$/.test(d.target.value)&&(f=parseFloat(d.target.value)),n==="primary"?_(u=>l(r({},u),{frequency:f})):o(u=>l(r({},u),{frequency:f}))},[n,_,o]),m=d=>{switch(d){case $.Left:return"L";case $.Both:return"L/R";case $.Right:return"R"}};return c("div",{class:`${z.screen} ${e?z.enabled:""}`,children:e&&w(N,{children:[w("div",{className:z.frequency,children:[c("span",{children:n==="primary"?"F1":"F2"}),c("input",{type:"text",maxLength:6,value:(n==="primary"?i.frequency:t.frequency).toFixed(2),onChange:p})]}),w("span",{className:z.meta,children:[w("div",{children:[c(Oe,{}),n==="primary"?i.volume:t.volume,"%"]}),w("div",{children:[c(Pe,{}),m(n==="primary"?i.ear:t.ear)]})]})]})})},Ee="https://soz-talk";function C(e,n={},i){e.charAt(0)!=="/"&&(e=`/${e}`),fetch(`${Ee}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(_=>{_.ok&&_.json().then(t=>{t==="ok"&&i()})}).catch(_=>console.error(_))}const Fe=e=>c("svg",l(r({},e),{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})})),I=e=>{const[n,i]=q(!1),[_,t]=q(!1),[o,p]=q("primary"),[m,d]=q({frequency:0,volume:100,ear:$.Both}),[f,u]=q({frequency:0,volume:100,ear:$.Both}),O=e.type==="radio"?Z:ee,s=e.type==="radio"?he:Se,P=g(()=>{C(`/${e.type}/enable`,{state:!_},()=>{t(a=>!a)})},[_,t]),A=g(a=>{p(a)},[p]),V=g(()=>{const a=o==="primary"?m.ear:f.ear;let v=$[a+1]!==void 0?a+1:0;C(`/${e.type}/change_ear`,{[o]:v},()=>{o==="primary"?d(h=>l(r({},h),{ear:v})):u(h=>l(r({},h),{ear:v}))})},[o,m,f,d,u]),B=g(a=>{a>=0&&a<=100&&C(`/${e.type}/change_volume`,{[o]:a},()=>{o==="primary"?d(v=>l(r({},v),{volume:a})):u(v=>l(r({},v),{volume:a}))})},[o,d,u]),E=g(()=>{const a=(o==="primary"?m.frequency:f.frequency)*100;a>=1e4&&a<=99999&&C(`/${e.type}/change_frequency`,{[o]:a},()=>{})},[o,m,f]),F=g(()=>{C(`/${e.type}/toggle`,{state:!1},()=>{i(!1)})},[i]),R=g(a=>{const{type:v,action:h,frequency:x,volume:b,ear:L,isPrimary:k,isEnabled:S}=a.data;v===e.type&&(h==="open"?i(!0):h==="close"?i(!1):h==="enabled"?S!==void 0&&t(S):h==="frequency_change"?x&&(k?d(y=>l(r({},y),{frequency:x/100})):u(y=>l(r({},y),{frequency:x/100}))):h==="volume_change"?b&&(k?d(y=>l(r({},y),{volume:b})):u(y=>l(r({},y),{volume:b}))):h==="ear_change"&&L&&(k?d(y=>l(r({},y),{ear:L})):u(y=>l(r({},y),{ear:L}))))},[]);return W(()=>(window.addEventListener("message",R),()=>{window.removeEventListener("message",R)}),[]),w("div",{class:`${s.container} ${n?s.container_show:s.container_hide}`,children:[c("img",{class:s.radio,src:O,alt:"Radio"}),c("div",{class:s.screen,children:c(Ve,{enabled:_,currentFrequency:o,primaryFrequency:m,setPrimaryFrequency:d,secondaryFrequency:f,setSecondaryFrequency:u})}),w("div",{class:s.actions,children:[c("div",{class:s.action_enable,onClick:P}),c("div",{class:s.action_validate,onClick:E}),c("div",{class:s.action_mix,onClick:V}),c(Fe,{class:s.action_close,onClick:F}),c("div",{class:s.action_volume_up,onClick:()=>B(o==="primary"?m.volume+10:f.volume+10)}),c("div",{class:s.action_volume_down,onClick:()=>B(o==="primary"?m.volume-10:f.volume-10)}),c("div",{class:s.action_freq_primary,onClick:()=>A("primary")}),c("div",{class:s.action_freq_secondary,onClick:()=>A("secondary")})]})]})},He=()=>w(N,{children:[c(I,{type:"radio"}),c(I,{type:"cibi"})]});X(c(He,{}),document.getElementById("app"));
