var F=Object.defineProperty,H=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var I=(e,n,a)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,s=(e,n)=>{for(var a in n||(n={}))D.call(n,a)&&I(e,a,n[a]);if(M)for(var a of M(n))J.call(n,a)&&I(e,a,n[a]);return e},l=(e,n)=>H(e,T(n));import{j as K,a as G,F as Q,A as g,l as q,y as U,S as W}from"./vendor.js";const X=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const p of t.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function _(o){if(o.ep)return;o.ep=!0;const t=a(o);fetch(o.href,t)}};X();var Y="/html/assets/radio-sr.png",Z="/html/assets/radio-lr.png";const ee="_container_lmxl4_1",ne="_container_show_lmxl4_8",te="_container_hide_lmxl4_12",oe="_radio_lmxl4_16",ce="_screen_lmxl4_22",ae="_actions_lmxl4_32",ie="_action_style_lmxl4_36",_e="_action_enable_lmxl4_47 _action_style_lmxl4_36",re="_action_validate_lmxl4_55 _action_style_lmxl4_36",se="_action_mix_lmxl4_63 _action_style_lmxl4_36",le="_action_close_lmxl4_71",de="_action_volume_up_lmxl4_83 _action_style_lmxl4_36",me="_action_volume_down_lmxl4_91 _action_style_lmxl4_36",fe="_action_freq_primary_lmxl4_100 _action_style_lmxl4_36",ye="_action_freq_secondary_lmxl4_108 _action_style_lmxl4_36";var ue={container:ee,container_show:ne,container_hide:te,radio:oe,screen:ce,actions:ae,action_style:ie,action_enable:_e,action_validate:re,action_mix:se,action_close:le,action_volume_up:de,action_volume_down:me,action_freq_primary:fe,action_freq_secondary:ye};const he="_container_15wc2_1",ve="_container_show_15wc2_8",pe="_container_hide_15wc2_12",we="_radio_15wc2_16",ge="_screen_15wc2_22",xe="_actions_15wc2_38",qe="_action_style_15wc2_42",$e="_action_enable_15wc2_53 _action_style_15wc2_42",Ce="_action_validate_15wc2_61 _action_style_15wc2_42",be="_action_mix_15wc2_69 _action_style_15wc2_42",Le="_action_close_15wc2_77",ke="_action_volume_up_15wc2_89 _action_style_15wc2_42",Ae="_action_volume_down_15wc2_97 _action_style_15wc2_42",Be="_action_freq_primary_15wc2_106 _action_style_15wc2_42",Re="_action_freq_secondary_15wc2_114 _action_style_15wc2_42";var Se={container:he,container_show:ve,container_hide:pe,radio:we,screen:ge,actions:xe,action_style:qe,action_enable:$e,action_validate:Ce,action_mix:be,action_close:Le,action_volume_up:ke,action_volume_down:Ae,action_freq_primary:Be,action_freq_secondary:Re},x=(e=>(e[e.Left=0]="Left",e[e.Both=1]="Both",e[e.Right=2]="Right",e))(x||{});const je="_screen_1cqr1_1",Me="_enabled_1cqr1_19",Ie="_frequency_1cqr1_27",Ne="_meta_1cqr1_73";var $={screen:je,enabled:Me,frequency:Ie,meta:Ne};const c=K,w=G,O=Q,Oe=()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c("path",{"fill-rule":"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z","clip-rule":"evenodd"})}),Pe=()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:c("path",{d:"M512 287.9l-.0042 112C511.1 444.1 476.1 480 432 480c-26.47 0-48-21.56-48-48.06V304.1C384 277.6 405.5 256 432 256c10.83 0 20.91 2.723 30.3 6.678C449.7 159.1 362.1 80.13 256 80.13S62.29 159.1 49.7 262.7C59.09 258.7 69.17 256 80 256C106.5 256 128 277.6 128 304.1v127.9C128 458.4 106.5 480 80 480c-44.11 0-79.1-35.88-79.1-80.06L0 288c0-141.2 114.8-256 256-256c140.9 0 255.6 114.5 255.1 255.3C511.1 287.5 511.1 287.7 512 287.9z"})}),ze=({enabled:e,currentFrequency:n,primaryFrequency:a,setPrimaryFrequency:_,secondaryFrequency:o,setSecondaryFrequency:t})=>{const p=g(d=>{let f=n==="primary"?a.frequency:o.frequency;/^[0-9]{3}\.[0-9]{2}$/.test(d.target.value)&&(f=parseFloat(d.target.value)),n==="primary"?_(m=>l(s({},m),{frequency:f})):t(m=>l(s({},m),{frequency:f}))},[n,_,t]),u=d=>{switch(d){case x.Left:return"L";case x.Both:return"L/R";case x.Right:return"R"}};return c("div",{class:`${$.screen} ${e?$.enabled:""}`,children:e&&w(O,{children:[w("div",{className:$.frequency,children:[c("span",{children:n==="primary"?"F1":"F2"}),c("input",{type:"text",maxLength:6,value:(n==="primary"?a.frequency:o.frequency).toFixed(2),onChange:p})]}),w("span",{className:$.meta,children:[w("div",{children:[c(Oe,{}),n==="primary"?a.volume:o.volume,"%"]}),w("div",{children:[c(Pe,{}),u(n==="primary"?a.ear:o.ear)]})]})]})})},Ve="https://soz-talk";function C(e,n={},a){e.charAt(0)!=="/"&&(e=`/${e}`),fetch(`${Ve}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(_=>{_.ok&&_.json().then(o=>{o==="ok"&&a()})}).catch(_=>console.error(_))}const Ee=e=>c("svg",l(s({},e),{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})})),N=e=>{const[n,a]=q(!1),[_,o]=q(!1),[t,p]=q("primary"),[u,d]=q({frequency:0,volume:100,ear:x.Both}),[f,m]=q({frequency:0,volume:100,ear:x.Both}),P=e.type==="radio"?Y:Z,r=e.type==="radio"?ue:Se,z=g(()=>{C(`/${e.type}/enable`,{state:!_},()=>{o(i=>!i)})},[_,o]),B=g(i=>{p(i)},[p]),V=g(()=>{const i=t==="primary"?u.ear:f.ear;let v=x[i+1]!==void 0?i+1:0;C(`/${e.type}/change_ear`,{[t]:v},()=>{t==="primary"?d(h=>l(s({},h),{ear:v})):m(h=>l(s({},h),{ear:v}))})},[t,u,f,d,m]),R=g(i=>{i>=0&&i<=100&&C(`/${e.type}/change_volume`,{[t]:i},()=>{t==="primary"?d(v=>l(s({},v),{volume:i})):m(v=>l(s({},v),{volume:i}))})},[t,d,m]),E=g(()=>{const i=(t==="primary"?u.frequency:f.frequency)*100;i>=1e4&&i<=99999&&C(`/${e.type}/change_frequency`,{[t]:i},()=>{})},[t,u,f]),S=g(i=>{const{type:v,action:h,frequency:b,volume:L,ear:k,isPrimary:A,isEnabled:j}=i.data;v===e.type&&(h==="open"?a(!0):h==="close"?a(!1):h==="enabled"?j!==void 0&&o(j):h==="frequency_change"?b&&(A?d(y=>l(s({},y),{frequency:b/100})):m(y=>l(s({},y),{frequency:b/100}))):h==="volume_change"?L&&(A?d(y=>l(s({},y),{volume:L})):m(y=>l(s({},y),{volume:L}))):h==="ear_change"&&k&&(A?d(y=>l(s({},y),{ear:k})):m(y=>l(s({},y),{ear:k}))))},[]);return U(()=>(window.addEventListener("message",S),()=>{window.removeEventListener("message",S)}),[]),w("div",{class:`${r.container} ${n?r.container_show:r.container_hide}`,children:[c("img",{class:r.radio,src:P,alt:"Radio"}),c("div",{class:r.screen,children:c(ze,{enabled:_,currentFrequency:t,primaryFrequency:u,setPrimaryFrequency:d,secondaryFrequency:f,setSecondaryFrequency:m})}),w("div",{class:r.actions,children:[c("div",{class:r.action_enable,onClick:z}),c("div",{class:r.action_validate,onClick:E}),c("div",{class:r.action_mix,onClick:V}),c(Ee,{class:r.action_close,onClick:()=>a(!1)}),c("div",{class:r.action_volume_up,onClick:()=>R(t==="primary"?u.volume+10:f.volume+10)}),c("div",{class:r.action_volume_down,onClick:()=>R(t==="primary"?u.volume-10:f.volume-10)}),c("div",{class:r.action_freq_primary,onClick:()=>B("primary")}),c("div",{class:r.action_freq_secondary,onClick:()=>B("secondary")})]})]})},Fe=()=>w(O,{children:[c(N,{type:"radio"}),c(N,{type:"cibi"})]});W(c(Fe,{}),document.getElementById("app"));
