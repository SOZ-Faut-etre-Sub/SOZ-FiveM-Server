/*! For license information please see main.dd7a8a73.js.LICENSE.txt */
!function(){var e={1302:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},7634:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},5449:function(e,t,n){var r=n(1302);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6304:function(e,t,n){var r=n(4409);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},3418:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4076:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1007:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},4927:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4455:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8078:function(e,t,n){var r=n(3418);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2655:function(e,t,n){var r=n(7634),i=n(1007),o=n(4409),a=n(4927);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},7936:function(e,t,n){var r=n(5449),i=n(4076),o=n(4409),a=n(4455);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},4409:function(e,t,n){var r=n(1302);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7581:function(e,t,n){e.exports=n(8882)},6463:function(e,t,n){"use strict";n.d(t,{Xb:function(){return f},vc:function(){return v},Gd:function(){return m},cu:function(){return p}});var r=n(2586),i=n(3436),o=n(3434),a=n(2507),s=n(9602),u=n(3862),c=n(648),l=n(4703),d=function(){function e(e){this.errors=0,this.sid=(0,i.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=c.$.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,i.DM)()),e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),"number"===typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===c.$.Ok?this.update({status:c.$.Exited}):this.update()},e.prototype.toJSON=function(){return(0,l.Jr)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,l.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),f=function(){function e(e,t,n){void 0===t&&(t=new u.s),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=(0,i.DM)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,(0,r.pi)((0,r.pi)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=(0,i.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(u){s=u}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,(0,r.pi)((0,r.pi)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=(0,i.DM)();return this._invokeClient("captureEvent",e,(0,r.pi)((0,r.pi)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var u=s.getOptions&&s.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,d=u.maxBreadcrumbs,f=void 0===d?100:d;if(!(f<=0)){var p=(0,o.yW)(),h=(0,r.pi)({timestamp:p},e),m=l?(0,i.Cf)((function(){return l(h,t)})):h;null!==m&&a.addBreadcrumb(m,Math.min(f,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=h(this);try{e(this)}finally{h(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return a.k.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,u=new d((0,r.pi)((0,r.pi)({release:a,environment:s},n&&{user:n.getUser()}),e));return n&&n.setSession(u),u},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,(0,r.fl)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=p(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[e])return i.extensions[e].apply(this,t);a.k.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function p(){var e=(0,i.Rf)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function h(e){var t=p(),n=y(t);return b(t,e),n}function m(){var e=p();return g(e)&&!y(e).isOlderThan(3)||b(e,new f),(0,s.KV)()?function(e){try{var t=v();if(!t)return y(e);if(!g(t)||y(t).isOlderThan(3)){var n=y(e).getStackTop();b(t,new f(n.client,u.s.clone(n.scope)))}return y(t)}catch(r){return y(e)}}(e):y(e)}function v(){var e=p().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}function g(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new f),e.__SENTRY__.hub}function b(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},3862:function(e,t,n){"use strict";n.d(t,{s:function(){return u},c:function(){return l}});var r=n(2586),i=n(9188),o=n(3434),a=n(7057),s=n(3436),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.fl)(t._breadcrumbs),n._tags=(0,r.pi)({},t._tags),n._extra=(0,r.pi)({},t._extra),n._contexts=(0,r.pi)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.fl)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),t._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):(0,i.PO)(t)&&(t=t,this._tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(0,r.pi)({timestamp:(0,o.yW)()},e);return this._breadcrumbs=void 0!==t&&t>=0?(0,r.fl)(this._breadcrumbs,[n]).slice(-t):(0,r.fl)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.pi)((0,r.pi)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.pi)({trace:this._span.getTraceContext()},e.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(e.tags=(0,r.pi)({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.fl)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors((0,r.fl)(c(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.c((function(a,u){var c=e[o];if(null===t||"function"!==typeof c)a(t);else{var l=c((0,r.pi)({},t),n);(0,i.J8)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(e,l,n,o+1).then(a).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function c(){var e=(0,s.Rf)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function l(e){c().push(e)}},7410:function(e,t,n){"use strict";n.d(t,{ro:function(){return _},lb:function(){return x}});var r,i=n(2586),o=n(6463);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(r||(r={}));var a=n(2507),s=n(9602),u=n(9188),c=n(3436),l=n(5248),d=n(5506),f=n(2259);function p(){var e=(0,f.x1)();e&&(a.k.log("[Tracing] Transaction: "+d.p.InternalError+" -> Global error occured"),e.setStatus(d.p.InternalError))}var h=n(1063),m=n(4454);function v(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function g(e,t,n){var o,s,u=e.getClient(),c=u&&u.getOptions()||{};return u&&(0,f.zu)(c)?void 0!==t.sampled?(t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Explicit}),t):("function"===typeof c.tracesSampler?(s=c.tracesSampler(n),t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Sampler,__sentry_sampleRate:String(Number(s))})):void 0!==n.parentSampled?(s=n.parentSampled,t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Inheritance})):(s=c.tracesSampleRate,t.tags=(0,i.pi)((0,i.pi)({},t.tags),{__sentry_samplingMethod:r.Rate,__sentry_sampleRate:String(Number(s))})),function(e){if(isNaN(e)||"number"!==typeof e&&"boolean"!==typeof e)return a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1;if(e<0||e>1)return a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1;return!0}(s)?s?(t.sampled=Math.random()<s,t.sampled?(t.initSpanRecorder(null===(o=c._experiments)||void 0===o?void 0:o.maxSpans),a.k.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(a.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(s)+")"),t)):(a.k.log("[Tracing] Discarding transaction because "+("function"===typeof c.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(a.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t)}function y(t){var n={transactionContext:t,parentSampled:t.parentSampled};if((0,s.KV)()){var r=(0,o.vc)();if(r){var a=(0,s.l$)(e,"http").IncomingMessage,l=r.members.find((function(e){return(0,u.V9)(e,a)}));l&&(n.request=(0,s.SB)(l))}}else{var d=(0,c.Rf)();"location"in d&&(n.location=(0,i.pi)({},d.location))}return n}function b(e,t){return g(this,new m.Y(e,this),(0,i.pi)((0,i.pi)({},y(e)),t))}function x(e,t,n,r){return g(e,new h.io(t,e,n,r),y(t))}function _(){!function(){var e=(0,o.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=b),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=v))}(),(0,l.o)({callback:p,type:"error"}),(0,l.o)({callback:p,type:"unhandledrejection"})}e=n.hmd(e)},1063:function(e,t,n){"use strict";n.d(t,{nT:function(){return c},io:function(){return d}});var r=n(2586),i=n(3434),o=n(2507),a=n(7901),s=n(5506),u=n(4454),c=1e3,l=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"===typeof e?e:(0,i._I)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(a.g),d=function(e){function t(t,n,r,i){void 0===r&&(r=c),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(f(n),o.k.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(e){return e.setSpan(a)}))),a}return(0,r.ZT)(t,e),t.prototype.finish=function(t){var n,a,u=this;if(void 0===t&&(t=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){o.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var c=(0,r.XA)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next()){(0,l.value)(this,t)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===u.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(s.p.Cancelled),o.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||o.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),this._onScope&&f(this._idleHub),o.k.log("[Tracing] flushing IdleTransaction")}else o.k.log("[Tracing] No active IdleTransaction");return e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;if(!this.spanRecorder){this._initTimeout=setTimeout((function(){t._finished||t.finish()}),this._idleTimeout);this.spanRecorder=new l((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),o.k.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.k.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(o.k.log("[Tracing] popActivity "+e),delete this.activities[e],o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){t._finished||t.finish(r)}),n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce((function(e,t){return e+t})):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(o.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(s.p.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;o.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){e._beat()}),5e3)},t}(u.Y);function f(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}},3701:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(2586),i=n(9602),o=n(2507),a=n(4703);e=n.hmd(e);var s=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},c=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:s,this._describeOperations=!("describeOperations"in e)||e.describeOperations}return t.prototype.setupOnce=function(t,n){var r;try{r=(0,i.l$)(e,"mongodb").Collection}catch(a){return void o.k.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},t.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach((function(t){return r._patchOperation(e,t,n)}))},t.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,a.hl)(e.prototype,t,(function(e){return function(){for(var o,a,s,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l=u[u.length-1],d=n().getScope(),f=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!==typeof l||"mapReduce"===t&&2===u.length){var p=null===(a=f)||void 0===a?void 0:a.startChild(i(this,t,u));return e.call.apply(e,(0,r.fl)([this],u)).then((function(e){var t;return null===(t=p)||void 0===t||t.finish(),e}))}var h=null===(s=f)||void 0===s?void 0:s.startChild(i(this,t,u.slice(0,-1)));return e.call.apply(e,(0,r.fl)([this],u.slice(0,-1),[function(e,t){var n;null===(n=h)||void 0===n||n.finish(),l(e,t)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(e,t,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},o={op:"db",description:t,data:i},a=u[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!a||!s)return o;try{if("mapReduce"===t){var c=(0,r.CR)(n,2),l=c[0],d=c[1];i[a[0]]="string"===typeof l?l:l.name||"<anonymous>",i[a[1]]="string"===typeof d?d:d.name||"<anonymous>"}else for(var f=0;f<a.length;f++)i[a[f]]=JSON.stringify(n[f])}catch(p){}return o},t.id="Mongo",t}()},7465:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(9602),i=n(2507),o=n(4703);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.l$)(e,"mysql/lib/Connection.js")}catch(s){return void i.k.error("Mysql Integration was unable to require `mysql` package.")}(0,o.hl)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.sql,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t,n){var r;null===(r=s)||void 0===r||r.finish(),i(e,t,n)})):"function"===typeof r?e.call(this,t,(function(e,t,n){var i;null===(i=s)||void 0===i||i.finish(),r(e,t,n)})):e.call(this,t,r,i)}}))},t.id="Mysql",t}()},4170:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(9602),i=n(2507),o=n(4703);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.l$)(e,"pg").Client}catch(s){return void i.k.error("Postgres Integration was unable to require `pg` package.")}(0,o.hl)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.text,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),i(e,t)})):"function"===typeof r?e.call(this,t,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),r(e,t)})):e.call(this,t,r).then((function(e){var t;return null===(t=s)||void 0===t||t.finish(),e}))}}))},t.id="Postgres",t}()},7901:function(e,t,n){"use strict";n.d(t,{g:function(){return u},D:function(){return c}});var r=n(2586),i=n(3436),o=n(3434),a=n(4703),s=n(5506),u=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),c=function(){function e(e){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.pi)((0,r.pi)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=s.p.fromHttpCode(e);return t!==s.p.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===s.p.Ok},e.prototype.finish=function(e){this.endTimestamp="number"===typeof e?e:(0,o._I)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},5506:function(e,t,n){"use strict";var r;n.d(t,{p:function(){return r}}),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(r||(r={})),function(e){e.fromHttpCode=function(t){if(t<400)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(r||(r={}))},4454:function(e,t,n){"use strict";n.d(t,{Y:function(){return u}});var r=n(2586),i=n(6463),o=n(9188),a=n(2507),s=n(7901),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=t.name?t.name:"",r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.ZT)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new s.g(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.pi)({},e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(a.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction"};return Object.keys(this._measurements).length>0&&(a.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}a.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t}(s.D)},2259:function(e,t,n){"use strict";n.d(t,{zu:function(){return o},qG:function(){return a},x1:function(){return s},XL:function(){return u},WB:function(){return c}});var r=n(6463),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){return"tracesSampleRate"in e||"tracesSampler"in e}function a(e){var t=e.match(i);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function s(e){var t,n;return void 0===e&&(e=(0,r.Gd)()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function u(e){return e/1e3}function c(e){return 1e3*e}},648:function(e,t,n){"use strict";var r;n.d(t,{$:function(){return r}}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={}))},4570:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(9188);function i(e){try{for(var t=e,n=[],r=0,i=0,a=" > ".length,s=void 0;t&&r++<5&&!("html"===(s=o(t))||r>1&&i+n.length*a+s.length>=80);)n.push(s),i+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(u){return"<unknown>"}}function o(e){var t,n,i,o,a,s=e,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),(t=s.className)&&(0,r.HD)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)u.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)i=c[a],(o=s.getAttribute(i))&&u.push("["+i+'="'+o+'"]');return u.join("")}},5248:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var r,i=n(2586),o=n(9188),a=n(2507),s=n(3436),u=n(4703),c=n(6524),l=n(612),d=(0,s.Rf)(),f={},p={};function h(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in d.console&&(0,u.hl)(d.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",w("click",v.bind(null,"dom")),!1),d.document.addEventListener("keypress",E(v.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=d[e]&&d[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,u.hl)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&(0,u.hl)(n,"handleEvent",(function(e){return function(t){return w("click",v.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&(0,u.hl)(n,"handleEvent",(function(e){return function(t){return E(v.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&w("click",v.bind(null,"dom"),!0)(this),"keypress"===t&&E(v.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),(0,u.hl)(t,"removeEventListener",(function(e){return function(t,n,r){try{e.call(this,t,n.__sentry_wrapped__,r)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=[],t=[],n=XMLHttpRequest.prototype;(0,u.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=this,s=r[1];a.__sentry_xhr__={method:(0,o.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,o.HD)(s)&&"POST"===a.__sentry_xhr__.method&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(o){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var i=t.splice(n)[0];a.__sentry_xhr__&&void 0!==i[0]&&(a.__sentry_xhr__.body=i[0])}}catch(o){}v("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"===typeof a.onreadystatechange?(0,u.hl)(a,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(),e.apply(a,t)}})):a.addEventListener("readystatechange",c),n.apply(a,r)}})),(0,u.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),v("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!(0,l.t$)())return;(0,u.hl)(d,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:g(t),url:y(t)},startTimestamp:Date.now()};return v("fetch",(0,i.pi)({},r)),e.apply(d,t).then((function(e){return v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!(0,l.Bf)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,v("history",{from:o,to:a})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d.location.href,o=r;if(r=i,v("history",{from:o,to:i}),e)return e.apply(this,t)},(0,u.hl)(d.history,"pushState",t),(0,u.hl)(d.history,"replaceState",t)}();break;case"error":S=d.onerror,d.onerror=function(e,t,n,r,i){return v("error",{column:r,error:i,line:n,msg:e,url:t}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":T=d.onunhandledrejection,d.onunhandledrejection=function(e){return v("unhandledrejection",e),!T||T.apply(this,arguments)};break;default:a.k.warn("unknown instrumentation type:",e)}}function m(e){e&&"string"===typeof e.type&&"function"===typeof e.callback&&(f[e.type]=f[e.type]||[],f[e.type].push(e.callback),h(e.type))}function v(e,t){var n,r;if(e&&f[e])try{for(var o=(0,i.XA)(f[e]||[]),s=o.next();!s.done;s=o.next()){var u=s.value;try{u(t)}catch(l){a.k.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,c.$)(u)+"\nError: "+l)}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function g(e){return void 0===e&&(e=[]),"Request"in d&&(0,o.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function y(e){return void 0===e&&(e=[]),"string"===typeof e[0]?e[0]:"Request"in d&&(0,o.V9)(e[0],Request)?e[0].url:String(e[0])}var b,x,_=0;function w(e,t,n){return void 0===n&&(n=!1),function(r){b=void 0,r&&x!==r&&(x=r,_&&clearTimeout(_),n?_=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function E(e){return function(t){var n;try{n=t.target}catch(i){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(b||w("input",e)(t),clearTimeout(b),b=setTimeout((function(){b=void 0}),1e3))}}var S=null;var T=null},9188:function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!==typeof Event&&m(e,Event)}function d(e){return"undefined"!==typeof Element&&m(e,Element)}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,{VZ:function(){return r},VW:function(){return i},TX:function(){return o},fm:function(){return a},HD:function(){return s},pt:function(){return u},PO:function(){return c},cO:function(){return l},kK:function(){return d},Kj:function(){return f},J8:function(){return p},Cy:function(){return h},V9:function(){return m}})},2507:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(3436),i=(0,r.Rf)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},3436:function(e,t,n){"use strict";n.d(t,{Rf:function(){return o},DM:function(){return a},en:function(){return s},jH:function(){return u},Cf:function(){return c},Db:function(){return l},EG:function(){return d},l4:function(){return f},JY:function(){return p}});var r=n(9602),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function u(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var i=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),i}function l(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(n){}}function f(){try{return document.location.href}catch(e){return""}}function p(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}},9602:function(e,t,n){"use strict";n.d(t,{KV:function(){return o},l$:function(){return a},SB:function(){return u}});var r=n(9188),i=n(4703);function o(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function a(e,t){return e.require(t)}e=n.hmd(e);var s=["cookies","data","headers","method","query_string","url"];function u(t,n){if(void 0===n&&(n=s),!o())throw new Error("Can't get node request data outside of a node environment");var u={},c=t.headers||t.header||{},l=t.method,d=t.hostname||t.host||c.host||"<no host>",f="https"===t.protocol||t.secure||(t.socket||{}).encrypted?"https":"http",p=t.originalUrl||t.url||"",h=f+"://"+d+p;return n.forEach((function(n){switch(n){case"headers":u.headers=c;break;case"method":u.method=l;break;case"url":u.url=h;break;case"cookies":u.cookies=t.cookies||a(e,"cookie").parse(c.cookie||"");break;case"query_string":u.query_string=a(e,"url").parse(p||"",!1).query;break;case"data":if("GET"===l||"HEAD"===l)break;void 0!==t.body&&(u.data=(0,r.HD)(t.body)?t.body:JSON.stringify((0,i.Fv)(t.body)));break;default:({}).hasOwnProperty.call(t,n)&&(u[n]=t[n])}})),u}},4703:function(e,t,n){"use strict";n.d(t,{Jr:function(){return y},zf:function(){return g},hl:function(){return c},Fv:function(){return v},Qy:function(){return p},_j:function(){return l}});var r=n(2586),i=n(4570),o=n(9188),a=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n(6524),u=n(7889);function c(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(o){}e[t]=i}}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if((0,o.VZ)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if((0,o.cO)(e)){var a=e,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(u){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(u){s.currentTarget="<unknown>"}for(var r in"undefined"!==typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return e}function f(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function p(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=v(e,t);return f(r)>n?p(e,t-1,n):r}function h(e,t){return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,o.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,s.$)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":e}function m(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"===typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=h(e);return(0,o.pt)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"===typeof t.toJSON)return t.toJSON();var i=h(t,e);if((0,o.pt)(i))return i;var s=d(t),u=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=m(c,s[c],n-1,r));return r.unmemoize(t),u}function v(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return m(e,n,t)})))}catch(n){return"**non-serializable**"}}function g(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,u.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,u.$G)(i,t)}return""}function y(e){var t,n;if((0,o.PO)(e)){var i=e,a={};try{for(var s=(0,r.XA)(Object.keys(i)),u=s.next();!u.done;u=s.next()){var c=u.value;"undefined"!==typeof i[c]&&(a[c]=y(i[c]))}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(y):e}},6524:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r="<anonymous>";function i(e){try{return e&&"function"===typeof e&&e.name||r}catch(t){return r}}},7889:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},nK:function(){return o},zC:function(){return a}});var r=n(9188);function i(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},612:function(e,t,n){"use strict";n.d(t,{Ak:function(){return o},t$:function(){return s},hv:function(){return u},Bf:function(){return c}});var r=n(2507),i=n(3436);function o(){if(!("fetch"in(0,i.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=(0,i.Rf)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(u){r.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return t}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function c(){var e=(0,i.Rf)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},7057:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r,i=n(9188);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var o=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&((0,i.J8)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void i(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void i(r)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},3434:function(e,t,n){"use strict";n.d(t,{yW:function(){return u},_I:function(){return c},Z1:function(){return l}});var r=n(3436),i=n(9602);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.Rf)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),l=function(){var e=(0,r.Rf)().performance;if(e)return e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()},311:function(e,t,n){"use strict";var r=n(5884),i=n(7248),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},7248:function(e,t,n){"use strict";var r=n(209),i=n(5884),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(f){c=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},6210:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",u="week",c="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:u,d:s,D:f,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=v;var _=function(e){return e instanceof T},w=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)x[e]&&(r=e),t&&(x[e]=t,r=e);else{var i=e.name;x[i]=e,r=i}return!n&&r&&(b=r),r||!n&&b},E=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},S=y;S.l=w,S.i=_,S.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function v(e){this.$L=w(e.locale,null,!0),this.parse(e)}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return E(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<E(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!S.u(t)||t,l=S.p(e),p=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},h=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case u:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(r?g-x:g+(6-x),v);case s:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case o:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,u=S.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[s]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],h=u===s?this.$D+(t-this.$W):t;if(u===c||u===d){var m=this.clone().set(f,1);m.$d[p](h),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(r,l){var f,p=this;r=Number(r);var h=S.p(l),m=function(e){var t=E(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return m(1);if(h===u)return m(7);var v=(f={},f[o]=t,f[a]=n,f[i]=e,f)[h]||1,g=this.$d.getTime()+r*v;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].substr(0,o)},d=function(e){return S.s(o%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||h[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,p){var h,m=S.p(f),v=E(r),g=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=S.m(this,v);return b=(h={},h[d]=b/12,h[c]=b,h[l]=b/3,h[u]=(y-g)/6048e5,h[s]=(y-g)/864e5,h[a]=y/n,h[o]=y/t,h[i]=y/e,h)[m]||y,p?b:S.a(b)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return x[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),M=T.prototype;return E.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",f]].forEach((function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,T,E),e.$i=!0),E},E.locale=w,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=x[b],E.Ls=x,E.p={},E}()},8623:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(6210))},1152:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,a,s){for(var u,c,l,d=o.$locale().relativeTime||i,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=f.length,h=0;h<p;h+=1){var m=f[h];m.d&&(u=a?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var v=(e.rounding||Math.round)(Math.abs(u));if(l=u>0,v<=m.r||!m.r){v<=1&&h>0&&(m=f[h-1]);var g=d[m.l];s&&(v=s(""+v)),c="string"==typeof g?g.replace("%d",v):g(v,r,m.l,l);break}}if(r)return c;var y=l?d.future:d.past;return"function"==typeof y?y(c):y.replace("%s",c)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}()},3605:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},8464:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var a=o(i[0]);a!==i[0]&&(n[i[0]]=a)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},2713:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},9950:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2252),t),i(n(2545),t),i(n(681),t),i(n(8721),t),i(n(2895),t),i(n(6379),t),i(n(8386),t),i(n(3597),t)},6379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NuiContext=void 0;var r=n(946);t.NuiContext=r.createContext(null)},681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiCallback=void 0;var r=n(946),i=n(6379),o=n(3597),a=n(2252);t.useNuiCallback=function(e,t,n,s){var u=r.useContext(i.NuiContext),c=u.sendAbortable,l=u.callbackTimeout,d=r.useRef(),f=r.useRef(),p=r.useRef(o.eventNameFactory(e,t)),h=r.useRef(t),m=r.useRef(e),v=r.useState(!1),g=v[0],y=v[1],b=r.useState(!1),x=b[0],_=b[1],w=r.useState(null),E=w[0],S=w[1],T=r.useState(null),M=T[0],A=T[1],C=r.useCallback((function(e){x&&(f.current&&clearTimeout(f.current),g||(A(e),S(null),_(!1),null===n||void 0===n||n(e)))}),[n,g,x]),k=r.useCallback((function(e){f.current&&clearTimeout(f.current),S(e),A(null),_(!1),null===s||void 0===s||s(e)}),[s]);return a.useNuiEvent(m.current,h.current+"Success",C),a.useNuiEvent(m.current,h.current+"Error",k),[r.useCallback((function(e,t){_((function(n){if(!n){y(!1),S(null),A(null),d.current=c(h.current,e);var r=t||{timeout:l},i=!1!==r.timeout&&(r.timeout||l);return i&&(clearTimeout(f.current),f.current=setTimeout((function(){y(!0),k(new Error('fivem-nui-react-lib: "'+p.current+'" event callback timed out after '+i+" milliseconds")),d.current&&d.current.abort(),f.current=void 0,d.current=void 0}),i)),!0}return n}))}),[]),{loading:x,response:M,error:E}]}},2252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiEvent=void 0;var r=n(946),i=n(3597);t.useNuiEvent=function(e,t,n){var o=r.useRef();r.useEffect((function(){o.current=n}),[n]),r.useEffect((function(){var n=i.eventNameFactory(e,t),r=function(e){if(o.current&&o.current.call){var t=e.data;o.current(t)}};return function(e,t,n){e.addEventListener(t,n)}(window,n,r),function(){return window.removeEventListener(n,r)}}),[e,t])}},2545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiEventCallback=void 0;var r=n(946),i=n(6379),o=n(3597),a=n(2252);t.useNuiEventCallback=function(e,t,n,s){console.warn("@ useNuiEventCallback is deprecated, please use useNuiCallback instead");var u=r.useContext(i.NuiContext),c=u.sendAbortable,l=u.callbackTimeout,d=r.useRef(),f=r.useRef(),p=r.useRef(o.eventNameFactory(e,t)),h=r.useRef(t),m=r.useRef(e),v=r.useState(!1),g=v[0],y=v[1],b=r.useState(!1),x=b[0],_=b[1],w=r.useState(null),E=w[0],S=w[1],T=r.useState(null),M=T[0],A=T[1],C=r.useCallback((function(e){x&&(f.current&&clearTimeout(f.current),g||(A(e),S(null),_(!1),null===n||void 0===n||n(e)))}),[n,g,x]),k=r.useCallback((function(e){f.current&&clearTimeout(f.current),S(e),A(null),_(!1),null===s||void 0===s||s(e)}),[s]);return r.useEffect((function(){x&&!f.current&&(clearTimeout(f.current),f.current=setTimeout((function(){y(!0),k(new Error('fivem-nui-react-lib: "'+p.current+'" event callback timed out after '+l+" milliseconds")),d.current&&d.current.abort(),f.current=void 0,d.current=void 0}),1e4))}),[x,k]),a.useNuiEvent(m.current,h.current+"Success",C),a.useNuiEvent(m.current,h.current+"Error",k),[r.useCallback((function(e){_((function(t){return t||(d.current=c(h.current,e),!0)}))}),[]),{loading:x,response:M,error:E}]}},8721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNuiRequest=void 0;var r=n(946),i=n(6379);t.useNuiRequest=function(){var e=r.useContext(i.NuiContext);if(!e)throw new Error("fivem-nui-react-lib: useNuiRequest must be used inside NuiProvider passing the `resource` prop");var t=e.send,n=e.sendAbortable;return r.useMemo((function(){return{send:t,sendAbortable:n}}),[t,n])}},8386:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NuiProvider=void 0;var a=n(9058),s=n(946),u=n(6379),c=n(3597);function l(e,t){var n=new AbortController,i=n.signal;return{abort:function(){return n.abort()},promise:fetch(e,r(r({},t),{signal:i}))}}function d(e,t,n){return["https://"+e+"/"+t,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}]}t.NuiProvider=function(e){var t=e.resource,n=e.children,f=e.timeout,p=s.useRef(t||""),h=s.useRef(f||1e4),m=function(e){var t=e.data,n=t.app,r=t.method,i=t.data;n&&r&&window.dispatchEvent(new MessageEvent(c.eventNameFactory(n,r),{data:i}))};s.useEffect((function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}}),[]);var v=s.useCallback((function(e,t){return void 0===t&&(t={}),i(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,fetch.apply(void 0,d(p.current,e,t))]}))}))}),[]),g=s.useCallback((function(e,t){return void 0===t&&(t={}),l.apply(void 0,d(p.current,e,t))}),[]);return a.jsx(u.NuiContext.Provider,r({value:{send:v,sendAbortable:g,resource:p.current,callbackTimeout:h.current}},{children:n}),void 0)}},2895:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NuiServiceProvider=void 0;var a=n(9058),s=n(946),u=n(6379),c=n(3597);function l(e,t){var n=new AbortController,i=n.signal;return{abort:function(){return n.abort()},promise:fetch(e,r(r({},t),{signal:i}))}}function d(e,t,n){return["https://"+e+"/"+t,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}]}t.NuiServiceProvider=function(e){var t=e.resource,n=e.children,f=e.timeout;console.warn("@ NuiServiceProvider is deprecated, please use NuiProvider instead");var p=s.useRef(),h=function(e){var t=e.data,n=t.app,r=t.method,i=t.data;n&&r&&window.dispatchEvent(new MessageEvent(c.eventNameFactory(n,r),{data:i}))};s.useEffect((function(){return window.addEventListener("message",h),function(){return window.removeEventListener("message",h)}}),[]);var m=s.useCallback((function(e,n){return void 0===n&&(n={}),i(void 0,void 0,void 0,(function(){return o(this,(function(r){return[2,fetch.apply(void 0,d(t,e,n))]}))}))}),[]),v=s.useCallback((function(e,n){return void 0===n&&(n={}),l.apply(void 0,d(t,e,n))}),[]);return a.jsx(u.NuiContext.Provider,r({value:{resource:p.current,send:m,sendAbortable:v,callbackTimeout:f||1e4}},{children:n}),void 0)}},3597:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventNameFactory=void 0;t.eventNameFactory=function(e,t){return e+":"+t}},2529:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],d=0;d<c;d++)l.push("$"+d);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,a.prototype=new f,f.prototype=null}return a}},209:function(e,t,n){"use strict";var r=n(2529);e.exports=Function.prototype.bind||r},5884:function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(C){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,d=n(1103)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"===typeof Uint8Array?r:f(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return m[t]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(209),b=n(2411),x=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,M=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,S,(function(e,t,n,i){r[r.length]=n?w(i,T,"$1"):t||e})),r},A=function(e,t){var n,r=e;if(b(g,r)&&(r="%"+(n=g[r])[0]+"%"),b(m,r)){var o=m[r];if(o===p&&(o=v(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var n=M(e),r=n.length>0?n[0]:"",o=A("%"+r+"%",t),s=o.name,c=o.value,l=!1,d=o.alias;d&&(r=d[0],_(n,x([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var h=n[f],v=E(h,0,1),g=E(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),b(m,s="%"+(r+="."+h)+"%"))c=m[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var y=u(c,h);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[h]}else p=b(c,h),c=c[h];p&&!l&&(m[s]=c)}}return c}},1103:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(6130);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},6130:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},2411:function(e,t,n){"use strict";var r=n(209);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},4559:function(e,t,n){"use strict";var r=n(7689),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},8380:function(e,t,n){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||p(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(l){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),"undefined"===typeof u.start?u.noteOn(0):u.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return o.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,"undefined"!==typeof o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(o.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!==typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=p)){var m=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,"undefined"===typeof m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,l):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){m.currentTime=c,m.muted=s._muted||n._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var y=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";m.addEventListener(o._canPlayEvent,(function e(){n._state="loaded",g(),m.removeEventListener(o._canPlayEvent,e,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,i[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var c=o.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,a[s],"undefined"===typeof r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/r;d=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[a])&&(r.pause(o[a],!0),r.play(o[a],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!==typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var i=n._getSoundIds(),a=i.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?o.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function e(){n._playLock?setTimeout(e,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"===typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],o=0;if("number"===typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var a=n===i[o].id;if(t===i[o].fn&&a||!t&&a){i.splice(o,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(r[s[o]])&&(r[s[o]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(e,i[o].fn,i[o].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),o._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=o._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),e._node.gain.setValueAtTime(n,o.ctx.currentTime),e._node.paused=!0,e._node.connect(o.masterGain)):o.noAudio||(e._node=o._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(o._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*o.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(o._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?d(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(o)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!==typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!==typeof AudioContext?o.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=a,"undefined"!==typeof n.g?(n.g.HowlerGlobal=i,n.g.Howler=o,n.g.Howl=a,n.g.Sound=s):"undefined"!==typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!==typeof t?s[1]:t,n="number"!==typeof n?s[2]:n,r="number"!==typeof r?s[3]:r,i="number"!==typeof i?s[4]:i,o="number"!==typeof o?s[5]:o,"number"!==typeof e?s:(a._orientation=[e,t,n,r,i,o],"undefined"!==typeof a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,i,o),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!==typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof e)return o._pos;o._pos=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!==typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),"undefined"!==typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!==typeof n?o._orientation[1]:n,r="number"!==typeof r?o._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof e)return o._orientation;o._orientation=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!==typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),"undefined"!==typeof u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!==typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;e=o[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:u.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:u.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},7045:function(e,t,n){"use strict";var r=n(5611);e.exports=function e(t){if(Array.isArray(t))return-1!==t.indexOf("ssh")||-1!==t.indexOf("rsync");if("string"!==typeof t)return!1;var n=r(t);if(t=t.substring(t.indexOf("://")+3),e(n))return!0;var i=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(i)&&t.indexOf("@")<t.indexOf(":")}},1273:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},956:function(e,t,n){"use strict";var r=n(8516),i=r.ValidatorResult,o=r.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function u(e,t,n,r,i){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,i,t,n);return t.throwError=o,t.throwAll=a,!s.valid&&r instanceof Function&&r(s),s.valid}function c(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function l(e,t,n,r,i,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,i,a,n,r);var s=this.validateSchema(e[i],a,n,r.makeChild(a,i));s.instance!==o.instance[i]&&(o.instance[i]=s.instance),o.importErrors(s)}}s.type=function(e,t,n,r){if(void 0===e)return null;var o=new i(e,t,n,r),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,n,r))){var s=a.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o},s.anyOf=function(e,t,n,r){if(void 0===e)return null;var a=new i(e,t,n,r),s=new i(e,t,n,r);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(u.bind(this,e,n,r,(function(e){s.importErrors(e)})))){var c=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return a},s.allOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var a=new i(e,t,n,r),s=this;return t.allOf.forEach((function(t,i){var o=s.validateSchema(e,t,n,r);if(!o.valid){var u=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";a.addError({name:"allOf",argument:{id:u,length:o.errors.length,valid:o},message:"does not match allOf schema "+u+" with "+o.errors.length+" error[s]:"}),a.importErrors(o)}})),a},s.oneOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var a=new i(e,t,n,r),s=new i(e,t,n,r),c=t.oneOf.filter(u.bind(this,e,n,r,(function(e){s.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==c&&(n.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),a},s.if=function(e,t,n,o){if(void 0===e)return null;if(!r.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,s=u.call(this,e,n,o,null,t.if),c=new i(e,t,n,o);if(s){if(void 0===t.then)return;if(!r.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,n,o.makeChild(t.then)),c.importErrors(a)}else{if(void 0===t.else)return;if(!r.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,n,o.makeChild(t.else)),c.importErrors(a)}return c},s.propertyNames=function(e,t,n,a){if(this.types.object(e)){var s=new i(e,t,n,a),u=void 0!==t.propertyNames?t.propertyNames:{};if(!r.isSchema(u))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var l in e)if(void 0!==c(e,l)){var d=this.validateSchema(l,u,n,a.makeChild(u));s.importErrors(d)}return s}},s.properties=function(e,t,n,r){if(this.types.object(e)){var a=new i(e,t,n,r),s=t.properties||{};for(var u in s){var l=s[u];if(void 0!==l){if(null===l)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,l,n,r);var d=c(e,u),f=this.validateSchema(d,l,n,r.makeChild(l,u));f.instance!==a.instance[u]&&(a.instance[u]=f.instance),a.importErrors(f)}}return a}},s.patternProperties=function(e,t,n,r){if(this.types.object(e)){var a=new i(e,t,n,r),s=t.patternProperties||{};for(var u in e){var c=!0;for(var d in s){var f=s[d];if(void 0!==f){if(null===f)throw new o('Unexpected null, expected schema in "patternProperties"');try{var p=new RegExp(d,"u")}catch(m){p=new RegExp(d)}if(p.test(u)){c=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,f,n,r);var h=this.validateSchema(e[u],f,n,r.makeChild(f,u));h.instance!==a.instance[u]&&(a.instance[u]=h.instance),a.importErrors(h)}}}c&&l.call(this,e,t,n,r,u,a)}return a}},s.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var o=new i(e,t,n,r);for(var a in e)l.call(this,e,t,n,r,a,o);return o}},s.minProperties=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},s.maxProperties=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},s.items=function(e,t,n,r){var o=this;if(this.types.array(e)&&t.items){var a=new i(e,t,n,r);return e.every((function(e,i){var s=Array.isArray(t.items)?t.items[i]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=o.validateSchema(e,s,n,r.makeChild(s,i));return u.instance!==a.instance[i]&&(a.instance[i]=u.instance),a.importErrors(u),!0})),a}},s.minimum=function(e,t,n,r){if(this.types.number(e)){var o=new i(e,t,n,r);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}},s.maximum=function(e,t,n,r){if(this.types.number(e)){var o=new i(e,t,n,r);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}},s.exclusiveMinimum=function(e,t,n,r){if("boolean"!==typeof t.exclusiveMaximum&&this.types.number(e)){var o=new i(e,t,n,r);return e>t.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}},s.exclusiveMaximum=function(e,t,n,r){if("boolean"!==typeof t.exclusiveMaximum&&this.types.number(e)){var o=new i(e,t,n,r);return e<t.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var d=function(e,t,n,a,s,u){if(this.types.number(e)){var c=t[s];if(0==c)throw new o(s+" cannot be zero");var l=new i(e,t,n,a),d=r.getDecimalPlaces(e),f=r.getDecimalPlaces(c),p=Math.max(d,f),h=Math.pow(10,p);return Math.round(e*h)%Math.round(c*h)!==0&&l.addError({name:s,argument:c,message:u+JSON.stringify(c)}),l}};function f(e,t,n){var i,o=n.length;for(i=t+1;i<o;i++)if(r.deepCompareStrict(e,n[i]))return!1;return!0}s.multipleOf=function(e,t,n,r){return d.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,n,r){return d.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,n,r){var o=new i(e,t,n,r);return void 0===e&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===c(e,t)&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),o},s.pattern=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=t.pattern;try{var s=new RegExp(a,"u")}catch(u){s=new RegExp(a)}return e.match(s)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}},s.format=function(e,t,n,o){if(void 0!==e){var a=new i(e,t,n,o);return a.disableFormat||r.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},s.minLength=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},s.maxLength=function(e,t,n,r){if(this.types.string(e)){var o=new i(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},s.minItems=function(e,t,n,r){if(this.types.array(e)){var o=new i(e,t,n,r);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},s.maxItems=function(e,t,n,r){if(this.types.array(e)){var o=new i(e,t,n,r);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},s.uniqueItems=function(e,t,n,r){if(!0===t.uniqueItems&&this.types.array(e)){var o=new i(e,t,n,r);return e.every(f)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.dependencies=function(e,t,n,r){if(this.types.object(e)){var o=new i(e,t,n,r);for(var a in t.dependencies)if(void 0!==e[a]){var s=t.dependencies[a],u=r.makeChild(s,a);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(t){void 0===e[t]&&o.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})}));else{var c=this.validateSchema(e,s,n,u);o.instance!==c.instance&&(o.instance=c.instance),c&&c.errors.length&&(o.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),o.importErrors(c))}}return o}},s.enum=function(e,t,n,a){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var s=new i(e,t,n,a);return t.enum.some(r.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,n,o){if(void 0===e)return null;var a=new i(e,t,n,o);return r.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},s.not=s.disallow=function(e,t,n,r){var o=this;if(void 0===e)return null;var a=new i(e,t,n,r),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(i){if(o.testType(e,t,n,r,i)){var s=i&&(i.$id||i.id)||i;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),a):null},e.exports=a},8516:function(e,t,n){"use strict";var r=n(7674),i=t.ValidationError=function(e,t,n,r,i,o){if(Array.isArray(r)?(this.path=r,this.property=r.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==r&&(this.property=r),e&&(this.message=e),n){var a=n.$id||n.id;this.schema=a||n}void 0!==t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var o=t.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.options=n,this.path=r.path,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function a(e,t){return t+": "+e.toString()+"\n"}function s(e){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}o.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new s(this);if(this.throwError)throw t;return t},o.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},o.prototype.toString=function(e){return this.errors.map(a).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=s,s.prototype=new Error,s.prototype.constructor=s,s.prototype.name="Validation Error";var u=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=t.SchemaContext=function(e,t,n,r,i){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=r,this.schemas=i};c.prototype.resolve=function(e){return r.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),i=e.$id||e.id,o=r.resolve(this.base,i||""),a=new c(e,this.options,n,o,Object.create(this.schemas));return i&&!a.schemas[o]&&(a.schemas[o]=e),a};var l=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"===typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(n){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};l.regexp=l.regex,l.pattern=l.regex,l.ipv4=l["ip-address"],t.isFormat=function(e,t,n){if("string"===typeof e&&void 0!==l[t]){if(l[t]instanceof RegExp)return l[t].test(e);if("function"===typeof l[t])return l[t](e)}else if(n&&n.customFormats&&"function"===typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function f(e,t,n,r){"object"===typeof n?t[r]=m(e[r],n):-1===e.indexOf(n)&&t.push(n)}function p(e,t,n){t[n]=e[n]}function h(e,t,n,r){"object"===typeof t[r]&&t[r]&&e[r]?n[r]=m(e[r],t[r]):n[r]=t[r]}function m(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(f.bind(null,e,r))):(e&&"object"===typeof e&&Object.keys(e).forEach(p.bind(null,e,r)),Object.keys(t).forEach(h.bind(null,e,t,r))),r}function v(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!==typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(r,i){return e(t[i],n[i])})));if("object"===typeof t){if(!t||!n)return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every((function(r){return e(t[r],n[r])}))}return t===n},e.exports.deepMerge=m,t.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var i=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(v).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!==typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t},t.isSchema=function(e){return"object"===typeof e&&e||"boolean"===typeof e}},6429:function(e,t,n){"use strict";var r=e.exports.Validator=n(9991);n(8516).ValidatorResult,n(8516).ValidatorResultError,n(8516).ValidationError,n(8516).SchemaError,n(7982),n(7982).R},7982:function(e,t,n){"use strict";var r=n(7674),i=n(8516);function o(e,t){this.id=e,this.ref=t}e.exports.R=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var o=r.resolve(e,t.$ref);c[o]=c[o]?c[o]+1:0}else{var l=t.$id||t.id,d=l?r.resolve(e,l):e;if(d){if(d.indexOf("#")<0&&(d+="#"),u[d]){if(!i.deepCompareStrict(u[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return u[d]}u[d]=t,"#"==d[d.length-1]&&(u[d.substring(0,d.length-1)]=t)}a(d+"/items",Array.isArray(t.items)?t.items:[t.items]),a(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),s(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),s(d+"/definitions",t.definitions),s(d+"/patternProperties",t.patternProperties),s(d+"/dependencies",t.dependencies),a(d+"/disallow",t.disallow),a(d+"/allOf",t.allOf),a(d+"/anyOf",t.anyOf),a(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function a(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function s(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var u={},c={};return n(e,t),new o(u,c)}},9991:function(e,t,n){"use strict";var r=n(7674),i=n(956),o=n(8516),a=n(7982).R,s=o.ValidatorResult,u=o.ValidatorResultError,c=o.SchemaError,l=o.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(p),this.attributes=Object.create(i.validators)};function f(e){var t="string"===typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=a(t||"/",e),i=t||e.$id||e.id;for(var o in r.id)this.schemas[o]=r.id[o];for(var o in r.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return"undefined"===typeof n.schemas[e]})),this.schemas[i]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,i){if("boolean"!==typeof t&&"object"!==typeof t||null===t)throw new c("Expected `schema` to be an object or boolean");n||(n={});var o,d=t.$id||t.id,f=r.resolve(n.base||"/",d||"");if(!i){(i=new l(t,n,[],f,Object.create(this.schemas))).schemas[f]||(i.schemas[f]=t);var p=a(f,t);for(var h in p.id){var m=p.id[h];i.schemas[h]=m}}if(n.required&&void 0===e)return(o=new s(e,t,n,i)).addError("is required, but is undefined"),o;if(!(o=this.validateSchema(e,t,n,i)))throw new Error("Result undefined");if(n.throwAll&&o.errors.length)throw new u(o);return o},d.prototype.validateSchema=function(e,t,n,r){var a=new s(e,t,n,r);if("boolean"===typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var u={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,u)),t=u.schema,u.schema=null,u.ctx=null,u=null}else t=o.deepMerge(t,this.superResolve(t.extends,r));var d=f(t);if(d){var p=this.resolve(t,d,r),h=new l(p.subschema,n,r.path,p.switchSchema,r.schemas);return this.validateSchema(e,p.subschema,n,h)}var m=n&&n.skipAttributes||[];for(var v in t)if(!i.ignoreProperties[v]&&m.indexOf(v)<0){var g=null,y=this.attributes[v];if(y)g=y.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+v,t);g&&a.importErrors(g)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,r);a.instance=b}return a},d.prototype.schemaTraverser=function(e,t){e.schema=o.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=f(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var i=r.parse(t),a=i&&i.hash,s=a&&a.length&&t.substr(0,t.length-a.length);if(!s||!n.schemas[s])throw new c("no such schema <"+t+">",e);var u=o.objectGetPath(n.schemas[s],a.substr(1));if(void 0===u)throw new c("no such schema "+a+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},d.prototype.testType=function(e,t,n,r,i){if(void 0!==i){if(null===i)throw new c('Unexpected null in "type" keyword');if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,n,r);return void 0===o||!(o&&o.errors.length)}return!0}};var p=d.prototype.types={};p.string=function(e){return"string"==typeof e},p.number=function(e){return"number"==typeof e&&isFinite(e)},p.integer=function(e){return"number"==typeof e&&e%1===0},p.boolean=function(e){return"boolean"==typeof e},p.array=function(e){return Array.isArray(e)},p.null=function(e){return null===e},p.date=function(e){return e instanceof Date},p.any=function(e){return!0},p.object=function(e){return e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},3031:function(e,t,n){"use strict";var r=n(8078).default,i=n(7936).default,o=n(2655).default,a="undefined"===typeof URL?n(7674).URL:URL,s=function(e,t){return t.some((function(t){return t instanceof RegExp?t.test(e):t===e}))},u=function(e,t){if(t=r({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return function(e,t){var n=t.stripHash,r=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!r)throw new Error("Invalid URL: ".concat(e));var a=r[1].split(";"),s=r[2],u=n?"":r[3],c=!1;"base64"===a[a.length-1]&&(a.pop(),c=!0);var l=(a.shift()||"").toLowerCase(),d=a.map((function(e){var t=e.split("=").map((function(e){return e.trim()})),n=o(t,2),r=n[0],i=n[1],a=void 0===i?"":i;return"charset"===r&&"us-ascii"===(a=a.toLowerCase())?"":"".concat(r).concat(a?"=".concat(a):"")})).filter(Boolean),f=i(d);return c&&f.push("base64"),(0!==f.length||l&&"text/plain"!==l)&&f.unshift(l),"data:".concat(f.join(";"),",").concat(c?s.trim():s).concat(u?"#".concat(u):"")}(e,t);var n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));var u=new a(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===u.protocol&&(u.protocol="http:"),t.forceHttps&&"http:"===u.protocol&&(u.protocol="https:"),t.stripAuthentication&&(u.username="",u.password=""),t.stripHash&&(u.hash=""),u.pathname&&(u.pathname=u.pathname.replace(/((?!:).|^)\/{2,}/g,(function(e,t){return/^(?!\/)/g.test(t)?"".concat(t,"/"):"/"}))),u.pathname&&(u.pathname=decodeURI(u.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){var c=u.pathname.split("/"),l=c[c.length-1];s(l,t.removeDirectoryIndex)&&(c=c.slice(0,c.length-1),u.pathname=c.slice(1).join("/")+"/")}if(u.hostname&&(u.hostname=u.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(u.hostname)&&(u.hostname=u.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(var d=0,f=i(u.searchParams.keys());d<f.length;d++){var p=f[d];s(p,t.removeQueryParameters)&&u.searchParams.delete(p)}return t.sortQueryParameters&&u.searchParams.sort(),t.removeTrailingSlash&&(u.pathname=u.pathname.replace(/\/$/,"")),e=u.toString(),!t.removeTrailingSlash&&"/"!==u.pathname||""!==u.hash||(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};e.exports=u,e.exports.default=u},1226:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},3442:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"===typeof u.get?u.get:null,l=s&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,_=String.prototype.toLowerCase,w=RegExp.prototype.test,E=Array.prototype.concat,S=Array.prototype.join,T=Array.prototype.slice,M=Math.floor,A="function"===typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,L="function"===typeof Symbol&&"object"===typeof Symbol.iterator,O="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,N=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-M(-e):M(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var I=n(6050).custom,j=I&&U(I)?I:null;function D(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function z(e){return"[object Array]"===G(e)&&(!O||!("object"===typeof e&&O in e))}function U(e){if(L)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!k)return!1;try{return k.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(V(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!V(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return W(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var x=String(t);return m?P(t,x):x}if("bigint"===typeof t){var w=String(t)+"n";return m?P(t,w):w}var M="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=M&&M>0&&"object"===typeof t)return z(t)?"[Array]":"[Object]";var C=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=S.call(Array(e.indent+1)," ")}return{base:n,prev:S.call(Array(t+1),n)}}(s,r);if("undefined"===typeof i)i=[];else if(H(i,t)>=0)return"[Circular]";function I(t,n,o){if(n&&(i=T.call(i)).push(n),o){var a={depth:s.depth};return V(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t){var B=function(e){if(e.name)return e.name;var t=g.call(v.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Z=J(t,I);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(Z.length>0?" { "+S.call(Z,", ")+" }":"")}if(U(t)){var K=L?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!==typeof t||L?K:q(K)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var Q="<"+_.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)Q+=" "+ee[te].name+"="+D(F(ee[te].value),"double",s);return Q+=">",t.childNodes&&t.childNodes.length&&(Q+="..."),Q+="</"+_.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var ne=J(t,I);return C&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(ne)?"["+X(ne,C)+"]":"[ "+S.call(ne,", ")+" ]"}if(function(e){return"[object Error]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t)){var re=J(t,I);return"cause"in t&&!R.call(t,"cause")?"{ ["+String(t)+"] "+S.call(E.call("[cause]: "+I(t.cause),re),", ")+" }":0===re.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(re,", ")+" }"}if("object"===typeof t&&u){if(j&&"function"===typeof t[j])return t[j]();if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(Q){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ie=[];return a.call(t,(function(e,n){ie.push(I(n,t,!0)+" => "+I(e,t))})),$("Map",o.call(t),ie,C)}if(function(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var oe=[];return l.call(t,(function(e){oe.push(I(e,t))})),$("Set",c.call(t),oe,C)}if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(Q){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Y("WeakMap");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(Q){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return Y("WeakRef");if(function(e){return"[object Number]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return q(I(Number(t)));if(function(e){if(!e||"object"!==typeof e||!A)return!1;try{return A.call(e),!0}catch(t){}return!1}(t))return q(I(A.call(t)));if(function(e){return"[object Boolean]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return q(h.call(t));if(function(e){return"[object String]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return q(I(String(t)));if(!function(e){return"[object Date]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t)&&!function(e){return"[object RegExp]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t)){var ae=J(t,I),se=N?N(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!se&&O&&Object(t)===t&&O in t?y.call(G(t),8,-1):ue?"Object":"",le=(se||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+S.call(E.call([],ce||[],ue||[]),": ")+"] ":"");return 0===ae.length?le+"{}":C?le+"{"+X(ae,C)+"}":le+"{ "+S.call(ae,", ")+" }"}return String(t)};var B=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return B.call(e,t)}function G(e){return m.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function W(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return W(y.call(e,0,t.maxStringLength),t)+r}return D(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Z),"single",t)}function Z(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function q(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function $(e,t,n,r){return e+" ("+t+") {"+(r?X(n,r):S.call(n,", "))+"}"}function X(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+S.call(e,","+n)+"\n"+t.prev}function J(e,t){var n=z(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):""}var o,a="function"===typeof C?C(e):[];if(L){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)V(e,u)&&(n&&String(Number(u))===u&&u<e.length||L&&o["$"+u]instanceof Symbol||(w.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof C)for(var c=0;c<a.length;c++)R.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},4271:function(e,t,n){"use strict";var r=n(5611),i=n(7045),o=n(9820);e.exports=function(e){e=(e||"").trim();var t={protocols:r(e),protocol:null,port:null,resource:"",user:"",pathname:"",hash:"",search:"",href:e,query:Object.create(null)},n=e.indexOf("://"),a=null,s=null;e.startsWith(".")&&(e.startsWith("./")&&(e=e.substring(2)),t.pathname=e,t.protocol="file");var u=e.charAt(1);return t.protocol||(t.protocol=t.protocols[0],t.protocol||(i(e)?t.protocol="ssh":"/"===u||"~"===u?(e=e.substring(2),t.protocol="file"):t.protocol="file")),-1!==n&&(e=e.substring(n+3)),s=e.split(/\/|\\/),"file"!==t.protocol?t.resource=s.shift():t.resource="",2===(a=t.resource.split("@")).length&&(t.user=a[0],t.resource=a[1]),2===(a=t.resource.split(":")).length&&(t.resource=a[0],a[1]?(t.port=Number(a[1]),isNaN(t.port)&&(t.port=null,s.unshift(a[1]))):t.port=null),s=s.filter(Boolean),"file"===t.protocol?t.pathname=t.href:t.pathname=t.pathname||("file"!==t.protocol||"/"===t.href[0]?"/":"")+s.join("/"),2===(a=t.pathname.split("#")).length&&(t.pathname=a[0],t.hash=a[1]),2===(a=t.pathname.split("?")).length&&(t.pathname=a[0],t.search=a[1]),t.query=o.parse(t.search),t.href=t.href.replace(/\/$/,""),t.pathname=t.pathname.replace(/\/$/,""),t}},7943:function(e,t,n){"use strict";var r=n(4271),i=n(3031);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!==typeof e||!e.trim())throw new Error("Invalid url.");t&&("object"!==typeof t&&(t={stripHash:!1}),e=i(e,t));var n=r(e);return n}},4839:function(e,t,n){var r=n(1273);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,f)s+=f[1];else{var h=e[a],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=h&&h!==m,w="+"===b||"*"===b,E="?"===b||"*"===b,S=n[2]||l,T=g||y;r.push({name:v||o++,prefix:m||"",delimiter:S,optional:E,repeat:w,partial:_,asterisk:!!x,pattern:T?c(T):x?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=u(n.delimiter||"/"),m=a.slice(-h.length)===h;return i||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+h+"|$)",l(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},9467:function(e,t,n){"use strict";var r=n(7191);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2098:function(e,t,n){e.exports=n(9467)()},7191:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5611:function(e){"use strict";e.exports=function(e,t){!0===t&&(t=0);var n=e.indexOf("://"),r=e.substring(0,n).split("+").filter(Boolean);return"number"===typeof t?r[t]:r}},3155:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(f[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=u)e=p(e/35);return p(r+36*e/(e+38))}function w(e){var t,n,r,i,o,a,c,l,d,f,h,v=[],g=e.length,y=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,a=1,c=u;i>=g&&m("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>p((s-y)/a))&&m("overflow"),y+=l*a,!(l<(d=c<=w?1:c>=w+26?26:c-w));c+=u)a>p(s/(f=u-d))&&m("overflow"),a*=f;w=_(y-o,t=v.length+1,0==o),p(y/t)>s-x&&m("overflow"),x+=p(y/t),y%=t,v.splice(y++,0,x)}return b(v)}function E(e){var t,n,r,i,o,a,c,l,d,f,v,g,b,w,E,S=[];for(g=(e=y(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(v=e[a])<128&&S.push(h(v));for(r=i=S.length,i&&S.push("-");r<g;){for(c=s,a=0;a<g;++a)(v=e[a])>=t&&v<c&&(c=v);for(c-t>p((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<g;++a)if((v=e[a])<t&&++n>s&&m("overflow"),v==t){for(l=n,d=u;!(l<(f=d<=o?1:d>=o+26?26:d-o));d+=u)E=l-f,w=u-f,S.push(h(x(f+E%w,0))),l=p(E/w);S.push(h(x(l,0))),o=_(n,b,r==i),n=0,++r}++n,++t}return S.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:w,encode:E,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},5066:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},8428:function(e,t,n){"use strict";var r=n(6166),i=n(3179),o=n(5066);e.exports={formats:o,parse:i,stringify:r}},3179:function(e,t,n){"use strict";var r=n(7327),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var d=0;n.depth>0&&null!==(s=a.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var l="string"===typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,d),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?h="utf-8":"utf8=%26%2310003%3B"===f[n]&&(h="iso-8859-1"),p=n,n=f.length);for(n=0;n<f.length;++n)if(n!==p){var m,v,g=f[n],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(m=t.decoder(g,a.decoder,h,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),a.decoder,h,"key"),v=r.maybeMap(u(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),v&&t.interpretNumericEntities&&"iso-8859-1"===h&&(v=s(v)),g.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(c,m)?c[m]=r.combine(c[m],v):c[m]=v}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},f=Object.keys(l),p=0;p<f.length;++p){var h=f[p],m=c(h,l[h],n,"string"===typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},6166:function(e,t,n){"use strict";var r=n(5600),i=n(7327),o=n(5066),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=String.prototype.split,l=Array.prototype.push,d=function(e,t){l.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},m={},v=function e(t,n,o,a,s,l,f,p,v,g,y,b,x,_,w){for(var E,S=t,T=w,M=0,A=!1;void 0!==(T=T.get(m))&&!A;){var C=T.get(t);if(M+=1,"undefined"!==typeof C){if(C===M)throw new RangeError("Cyclic object value");A=!0}"undefined"===typeof T.get(m)&&(M=0)}if("function"===typeof f?S=f(n,S):S instanceof Date?S=g(S):"comma"===o&&u(S)&&(S=i.maybeMap(S,(function(e){return e instanceof Date?g(e):e}))),null===S){if(a)return l&&!x?l(n,h.encoder,_,"key",y):n;S=""}if("string"===typeof(E=S)||"number"===typeof E||"boolean"===typeof E||"symbol"===typeof E||"bigint"===typeof E||i.isBuffer(S)){if(l){var k=x?n:l(n,h.encoder,_,"key",y);if("comma"===o&&x){for(var L=c.call(String(S),","),O="",R=0;R<L.length;++R)O+=(0===R?"":",")+b(l(L[R],h.encoder,_,"value",y));return[b(k)+"="+O]}return[b(k)+"="+b(l(S,h.encoder,_,"value",y))]}return[b(n)+"="+b(String(S))]}var N,P=[];if("undefined"===typeof S)return P;if("comma"===o&&u(S))N=[{value:S.length>0?S.join(",")||null:void 0}];else if(u(f))N=f;else{var I=Object.keys(S);N=p?I.sort(p):I}for(var j=0;j<N.length;++j){var D=N[j],F="object"===typeof D&&"undefined"!==typeof D.value?D.value:S[D];if(!s||null!==F){var z=u(S)?"function"===typeof o?o(n,D):n:n+(v?"."+D:"["+D+"]");w.set(t,M);var U=r();U.set(m,w),d(P,e(F,z,o,a,s,l,f,p,v,g,y,b,x,_,U))}}return P};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return h;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=h.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?h.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:h.encode,encoder:"function"===typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"===typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(n=c.filter);var l,f=[];if("object"!==typeof i||null===i)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[l];n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var m=r(),g=0;g<n.length;++g){var y=n[g];c.skipNulls&&null===i[y]||d(f,v(i[y],y,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var b=f.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},7327:function(e,t,n){"use strict";var r=n(5066),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"===typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},9820:function(e,t,n){"use strict";var r=n(2655).default,i=n(6304).default,o=n(7936).default,a=n(9861),s=n(8464),u=n(1891),c=n(2713);function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function f(e,t){return t.decode?s(e):e}function p(e){return Array.isArray(e)?e.sort():"object"===typeof e?p(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function h(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&f(n,e).includes(e.arrayFormatSeparator);n=o?f(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return f(t,e)})):null===n?n:f(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!==typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(""!==c){var d=u(t.decode?c.replace(/\+/g," "):c,"="),h=r(d,2),m=h[0],g=h[1];g=void 0===g?null:["comma","separator"].includes(t.arrayFormat)?g:f(g,t),n(f(m,t),g,o)}}}catch(T){s.e(T)}finally{s.f()}for(var y=0,b=Object.keys(o);y<b.length;y++){var x=b[y],_=o[x];if("object"===typeof _&&null!==_)for(var w=0,E=Object.keys(_);w<E.length;w++){var S=E[w];_[S]=v(_[S],t)}else o[x]=v(_,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=p(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=g,t.stringify=function(e,t){if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[d(t,e),"=",d(r,e)].join("")]:[[n,d(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];n(u)||(i[u]=e[u])}var c=Object.keys(i);return!1!==t.sort&&c.sort(t.sort),c.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:g(m(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:f(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var u=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:c(a,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},4535:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,d,f,p,h=e[c].replace(a,"%20"),m=h.indexOf(r);m>=0?(l=h.substr(0,m),d=h.substr(m+1)):(l=h,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),t(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},5854:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},3259:function(e,t,n){"use strict";t.decode=t.parse=n(4535),t.encode=t.stringify=n(5854)},8195:function(e,t,n){"use strict";var r=n(946),i=n(1226),o=n(8538);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(h,e)&&(f.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,S=60107,T=60108,M=60114,A=60109,C=60110,k=60112,L=60113,O=60120,R=60115,N=60116,P=60121,I=60128,j=60129,D=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),E=z("react.portal"),S=z("react.fragment"),T=z("react.strict_mode"),M=z("react.profiler"),A=z("react.provider"),C=z("react.context"),k=z("react.forward_ref"),L=z("react.suspense"),O=z("react.suspense_list"),R=z("react.memo"),N=z("react.lazy"),P=z("react.block"),z("react.scope"),I=z("react.opaque.id"),j=z("react.debug_trace_mode"),D=z("react.offscreen"),F=z("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function G(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function Z(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case M:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return q(e.type);case P:return q(e._render);case N:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,ke=null;function Le(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ae(e.stateNode,e.type,t))}}function Oe(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Ne(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var je=Ne,De=!1,Fe=!1;function ze(){null===Ce&&null===ke||(Ie(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Be=!1}function Ge(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ze=!1,qe=null,Ye={onError:function(e){He=!0,We=e}};function $e(e,t,n,r,i,o,a,s,u){He=!1,We=null,Ge.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Xe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,dt=new Map,ft=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},Mt={};function At(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mt)return Tt[e]=n[t];return e}d&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=At("animationend"),kt=At("animationiteration"),Lt=At("animationstart"),Ot=At("transitionend"),Rt=new Map,Nt=new Map,Pt=["abort","abort",Ct,"animationEnd",kt,"animationIteration",Lt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Dt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Dt(u),i=jt):0!==(s&=o)&&(r=Dt(s),i=jt)}else 0!==(o=n&~a)?(r=Dt(o),i=jt):0!==s&&(r=Dt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Dt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Zt|0)|0},Wt=Math.log,Zt=Math.LN2;var qt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Xt(e,t,n,r){De||Ie();var i=Kt,o=De;De=!0;try{Pe(i,e,t,n,r)}finally{(De=o)||ze()}}function Jt(e,t,n,r){Yt(qt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ht(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Ir(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Me(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),hn=i({},fn,{view:0,detail:0}),mn=un(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(i({},vn,{dataTransfer:0})),bn=un(i({},hn,{relatedTarget:0})),xn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(_n),En=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function Cn(){return An}var kn=i({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=un(kn),On=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=un(Pn),jn=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var zn=d&&"TextEvent"in window&&!Fn,Un=d&&(!Dn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),Vn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Dr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Xn=null;function Jn(e){kr(e,0)}function Kn(e){if(J(ii(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Xn=$n=null)}function or(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];if(Yn(t,Xn,e,Me(e)),e=Jn,De)e(t);else{De=!0;try{Ne(e,t)}finally{De=!1,ze()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ur(e,t){if("click"===e)return Kn(t)}function cr(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,_r=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==K(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&fr(_r,r)||(_r=r,0<(r=Dr(xr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Pt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Nt.set(Sr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(a(198));var l=We;He=!1,We=null,Ze||(Ze=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(Ze)throw e=qe,Ze=!1,qe=null,e}function Lr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Ar.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,ze()}}((function(){var r=o,i=Me(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Ln;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ct:case kt:case Lt:u=xn;break;case Ot:u=Nn;break;case"scroll":u=mn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ue(h,f))&&l.push(jr(h,m,p)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:ii(u),p=null==c?s:ii(c),(s=new l(m,h+"leave",u,n,i)).target=d,s.relatedTarget=p,m=null,ni(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Fr(p))h++;for(p=0,m=f;m;m=Fr(m))p++;for(;0<h-p;)l=Fr(l),h--;for(;0<p-h;)f=Fr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&zr(a,s,u,l,!1),null!==c&&null!==d&&zr(a,d,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(qn(s))if(er)v=cr;else{v=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Yn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(br=g,xr=r,_r=null);break;case"focusout":_r=xr=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Gn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Gn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}kr(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Ue(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Br=null,Vr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Zr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Jr,Qr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Kr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Kr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Qr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function di(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},pi=ci(fi),hi=ci(!1),mi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(hi),li(pi)}function bi(e,t,n){if(pi.current!==fi)throw Error(a(168));di(pi,t),di(hi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,q(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,mi=pi.current,di(pi,e),di(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(pi),di(pi,e)):li(hi),di(hi,n)}var Ei=null,Si=null,Ti=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,ki=o.unstable_requestPaint,Li=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Di={},Fi=void 0!==ki?ki:function(){},zi=null,Ui=null,Bi=!1,Vi=Li(),Gi=1e4>Vi?Li:function(){return Li()-Vi};function Hi(){switch(Oi()){case Ri:return 99;case Ni:return 98;case Pi:return 97;case Ii:return 96;case ji:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Ni;case 97:return Pi;case 96:return Ii;case 95:return ji;default:throw Error(a(332))}}function Zi(e,t){return e=Wi(e),Ti(e,t)}function qi(e,t,n){return e=Wi(e),Mi(e,t,n)}function Yi(){if(null!==Ui){var e=Ui;Ui=null,Ai(e)}$i()}function $i(){if(!Bi&&null!==zi){Bi=!0;var e=0;try{var t=zi;Zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Mi(Ri,Yi),n}finally{Bi=!1}}}var Xi=_.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ci(null),Qi=null,eo=null,to=null;function no(){to=eo=Qi=null}function ro(e){var t=Ki.current;li(Ki),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Qi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Da=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qi)throw Error(a(308));eo=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,d=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(u=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,u);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=m.payload)?h.call(p,f,u):h)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=p,c=f):d=d.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=d,Bs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=pu(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=pu(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=pu(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),hu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function xo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:pi.current,i.context=vi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Mo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(Eo(t)||V(t))return(t=Yu(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||V(n))return null!==i?null:d(e,t,n,r,null);To(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(a=o(d,a,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var d=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case w:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=So(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Yu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=qu(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xu(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,u);if(V(o))return v(e,r,o,u);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,q(e.type)||"Component"))}return n(e,r)}}var Ao=Mo(!0),Co=Mo(!1),ko={},Lo=ci(ko),Oo=ci(ko),Ro=ci(ko);function No(e){if(e===ko)throw Error(a(174));return e}function Po(e,t){switch(di(Ro,t),di(Oo,e),di(Lo,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Lo),di(Lo,t)}function Io(){li(Lo),li(Oo),li(Ro)}function jo(e){No(Ro.current);var t=No(Lo.current),n=he(t,e.type);t!==n&&(di(Oo,e),di(Lo,n))}function Do(e){Oo.current===e&&(li(Lo),li(Oo))}var Fo=ci(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Bo=null,Vo=!1;function Go(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Vo){var t=Bo;if(t){var n=t;if(!Ho(e,t)){if(!(t=Yr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Go(Uo,n)}Uo=e,Bo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function Zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function qo(e){if(e!==Uo)return!1;if(!Vo)return Zo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Bo;t;)Go(e,t),t=Yr(t.nextSibling);if(Zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Uo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Bo=Uo=null,Vo=!1}var $o=[];function Xo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Jo=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Qo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Qo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Na:Pa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Jo.current=Ia,e=n(r,i)}while(ia)}if(Jo.current=Ra,t=null!==ta&&null!==ta.next,Qo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Qo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function ha(e,t,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Jo.current,c=u.useState((function(){return pa(i,t,n)})),l=c[1],d=c[0];c=na;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,m=f.source;f=f.subscribe;var v=ea;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=pu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ht(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=pu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(h,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=l=Oa.bind(null,ea,e),c.queue=e,c.baseQueue=null,d=pa(i,t,n),c.memoizedState=c.baseState=d),d}function ma(e,t,n){return ha(ca(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function xa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return xa(516,4,e,t)}function Ea(e,t){return _a(516,4,e,t)}function Sa(e,t){return _a(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ma(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ta.bind(null,t,e),n)}function Aa(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function La(e,t){var n=Hi();Zi(98>n?98:n,(function(){e(!0)})),Zi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function Oa(e,t,n){var r=fu(),i=pu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}hu(e,i,r)}}var Ra={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Aa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return wa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=La.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Ma,useLayoutEffect:Sa,useMemo:ka,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ea((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Ma,useLayoutEffect:Sa,useMemo:ka,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ea((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},ja=_.ReactCurrentOwner,Da=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):Ao(t,e.child,n,r)}function za(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Da=!0)}return Ha(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Fa(e,t,i,n),t.child}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=gi(n)?mi:pi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=gi(n)?mi:pi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,ho(t,r,a,i),u=t.memoizedState,s!==r||f!==u||hi.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=gi(n)?mi:pi.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&_o(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,ho(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||hi.current||so?("function"===typeof p&&(go(t,n,p,r),h=t.memoizedState),(c=so||bo(t,n,c,r,f,h,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Za(e,t,n,r,o,i)}function Za(e,t,n,r,i,o){Ga(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Po(e,t.containerInfo)}var Ya,$a,Xa,Ja={dehydrated:null,retryLane:0};function Ka(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Yu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Zu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Zu(a,s),null!==e?r=Zu(e,r):(r=Yu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Io(),li(hi),li(pi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=No(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Lo.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Qr]=s,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(e=0;e<Mr.length;e++)Lr(Mr[e],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":ee(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ue(r,s),Lr("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Lr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Qr]=r,Ya(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),o=r;break;case"iframe":case"object":case"embed":Lr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Lr(Mr[o],e);o=r;break;case"source":Lr("error",e),o=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),o=r;break;case"details":Lr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Lr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Lr("invalid",e);break;default:o=r}Se(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Lr("scroll",e):null!=d&&x(e,s,d,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Ro.current),No(Lo.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ns||0===(134217727&Bs)&&0===(134217727&Vs)||yu(Ns,Is))),(r||n)&&(t.flags|=4),null);case 4:return Io(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>Zs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Fo.current,di(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),li(hi),li(pi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Io(),null;case 10:return ro(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Lo.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Lr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===I?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ps(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(t,n);else{r=t;try{i()}catch(o){Uu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uu(t,o)}break;case 5:ms(t);break;case 4:Ts(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ss(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ms(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Gi(),ys(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Ls=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,Rs=0,Ns=null,Ps=null,Is=0,js=0,Ds=ci(0),Fs=0,zs=null,Us=0,Bs=0,Vs=0,Gs=0,Hs=null,Ws=0,Zs=1/0;function qs(){Zs=Gi()+500}var Ys,$s=null,Xs=!1,Js=null,Ks=null,Qs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,du=!1;function fu(){return 0!==(48&Rs)?Gi():-1!==su?su:su=Gi()}function pu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Us),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Rs)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=mu(e,t)))return null;Gt(e,t,n),e===Ns&&(Vs|=t,4===Fs&&yu(e,Is));var r=Hi();1===t?0!==(8&Rs)&&0===(48&Rs)?bu(e):(vu(e,n),0===Rs&&(qs(),Yi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Hs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Dt(c);var d=jt;o[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ns?Is:0),t=jt,0===r)null!==n&&(n!==Di&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ai(n)}15===t?(n=bu.bind(null,e),null===zi?(zi=[n],Ui=Mi(Ri,$i)):zi.push(n),n=Di):14===t?n=qi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=qi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(a(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ns?Is:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=Mu();for(Ns===e&&Is===r||(qs(),Su(e,r));;)try{ku();break}catch(u){Tu(e,u)}if(no(),Ls.current=o,Rs=i,null!==Ps?r=0:(Ns=null,Is=0,r=Fs),0!==(Us&Vs))Su(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=zt(e))&&(r=Au(e,n))),1===r)throw t=zs,Su(e,0),yu(e,n),vu(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ru(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Gi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(a(329))}}return vu(e,Gi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Gs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Rs))throw Error(a(327));if(Iu(),e===Ns&&0!==(e.expiredLanes&Is)){var t=Is,n=Au(e,t);0!==(Us&Vs)&&(n=Au(e,t=Ft(e,t)))}else n=Au(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=zt(e))&&(n=Au(e,t))),1===n)throw n=zs,Su(e,0),yu(e,t),vu(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),vu(e,Gi()),null}function xu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(qs(),Yi())}}function _u(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(qs(),Yi())}}function wu(e,t){di(Ds,js),js|=t,Us|=t}function Eu(){js=Ds.current,li(Ds)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Zr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Io(),li(hi),li(pi),Xo();break;case 5:Do(r);break;case 4:Io();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Ns=e,Ps=Zu(e.current,null),Is=js=Us=t,Fs=0,zs=null,Gs=Vs=Bs=0}function Tu(e,t){for(;;){var n=Ps;try{if(no(),Jo.current=Ra,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Qo=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){Fs=1,zs=t,Ps=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Fo.current),f=a;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=f.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var x=Bu.bind(null,o,c,s);c.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,po(f,fs(0,o,t));break e;case 1:o=u;var _=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ks||!Ks.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,po(f,ps(f,o,t));break e}}f=f.return}while(null!==f)}Ou(n)}catch(E){t=E,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Mu(){var e=Ls.current;return Ls.current=Ra,null===e?Ra:e}function Au(e,t){var n=Rs;Rs|=16;var r=Mu();for(Ns===e&&Is===t||Su(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(no(),Rs=n,Ls.current=r,null!==Ps)throw Error(a(261));return Ns=null,Is=0,Fs}function Cu(){for(;null!==Ps;)Lu(Ps)}function ku(){for(;null!==Ps&&!Ci();)Lu(Ps)}function Lu(e){var t=Ys(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ps=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=Hi();return Zi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Iu()}while(null!==eu);if(0!==(48&Rs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Ht(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ns&&(Ps=Ns=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Os.current=null,Br=$t,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(M){u=null;break e}var d=0,f=-1,p=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(f=d+o),v!==c||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++h===o&&(f=d),g===c&&++m===l&&(p=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,lu=null,du=!1,$s=r;do{try{Pu()}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ye($s.stateNode,""),128&b){var x=$s.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ws($s),$s.flags&=-3;break;case 6:ws($s),$s.flags&=-3,Ms($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ms($s.alternate,$s);break;case 4:Ms($s.alternate,$s);break;case 8:Ts(s,u=$s);var w=u.alternate;xs(u),null!==w&&xs(w)}$s=$s.nextEffect}}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);if(_=Vr,x=vr(),b=_.focusedElem,s=_.selectionRange,x!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(x=s.start,void 0===(_=s.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!_.extend&&w>s&&(u=s,s=w,w=u),u=hr(b,w),o=hr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),w>s?(_.addRange(x),_.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Br,Vr=Br=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var E=$s.flags;if(36&E&&gs(b,$s.alternate,$s),128&E){x=void 0;var S=$s.ref;if(null!==S){var T=$s.stateNode;$s.tag,x=T,"function"===typeof S?S(x):S.current=x}}$s=$s.nextEffect}}catch(M){if(null===$s)throw Error(a(330));Uu($s,M),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Rs=i}else e.current=n;if(Qs)Qs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(M){}if(vu(e,Gi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Rs)||Yi(),null}function Pu(){for(;null!==$s;){var e=$s.alternate;du||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(du=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(du=!0));var t=$s.flags;0!==(256&t)&&vs(e,$s),0===(512&t)||Qs||(Qs=!0,qi(97,(function(){return Iu(),null}))),$s=$s.nextEffect}}function Iu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Zi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Qs||(Qs=!0,qi(97,(function(){return Iu(),null})))}function Du(e,t){ru.push(t,e),Qs||(Qs=!0,qi(97,(function(){return Iu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(a(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Yi(),!0}function zu(e,t,n){fo(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=mu(e,1))&&(Gt(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)zu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=ps(n,e=cs(t,e),1);if(fo(n,i),i=fu(),null!==(n=mu(n,1)))Gt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Is&n)===n&&(4===Fs||3===Fs&&(62914560&Is)===Is&&500>Gi()-Ws?Su(e,0):Gs|=n),vu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Us),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=mu(e,t))&&(Gt(e,t,n),vu(e,n))}function Gu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Gu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Yu(n.children,i,o,t);case j:s=8,i|=16;break;case T:s=8,i|=1;break;case M:return(e=Hu(12,n,t,8|i)).elementType=M,e.type=M,e.lanes=o,e;case L:return(e=Hu(13,n,t,i)).type=L,e.elementType=L,e.lanes=o,e;case O:return(e=Hu(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return $u(n,i,o,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case k:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=D,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=pu(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=xi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),hu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ku(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Qu(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,t.tag){case 3:qa(t),Yo();break;case 5:jo(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ka(e,t,n):(di(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);di(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Da=0!==(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,pi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=Za(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=za(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Yr(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return jo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Ga(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ka(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(di(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Ua(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oo(t,n),xo(t,r,i),wo(t,r,i,n),Za(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=pu(e);hu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=xu,Pe=function(e,t,n,r,i){var o=Rs;Rs|=4;try{return Zi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=o)&&(qs(),Yi())}},Ie=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Gi())}))}Yi()}(),Iu())},je=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(qs(),Yi())}};var uc={Events:[ri,ii,oi,Oe,Re,Iu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ei=dc.inject(lc),Si=dc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Zi(99,e.bind(null,t))}finally{Rs=n,Yi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},6920:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8195)},57:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},7689:function(e,t,n){"use strict";e.exports=n(57)},6987:function(e,t,n){"use strict";n(1226);var r=n(946),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},7757:function(e,t,n){"use strict";var r=n(1226),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+M(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+M(s=e[c],c);u+=A(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,l=r+M(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var L={current:null};function O(){var e=L.current;if(null===e)throw Error(p(321));return e}var R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},946:function(e,t,n){"use strict";e.exports=n(7757)},9058:function(e,t,n){"use strict";e.exports=n(6987)},8882:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(k([])));_&&_!==n&&r.call(_,o)&&(b=_);var w=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3211:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(m=!1,v=null)}catch(n){throw _.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,_.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],A=[],C=1,k=null,L=3,O=!1,R=!1,N=!1;function P(e){for(var t=E(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,w(M,t)}t=E(A)}}function I(e){if(N=!1,P(e),!R)if(null!==E(M))R=!0,n(j);else{var t=E(A);null!==t&&r(I,t.startTime-e)}}function j(e,n){R=!1,N&&(N=!1,i()),O=!0;var o=L;try{for(P(n),k=E(M);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=k.callback;if("function"===typeof a){k.callback=null,L=k.priorityLevel;var s=a(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?k.callback=s:k===E(M)&&S(M),P(n)}else S(M);k=E(M)}if(null!==k)var u=!0;else{var c=E(A);null!==c&&r(I,c.startTime-n),u=!1}return u}finally{k=null,L=o,O=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return E(M)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,w(A,e),null===E(M)&&e===E(A)&&(N?i():N=!0,r(I,a-s))):(e.sortIndex=u,w(M,e),R||O||(R=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},8538:function(e,t,n){"use strict";e.exports=n(3211)},5600:function(e,t,n){"use strict";var r=n(5884),i=n(311),o=n(3442),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(u){if(t)return f(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),l(e,r,i)):u?(t||(t=new u),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},1891:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},9861:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},2586:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return a},XA:function(){return s},CR:function(){return u},fl:function(){return c}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},7674:function(e,t,n){"use strict";var r=n(3155),i=n(2256);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(3259);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||_&&v[_]||(b=b.substr(2),this.slashes=!0)}if(!v[_]&&(E||_&&!g[_])){for(var S,T,M=-1,A=0;A<f.length;A++){-1!==(C=b.indexOf(f[A]))&&(-1===M||C<M)&&(M=C)}-1!==(T=-1===M?b.lastIndexOf("@"):b.lastIndexOf("@",M))&&(S=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(S)),M=-1;for(A=0;A<d.length;A++){var C;-1!==(C=b.indexOf(d[A]))&&(-1===M||C<M)&&(M=C)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var L=this.hostname.split(/\./),O=(A=0,L.length);A<O;A++){var R=L[A];if(R&&!R.match(p)){for(var N="",P=0,I=R.length;P<I;P++)R.charCodeAt(P)>127?N+="x":N+=R[P];if(!N.match(p)){var j=L.slice(0,A),D=L.slice(A+1),F=R.match(h);F&&(j.push(F[1]),D.unshift(F[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(A=0,O=l.length;A<O;A++){var B=l[A];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var W=this.search||"";this.path=z+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=x||b||n.host&&e.pathname,w=_,E=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===E[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=E.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=E.slice(-1)[0],M=(n.host||e.host||E.length>1)&&("."===T||".."===T)||""===T,A=0,C=E.length;C>=0;C--)"."===(T=E[C])?E.splice(C,1):".."===T?(E.splice(C,1),A++):A&&(E.splice(C,1),A--);if(!_&&!w)for(;A--;A)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),M&&"/"!==E.join("/").substr(-1)&&E.push("");var k,L=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=L?"":E.length?E.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(_=_||n.host&&E.length)&&!L&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2256:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},9061:function(e,t,n){var r={"./BANK":[6406,406],"./BANK.tsx":[6406,406],"./CAMERA":[3228,228],"./CAMERA.tsx":[3228,228],"./CONTACTS":[542,542],"./CONTACTS.tsx":[542,542],"./DIALER":[3061,61],"./DIALER.tsx":[3061,61],"./EMAIL":[6952,952],"./EMAIL.tsx":[6952,952],"./EXAMPLE":[3065,65],"./EXAMPLE.tsx":[3065,65],"./LOCATION":[175,175],"./LOCATION.tsx":[175,175],"./MARKETPLACE":[6466,466],"./MARKETPLACE.tsx":[6466,466],"./MESSAGES":[6651,651],"./MESSAGES.tsx":[6651,651],"./NOTES":[2901,901],"./NOTES.tsx":[2901,901],"./PHOTO":[2496,496],"./PHOTO.tsx":[2496,496],"./SETTINGS":[8952,28],"./SETTINGS.tsx":[8952,28],"./SOCIETY_CONTACTS":[3853,853],"./SOCIETY_CONTACTS.tsx":[3853,853],"./SOCIETY_MESSAGES":[8429,429],"./SOCIETY_MESSAGES.tsx":[8429,429],"./ZUTOM":[1870,870],"./ZUTOM.tsx":[1870,870]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=9061,e.exports=i},6050:function(){},8172:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7310:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(8172);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{28:"7e9eb901",61:"f9a10d1e",65:"0002510d",175:"8edf5642",228:"5cc0c13b",406:"2610cc84",429:"23504fa4",466:"c2b47474",496:"83970597",542:"b49707f0",651:"e5512040",853:"ea22b653",870:"9d276c90",901:"b50c196d",952:"9e0ca20c"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="npwd-nui:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/html/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunknpwd_nui=self.webpackChunknpwd_nui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{Express:function(){return dn},Mongo:function(){return vn._},Mysql:function(){return mn.m},Postgres:function(){return hn.E}});var t=n(946),r=n(6920);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&s(e),a=t&&s(t),c=o||a;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=i.length;f>=0;f--){var p=i[f];"."===p?u(i,f):".."===p?(u(i,f),d++):d&&(u(i,f),d--)}if(!c)for(;d--;d)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},l="Invariant failed";function d(e,t){if(!e)throw new Error(l)}function f(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=a({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&{},b||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,u=i.getUserConfirmation,c=void 0===u?x:u,l=i.keyLength,p=void 0===l?6:l,S=e.basename?m(f(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&h(o,S),g(o,r,n)}function M(){return Math.random().toString(36).substr(2,p)}var A=y();function C(e){a(U,e),U.length=t.length,A.notifyListeners(U.location,U.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(T(e.state))}function L(){R(T(E()))}var O=!1;function R(e){if(O)!1,C();else{A.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,n=P.indexOf(t.key);-1===n&&0;var r=P.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,j(i))}(e)}))}}var N=T(E()),P=[N.key];function I(e){return S+v(e)}function j(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(_,k),r&&window.addEventListener(w,L)):0===D&&(window.removeEventListener(_,k),r&&window.removeEventListener(w,L))}var z=!1;var U={length:t.length,action:"POP",location:N,createHref:I,push:function(e,r){var i="PUSH",o=g(e,r,M(),U.location);A.confirmTransitionTo(o,i,c,(function(e){if(e){var r=I(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=P.indexOf(U.location.key),l=P.slice(0,c+1);l.push(o.key),l,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,M(),U.location);A.confirmTransitionTo(o,i,c,(function(e){if(e){var r=I(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=P.indexOf(U.location.key);-1!==c&&(P[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&!1;var t=A.setPrompt(e);return z||(F(1),!0),function(){return z&&(!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var T="hashchange",M={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:f},slash:{encodePath:f,decodePath:f}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){window.location.replace(A(window.location.href)+"#"+e)}function L(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?m(f(e.basename)):"",c=M[s],l=c.encodePath,p=c.decodePath;function _(){var e=p(C());return u&&(e=h(e,u)),g(e)}var w=y();function E(e){a(U,e),U.length=t.length,w.notifyListeners(U.location,U.action)}var S=!1,L=null;function O(){var e,t,n=C(),r=l(n);if(n!==r)k(r);else{var o=_(),a=U.location;if(!S&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(L===v(o))return;L=null,function(e){if(S)S=!1,E();else{var t="POP";w.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=U.location,n=I.lastIndexOf(v(t));-1===n&&(n=0);var r=I.lastIndexOf(v(e));-1===r&&(r=0);var i=n-r;i&&(S=!0,j(i))}(e)}))}}(o)}}var R=C(),N=l(R);R!==N&&k(N);var P=_(),I=[v(P)];function j(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(T,O):0===D&&window.removeEventListener(T,O)}var z=!1;var U={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=A(window.location.href)),n+"#"+l(u+v(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,U.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=l(u+t);if(C()!==i){L=t,function(e){window.location.hash=e}(i);var o=I.lastIndexOf(v(U.location)),a=I.slice(0,o+1);a.push(t),I=a,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,U.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=l(u+t);C()!==i&&(L=t,k(i));var o=I.indexOf(v(U.location));-1!==o&&(I[o]=t),E({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=w.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function O(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=y();function d(e){a(x,e),x.length=x.entries.length,l.notifyListeners(x.location,x.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=O(s,0,i.length-1),h=i.map((function(e){return g(e,void 0,"string"===typeof e?f():e.key||f())})),m=v;function b(e){var t=O(x.index+e,0,x.entries.length-1),r=x.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var x={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:m,push:function(e,t){var r="PUSH",i=g(e,t,f(),x.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,f(),x.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(x.entries[x.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return x}var N=n(2098),P=n.n(N),I=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function D(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var F=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=D(t.props.value),t}o(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):I,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[a]=P().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}o(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?I:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?I:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=P().object,i),{Provider:s,Consumer:u}},z=F,U=n(4839),B=n.n(U);n(7689);function V(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(4559);var G=function(e){var t=z();return t.displayName=e,t},H=G("Router-History"),W=G("Router"),Z=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}o(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(W.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var q={},Y=0;function $(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=q[n]||(q[n]={});if(r[e])return r[e];var i=[],o={regexp:B()(e,i,t),keys:i};return Y<1e4&&(r[e]=o,Y++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var X=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){var e=this;return t.createElement(W.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=a({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?$(r.pathname,e.props):n.match}),o=e.props,s=o.children,u=o.component,c=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(W.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?t.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function J(e){return"/"===e.charAt(0)?e:"/"+e}function K(e,t){if(!e)return t;var n=J(e);return 0!==t.pathname.indexOf(n)?t:a({},t,{pathname:t.pathname.substr(n.length)})}function Q(e){return"string"===typeof e?e:v(e)}function ee(e){return function(){d(!1)}}function te(){}t.Component;var ne=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){var e=this;return t.createElement(W.Consumer,null,(function(n){n||d(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?$(o.pathname,a({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);var re=t.useContext;function ie(){return re(H)}function oe(){return re(W).location}function ae(){var e=re(W).match;return e?e.params:{}}function se(e){var t=oe(),n=re(W).match;return e?$(t.pathname,e):n}t.Component;var ue=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=L(t.props),t}return o(n,e),n.prototype.render=function(){return t.createElement(Z,{history:this.history,children:this.props.children})},n}(t.Component);var ce=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?g(e,null,null,t):e},de=function(e){return e},fe=t.forwardRef;"undefined"===typeof fe&&(fe=de);var pe=fe((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,s=V(e,["innerRef","navigate","onClick"]),u=s.target,c=a({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=de!==fe&&n||r,t.createElement("a",c)}));var he=fe((function(e,n){var r=e.component,i=void 0===r?pe:r,o=e.replace,s=e.to,u=e.innerRef,c=V(e,["component","replace","to","innerRef"]);return t.createElement(W.Consumer,null,(function(e){e||d(!1);var r=e.history,l=le(ce(s,e.location),e.location),f=l?r.createHref(l):"",p=a({},c,{href:f,navigate:function(){var t=ce(s,e.location),n=v(e.location)===v(le(t));(o||n?r.replace:r.push)(t)}});return de!==fe?p.ref=n||u:p.innerRef=u,t.createElement(i,p)}))})),me=function(e){return e},ve=t.forwardRef;"undefined"===typeof ve&&(ve=me);ve((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,s=void 0===o?"active":o,u=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,p=e.location,h=e.sensitive,m=e.strict,v=e.style,g=e.to,y=e.innerRef,b=V(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(W.Consumer,null,(function(e){e||d(!1);var r=p||e.location,o=le(ce(g,r),r),x=o.pathname,_=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=_?$(r.pathname,{path:_,exact:l,sensitive:h,strict:m}):null,E=!!(f?f(w,r):w),S="function"===typeof c?c(E):c,T="function"===typeof v?v(E):v;E&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,s),T=a({},T,u));var M=a({"aria-current":E&&i||null,className:S,style:T,to:o},b);return me!==ve?M.ref=n||y:M.innerRef=y,t.createElement(he,M)}))}));var ge=n(6463),ye=n(2507);var be,xe=n(2586),_e=n(3862),we=n(3436),Ee=n(7889),Se=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Te=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,_e.c)((function(t){var n=(0,ge.Gd)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(ye.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,we.jH)(e)),!0):this._isIgnoredError(e,t)?(ye.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,we.jH)(e)),!0):this._isDeniedUrl(e,t)?(ye.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,we.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(ye.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,we.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return(0,Ee.zC)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return(0,Ee.zC)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return(0,Ee.zC)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:(0,xe.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,xe.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,xe.fl)(this._options.ignoreErrors||[],e.ignoreErrors||[],Se),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return ye.k.error("Cannot extract message for event "+(0,we.jH)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return ye.k.error("Cannot extract url for event "+(0,we.jH)(e)),null}},e.id="InboundFilters",e}(),Me=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){be=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return be.apply(n,e)}},e.id="FunctionToString",e}(),Ae=n(648),Ce=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var ke=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,Ce(r,n.prototype),r}return(0,xe.ZT)(t,e),t}(Error),Le=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Oe="Invalid Dsn",Re=function(){function e(e){"string"===typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=Le.exec(e);if(!t)throw new ke(Oe);var n=(0,xe.CR)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],u=n[4],c=void 0===u?"":u,l="",d=n[5],f=d.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),d=f.pop()),d){var p=d.match(/^\d+/);p&&(d=p[0])}this._fromComponents({host:s,pass:a,path:l,projectId:d,port:c,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new ke("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new ke("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ke("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ke("Invalid Dsn: Invalid port "+this.port)},e}(),Ne=n(9188),Pe=n(7057),Ie=n(3434),je=n(4703),De=[];function Fe(e){var t={};return function(e){var t=e.defaultIntegrations&&(0,xe.fl)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),o=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))})),n.forEach((function(e){-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))}))}else"function"===typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=(0,xe.fl)(t);var a=r.map((function(e){return e.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,(0,xe.fl)(r.splice(a.indexOf(s),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===De.indexOf(e.name)&&(e.setupOnce(_e.c,ge.Gd),De.push(e.name),ye.k.log("Integration installed: "+e.name))}(e)})),t}var ze,Ue=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new Re(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,Ne.pt)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):ye.k.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Fe(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return ye.k.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i,o=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var u=(0,xe.XA)(s),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var d=t.user;if(!e.userAgent){var f=t.request?t.request.headers:{};for(var p in f)if("user-agent"===p.toLowerCase()){i=f[p];break}}e.update((0,xe.pi)((0,xe.pi)({},o&&{status:Ae.$.Crashed}),{user:d,userAgent:i,errors:e.errors+Number(a||o)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new Pe.c((function(n){var r=0,i=setInterval((function(){0==t._processing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=(0,xe.pi)((0,xe.pi)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,we.DM)()),timestamp:e.timestamp||(0,Ie.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;n&&n.captureContext&&(s=_e.s.clone(s).update(n.captureContext));var u=Pe.c.resolve(a);return s&&(u=s.applyToEvent(a,n)),u.then((function(e){return"number"===typeof o&&o>0?r._normalizeEvent(e,o):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=(0,xe.pi)((0,xe.pi)((0,xe.pi)((0,xe.pi)((0,xe.pi)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,xe.pi)((0,xe.pi)({},e),e.data&&{data:(0,je.Fv)(e.data,t)})}))}),e.user&&{user:(0,je.Fv)(e.user,t)}),e.contexts&&{contexts:(0,je.Fv)(e.contexts,t)}),e.extra&&{extra:(0,je.Fv)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,Ee.$G)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,Ee.$G)(s.value,a));var u=e.request;u&&u.url&&(u.url=(0,Ee.$G)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){ye.k.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return Pe.c.reject(new ke("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"===typeof a&&Math.random()>a?Pe.c.reject(new ke("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new ke("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!o)return e;var n=o(e,t);if("undefined"===typeof n)throw new ke("`beforeSend` method has to return `null` or a valid event.");return(0,Ne.J8)(n)?n.then((function(e){return e}),(function(e){throw new ke("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new ke("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof ke)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new ke("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(ze||(ze={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(ze||(ze={}));var Be,Ve=function(){function e(){}return e.prototype.sendEvent=function(e){return Pe.c.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:ze.Skipped})},e.prototype.close=function(e){return Pe.c.resolve(!0)},e}(),Ge=function(){function e(e){this._options=e,this._options.dsn||ye.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new ke("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new ke("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){ye.k.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){ye.k.error("Error while sending session: "+e)})):ye.k.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Ve},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(Be||(Be={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}(Be||(Be={}));var He=n(612),We="?",Ze=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ye=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,$e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Xe=/\((\S*)(?::(\d+))(?::(\d+))\)/,Je=/Minified React error #\d+;/i;function Ke(e){var t=null,n=0;e&&("number"===typeof e.framesToPop?n=e.framesToPop:Je.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(t=r.exec(o[s]))?u={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(u={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),u&&(!u.func&&u.line&&(u.func=We),a.push(u))}if(!a.length)return null;return{message:et(e),name:e.name,stack:a}}(e),t)return Qe(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=Ze.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=Xe.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||We,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ye.exec(o[a]))r={url:n[2],func:n[1]||We,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=qe.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=$e.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||We,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=We),i.push(r)}if(!i.length)return null;return{message:et(e),name:e.name,stack:i}}(e),t)return Qe(t,n)}catch(r){}return{message:et(e),name:e&&e.name,stack:[],failed:!0}}function Qe(e,t){try{return(0,xe.pi)((0,xe.pi)({},e),{stack:e.stack.slice(t)})}catch(n){return e}}function et(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function tt(e){var t=rt(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function nt(e){return{exception:{values:[tt(e)]}}}function rt(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function it(e,t,n){var r;if(void 0===n&&(n={}),(0,Ne.VW)(e)&&e.error)return r=nt(Ke(e=e.error));if((0,Ne.TX)(e)||(0,Ne.fm)(e)){var i=e,o=i.name||((0,Ne.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=ot(a,t,n),(0,we.Db)(r,a),"code"in i&&(r.tags=(0,xe.pi)((0,xe.pi)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,Ne.VZ)(e)?r=nt(Ke(e)):(0,Ne.PO)(e)||(0,Ne.cO)(e)?(r=function(e,t,n){var r={exception:{values:[{type:(0,Ne.cO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,je.zf)(e)}]},extra:{__serialized__:(0,je.Qy)(e)}};if(t){var i=rt(Ke(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),(0,we.EG)(r,{synthetic:!0}),r):(r=ot(e,t,n),(0,we.Db)(r,""+e,void 0),(0,we.EG)(r,{synthetic:!0}),r)}function ot(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=rt(Ke(t).stack);r.stacktrace={frames:i}}return r}function at(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function st(e,t){var n=e.tags||{},r=n.__sentry_samplingMethod,i=n.__sentry_sampleRate,o=(0,xe._T)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=o;var a="transaction"===e.type,s={body:JSON.stringify(e),type:e.type||"event",url:a?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(a){var u=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:r,rate:i}]})+"\n"+s.body;s.body=u}return s}var ut=function(){function e(e){this.dsn=e,this._dsnObject=new Re(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return(0,je._j)(e)},e}(),ct=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):Pe.c.reject(new ke("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new Pe.c((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);Pe.c.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),lt=function(){function e(e){this.options=e,this._buffer=new ct(30),this._rateLimits={},this._api=new ut(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new ke("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=ze.fromHttpCode(n.status);this._handleRateLimit(r)&&ye.k.warn("Too many requests, backing off until: "+this._disabledUntil(t)),a!==ze.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,o=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var u=(0,xe.XA)(a.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),d=parseInt(l[0],10),f=1e3*(isNaN(d)?60:d);try{for(var p=(r=void 0,(0,xe.XA)(l[1].split(";"))),h=p.next();!h.done;h=p.next()){var m=h.value;this._rateLimits[m||"all"]=new Date(o+f)}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,we.JY)(o,s)),!0)},e}(),dt=(0,we.Rf)(),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,xe.ZT)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(st(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(at(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,He.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Pe.c((function(t,i){dt.fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)})))},t}(lt),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,xe.ZT)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(st(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(at(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new Pe.c((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)})))},t}(lt),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,xe.ZT)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=it(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,we.EG)(r,{handled:!0,type:"generic"}),r.level=Be.Error,n&&n.event_id&&(r.event_id=n.event_id),Pe.c.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=Be.Info),function(e,t,n,r){void 0===n&&(n=Be.Info);var i=ot(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Pe.c.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=(0,xe.pi)((0,xe.pi)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):(0,He.Ak)()?new ft(t):new pt(t)},t}(Ge);function mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,ge.Gd)();if(r&&r[e])return r[e].apply(r,(0,xe.fl)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function vt(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return mt("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function gt(e){mt("withScope",e)}var yt=0;function bt(){return yt>0}function xt(){yt+=1,setTimeout((function(){yt-=1}))}function _t(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return _t(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(o){throw xt(),gt((function(e){e.addEventProcessor((function(e){var n=(0,xe.pi)({},e);return t.mechanism&&((0,we.Db)(n,void 0,void 0),(0,we.EG)(n,t.mechanism)),n.extra=(0,xe.pi)((0,xe.pi)({},n.extra),{arguments:r}),n})),vt(o)})),o}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(a){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(a){}return r}function wt(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new ut(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else ye.k.error("Missing dsn option in showReportDialog call");else ye.k.error("Missing eventId option in showReportDialog call")}var Et=n(5248),St=n(4570),Tt=function(){function e(t){this.name=e.id,this._options=(0,xe.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,ge.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,we.jH)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&(0,Et.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,(0,xe.fl)(t))},type:"console"}),this._options.dom&&(0,Et.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,(0,xe.fl)(t))},type:"dom"}),this._options.xhr&&(0,Et.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,(0,xe.fl)(t))},type:"xhr"}),this._options.fetch&&(0,Et.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,(0,xe.fl)(t))},type:"fetch"}),this._options.history&&(0,Et.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,(0,xe.fl)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:Be.fromString(e.level),message:(0,Ee.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,Ee.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,ge.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?(0,St.R)(e.event.target):(0,St.R)(e.event)}catch(n){t="<unknown>"}0!==t.length&&(0,ge.Gd)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,ge.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,ge.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:Be.Error,type:"http"},{data:e.error,input:e.args}):(0,ge.Gd)().addBreadcrumb({category:"fetch",data:(0,xe.pi)((0,xe.pi)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=(0,we.Rf)(),n=e.from,r=e.to,i=(0,we.en)(t.location.href),o=(0,we.en)(n),a=(0,we.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,ge.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),Mt="5.30.0",At=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ht,t)||this}return(0,xe.ZT)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,we.Rf)().document&&(this._isEnabled()?wt((0,xe.pi)((0,xe.pi)({},e),{dsn:e.dsn||this.getDsn()})):ye.k.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=(0,xe.pi)((0,xe.pi)({},t.sdk),{name:"sentry.javascript.browser",packages:(0,xe.fl)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:Mt}]),version:Mt}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Tt);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(Ue),Ct=n(6524),kt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Lt=function(){function e(t){this.name=e.id,this._options=(0,xe.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,we.Rf)();(this._options.setTimeout&&(0,je.hl)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,je.hl)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,je.hl)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,je.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:kt).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=_t(r,{mechanism:{data:{function:(0,Ct.$)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,_t(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Ct.$)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=(0,we.Rf)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,je.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=_t(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,Ct.$)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.call(this,n,_t(r,{mechanism:{data:{function:"addEventListener",handler:(0,Ct.$)(r),target:e},handled:!0,type:"instrument"}}),i)}})),(0,je.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(s){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"===typeof r[e]&&(0,je.hl)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,Ct.$)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=(0,Ct.$)(t.__sentry_original__)),_t(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),Ot=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,xe.pi)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(ye.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(ye.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,Et.o)({callback:function(n){var r=n.error,i=(0,ge.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!bt()&&!a){var s=i.getClient(),u=(0,Ne.pt)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(it(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,we.EG)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,Et.o)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(c){}var i=(0,ge.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||bt()||a)return!0;var s=i.getClient(),u=(0,Ne.pt)(r)?t._eventFromRejectionWithPrimitive(r):it(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=Be.Error,(0,we.EG)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=(0,Ne.VW)(e)?e.message:e;if((0,Ne.HD)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,Ne.HD)(t)&&t.length>0?t:(0,we.l4)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),Rt=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,_e.c)((function(t,n){var r=(0,ge.Gd)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!(0,Ne.V9)(t.originalException,Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=(0,xe.fl)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(0,Ne.V9)(e[t],Error)||n.length+1>=this._limit)return n;var r=tt(Ke(e[t]));return this._walkErrorTree(e[t],t,(0,xe.fl)([r],n))},e.id="LinkedErrors",e}(),Nt=(0,we.Rf)(),Pt=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,_e.c)((function(t){var n,r,i;if((0,ge.Gd)().getIntegration(e)){if(!Nt.navigator&&!Nt.location&&!Nt.document)return t;var o=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=Nt.location)||void 0===r?void 0:r.href),a=(Nt.document||{}).referrer,s=(Nt.navigator||{}).userAgent,u=(0,xe.pi)((0,xe.pi)((0,xe.pi)({},null===(i=t.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=(0,xe.pi)((0,xe.pi)({},o&&{url:o}),{headers:u});return(0,xe.pi)((0,xe.pi)({},t),{request:c})}return t}))},e.id="UserAgent",e}(),It=[new Te,new Me,new Lt,new Tt,new Ot,new Rt,new Pt];var jt=n(7410),Dt=n(1063),Ft=n(5506),zt=n(2259),Ut=(0,we.Rf)();var Bt,Vt,Gt=function(e,t,n,r){var i;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||void 0===i)&&(e(t),i=t.value))}},Ht=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Wt=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(r){}},Zt=!1,qt=!1,Yt=function(e){Zt=!e.persisted},$t=function(e,t){void 0===t&&(t=!1),qt||(addEventListener("pagehide",Yt),addEventListener("beforeunload",(function(){})),qt=!0),addEventListener("visibilitychange",(function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:Zt})}),{capture:!0,once:t})},Xt=function(){return void 0===Bt&&(Bt="hidden"===document.visibilityState?0:1/0,$t((function(e){var t=e.timeStamp;return Bt=t}),!0)),{get timeStamp(){return Bt}}},Jt=function(e,t){void 0===t&&(t=!1);var n,r=Ht("LCP"),i=Xt(),o=function(e){var t=e.startTime;t<i.timeStamp?(r.value=t,r.entries.push(e)):r.isFinal=!0,n()},a=Wt("largest-contentful-paint",o);if(a){n=Gt(e,r,a,t);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,n())};(Vt||(Vt=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})}))}))),Vt).then(s),$t(s,!0)}},Kt=(0,we.Rf)(),Qt=function(e){var t,n=Ht("TTFB");t=function(){try{var t=Kt.performance.getEntriesByType("navigation")[0]||function(){var e=Kt.performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(r){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},en=(0,we.Rf)(),tn=function(){function e(){this._measurements={},this._performanceCursor=0,en&&en.performance&&(en.performance.mark&&en.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(en&&en.performance&&en.performance.getEntries&&Ie.Z1){ye.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=(0,zt.XL)(Ie.Z1);if(en.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){n=document.scripts[a].src;break}if(en.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var s=(0,zt.XL)(a.startTime),u=(0,zt.XL)(a.duration);if(!("navigation"===e.op&&o+s<e.startTimestamp))switch(a.entryType){case"navigation":!function(e,t,n){nn(e,t,"unloadEvent",n),nn(e,t,"redirect",n),nn(e,t,"domContentLoadedEvent",n),nn(e,t,"loadEvent",n),nn(e,t,"connect",n),nn(e,t,"secureConnection",n,"connectEnd"),nn(e,t,"fetch",n,"domainLookupStart"),nn(e,t,"domainLookup",n),function(e,t,n){rn(e,{op:"browser",description:"request",startTimestamp:n+(0,zt.XL)(t.requestStart),endTimestamp:n+(0,zt.XL)(t.responseEnd)}),rn(e,{op:"browser",description:"response",startTimestamp:n+(0,zt.XL)(t.responseStart),endTimestamp:n+(0,zt.XL)(t.responseEnd)})}(e,t,n)}(e,a,o);break;case"mark":case"paint":case"measure":var c=function(e,t,n,r,i){var o=i+n,a=o+r;return rn(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}(e,a,s,u,o);void 0===i&&"sentry-tracing-init"===a.name&&(i=c);var l=Xt(),d=a.startTime<l.timeStamp;"first-paint"===a.name&&d&&(ye.k.log("[Measurements] Adding FP"),t._measurements.fp={value:a.startTime},t._measurements["mark.fp"]={value:c}),"first-contentful-paint"===a.name&&d&&(ye.k.log("[Measurements] Adding FCP"),t._measurements.fcp={value:a.startTime},t._measurements["mark.fcp"]={value:c});break;case"resource":var f=a.name.replace(window.location.origin,""),p=function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r,u=s+i;return rn(e,{description:n,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),u}(e,a,f,s,u,o);void 0===r&&(n||"").indexOf(f)>-1&&(r=p)}})),void 0!==r&&void 0!==i&&rn(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var s=(0,zt.XL)(Ie.Z1);["fcp","fp","lcp","ttfb"].forEach((function(n){if(t._measurements[n]&&!(s>=e.startTimestamp)){var r=t._measurements[n].value,i=s+(0,zt.XL)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;ye.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),t._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&rn(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,zt.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var e=this;!function(e,t){void 0===t&&(t=!1);var n,r=Ht("CLS",0),i=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},o=Wt("layout-shift",i);o&&(n=Gt(e,r,o,t),$t((function(e){var t=e.isUnloading;o.takeRecords().map(i),t&&(r.isFinal=!0),n()})))}((function(t){t.entries.pop()&&(ye.k.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value})}))},e.prototype._trackNavigator=function(e){var t=en.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),on(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),on(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),on(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),on(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;Jt((function(t){var n=t.entries.pop();if(n){var r=(0,zt.XL)(performance.timeOrigin),i=(0,zt.XL)(n.startTime);ye.k.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i}}}))},e.prototype._trackFID=function(){var e=this;!function(e){var t=Ht("FID"),n=Xt(),r=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,o())},i=Wt("first-input",r),o=Gt(e,t,i);i?$t((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,r){r.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+e}],o())}))}((function(t){var n=t.entries.pop();if(n){var r=(0,zt.XL)(performance.timeOrigin),i=(0,zt.XL)(n.startTime);ye.k.log("[Measurements] Adding FID"),e._measurements.fid={value:t.value},e._measurements["mark.fid"]={value:r+i}}}))},e.prototype._trackTTFB=function(){var e=this;Qt((function(t){var n,r=t.entries.pop();if(r){ye.k.log("[Measurements] Adding TTFB"),e._measurements.ttfb={value:t.value};var i=t.value-(n=t.entries[0],null!==n&&void 0!==n?n:r).requestStart;e._measurements["ttfb.requestTime"]={value:i}}}))},e}();function nn(e,t,n,r,i){var o=i?t[i]:t[n+"End"],a=t[n+"Start"];a&&o&&rn(e,{op:"browser",description:n,startTimestamp:r+(0,zt.XL)(a),endTimestamp:r+(0,zt.XL)(o)})}function rn(e,t){var n=t.startTimestamp,r=(0,xe._T)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,xe.pi)({startTimestamp:n},r))}function on(e){return"number"===typeof e&&isFinite(e)}var an={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function sn(e){var t=(0,xe.pi)((0,xe.pi)({},an),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},s=function(e){if(a[e])return a[e];var t=i;return a[e]=t.some((function(t){return(0,Ee.zC)(e,t)}))&&!(0,Ee.zC)(e,"sentry_key"),a[e]},u=s;"function"===typeof o&&(u=function(e){return s(e)&&o(e)});var c={};n&&(0,Et.o)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,ge.Gd)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,zt.zu)(i)||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp&&e.fetchData.__span){if(s=n[e.fetchData.__span]){var o=e.response;o&&s.setHttpStatus(o.status),s.finish(),delete n[e.fetchData.__span]}return}var a=(0,zt.x1)();if(a){var s=a.startChild({data:(0,xe.pi)((0,xe.pi)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=s.spanId,n[s.spanId]=s;var u=e.args[0]=e.args[0],c=e.args[1]=e.args[1]||{},l=c.headers;(0,Ne.V9)(u,Request)&&(l=u.headers),l?"function"===typeof l.append?l.append("sentry-trace",s.toTraceparent()):l=Array.isArray(l)?(0,xe.fl)(l,[["sentry-trace",s.toTraceparent()]]):(0,xe.pi)((0,xe.pi)({},l),{"sentry-trace":s.toTraceparent()}):l={"sentry-trace":s.toTraceparent()},c.headers=l}}(e,u,c)},type:"fetch"}),r&&(0,Et.o)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,ge.Gd)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,zt.zu)(i)||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url))||e.xhr.__sentry_own_request__)return;var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){return void((s=n[e.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[e.xhr.__sentry_xhr_span_id__]))}var a=(0,zt.x1)();if(a){var s=a.startChild({data:(0,xe.pi)((0,xe.pi)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(tp){}}}(e,u,c)},type:"xhr"})}var un=(0,we.Rf)();var cn=(0,xe.pi)({idleTimeout:Dt.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),un&&un.location){var r,i=un.location.href;t&&(r=e({name:un.location.pathname,op:"pageload"})),n&&(0,Et.o)({callback:function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(ye.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:un.location.pathname,op:"navigation"}))},type:"history"})}else ye.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},an),ln=function(){function e(t){this.name=e.id,this._metrics=new tn,this._emitOptionsWarning=!1;var n=an.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,xe.pi)((0,xe.pi)((0,xe.pi)({},cn),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(ye.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ye.k.warn("[Tracing] We added a reasonable default for you: "+an.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,c=r.traceXHR,l=r.tracingOrigins,d=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),a,o),s&&(Ut&&Ut.document?Ut.document.addEventListener("visibilitychange",(function(){var e=(0,zt.x1)();Ut.document.hidden&&e&&(ye.k.log("[Tracing] Transaction: "+Ft.p.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Ft.p.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())})):ye.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),sn({traceFetch:u,traceXHR:c,tracingOrigins:l,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e=function(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(e)return(0,zt.qG)(e);return}():void 0,s=(0,xe.pi)((0,xe.pi)((0,xe.pi)({},e),a),{trimEnd:!0}),u="function"===typeof r?r(s):s,c=void 0===u?(0,xe.pi)((0,xe.pi)({},s),{sampled:!1}):u;!1===c.sampled&&ye.k.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate.");var l=this._getCurrentHub(),d=(0,jt.lb)(l,c,i,!0);return ye.k.log("[Tracing] Starting "+c.op+" transaction on scope"),d.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus(Ft.p.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}((0,zt.WB)(o),e,n)})),d}ye.k.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();var dn=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]);t.forEach((function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,(0,xe.fl)([this],pn(e,t)))},e}(e,t)}))}(this._router,this._methods):ye.k.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function fn(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:e.name,op:"middleware."+t});r.once("finish",(function(){o.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){var o,a=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=a)||void 0===e||e.finish(),i.call.apply(i,(0,xe.fl)([this],t))}))};case 4:return function(n,r,i,o){var a,s=null===(a=i.__sentry_transaction)||void 0===a?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,i,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),o.call.apply(o,(0,xe.fl)([this],t))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function pn(e,t){return e.map((function(e){return"function"===typeof e?fn(e,t):Array.isArray(e)?e.map((function(e){return"function"===typeof e?fn(e,t):e})):e}))}var hn=n(4170),mn=n(7465),vn=n(3701),gn=(0,xe.pi)((0,xe.pi)({},e),{BrowserTracing:ln});(0,jt.ro)();var yn=JSON.parse('{"defaultLanguage":"fr","wallpapers":[{"label":"SoZ 1","value":"back1.jpg"},{"label":"SoZ 2","value":"back2.jpg"},{"label":"SoZ 3","value":"back3.jpg"},{"label":"SoZ 4","value":"back4.jpg"},{"label":"SoZ 5","value":"back5.jpg"},{"label":"SoZ 6","value":"back6.jpg"},{"label":"SoZ 7","value":"back7.jpg"},{"label":"SoZ 8","value":"back8.jpg"}],"frames":[{"label":"Default","value":"default.png"}],"zoomOptions":[{"label":"200%","value":200},{"label":"180%","value":180},{"label":"160%","value":160},{"label":"140%","value":140},{"label":"120%","value":120},{"label":"100%","value":100},{"label":"90%","value":90},{"label":"80%","value":80},{"label":"70%","value":70}],"languages":[{"label":"Fran\xe7ais","value":"fr"}],"ringtones":[{"label":"Marimba","value":"marimba"},{"label":"Pixel","value":"pixel"}],"notiSounds":[{"label":"Online","value":"online"},{"label":"99kr","value":"99kr"}],"defaultSettings":{"language":{"label":"English","value":"fr"},"wallpaper":{"label":"Soz1","value":"back1.jpg"},"customWallpaper":"","frame":{"label":"Default","value":"default.png"},"theme":{"label":"Mode clair","value":"light"},"zoom":{"label":"90%","value":90},"streamerMode":false,"ringtone":{"label":"Pixel","value":"pixel"},"notiSound":{"label":"Online","value":"online"},"ringtoneVol":50,"notiSoundVol":50},"themes":[{"label":"Mode clair","value":"light"},{"label":"Mode sombre","value":"dark"}],"debug":{"printDebugLogs":false,"logLevel":1,"shouldShowAtomDebug":false},"SentryErrorMetrics":false}'),bn=n(7310);function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wn(e,t){if(e){if("string"===typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}function En(e){return function(e){if(Array.isArray(e))return xn(e)}(e)||_n(e)||wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e){if(Array.isArray(e))return e}function Tn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mn(e,t){return Sn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||wn(e,t)||Tn()}var An=n(8172);function Cn(e){return Sn(e)||_n(e)||wn(e)||Tn()}function kn(e,t){if(null==e)return{};var n,r,i=V(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Rn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){On(o,r,i,a,s,"next",e)}function s(e){On(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}function Pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function In(e,t,n){return In=Pn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},In.apply(null,arguments)}function jn(e){var t="function"===typeof Map?new Map:void 0;return jn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return In(e,arguments,Nn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)},jn(e)}function Dn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function zn(e,t){if(t&&("object"===Fn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Un(e){var t=Pn();return function(){var n,r=Nn(e);if(t){var i=Nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zn(this,n)}}function Bn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Wn=n(7581),Zn=n.n(Wn),qn=["override"],Yn=["default"],$n=["cachePolicyForParams_UNSTABLE"],Xn=Zn().mark(gr),Jn=Zn().mark(mo);var Kn=function(e){return!!e&&"function"===typeof e.then};var Qn=function(e,t){if(null!=e)return e;throw new Error(null!==t&&void 0!==t?t:"Got unexpected null or undefined")},er=Gn((function e(){Hn(this,e)})),tr=new er,nr={valueMaybe:function(){},valueOrThrow:function(){throw new Error('Loadable expected value, but in "'.concat(this.state,'" state'))},errorMaybe:function(){},errorOrThrow:function(){throw new Error('Loadable expected error, but in "'.concat(this.state,'" state'))},promiseMaybe:function(){},promiseOrThrow:function(){throw new Error('Loadable expected promise, but in "'.concat(this.state,'" state'))},is:function(e){return e.state===this.state&&e.contents===this.contents},map:function(e){var t=this;if("hasError"===this.state)return this;if("hasValue"===this.state)try{var n=e(this.contents);return Kn(n)?or(n.then((function(e){return{__value:e}}))):rr(n)}catch(r){return Kn(r)?or(r.next((function(){return e(t.contents)}))):ir(r)}if("loading"===this.state)return or(this.contents.then((function(t){return{__value:e(t.__value)}})).catch((function(n){if(Kn(n))return n.then((function(){return e(t.contents)}));throw n})));throw new Error("Invalid Loadable state")}};function rr(e){return Object.freeze((0,bn.Z)((0,bn.Z)({state:"hasValue",contents:e},nr),{},{getValue:function(){return this.contents},toPromise:function(){return Promise.resolve(this.contents)},valueMaybe:function(){return this.contents},valueOrThrow:function(){return this.contents}}))}function ir(e){return Object.freeze((0,bn.Z)((0,bn.Z)({state:"hasError",contents:e},nr),{},{getValue:function(){throw this.contents},toPromise:function(){return Promise.reject(this.contents)},errorMaybe:function(){return this.contents},errorOrThrow:function(){return this.contents}}))}function or(e){return Object.freeze((0,bn.Z)((0,bn.Z)({state:"loading",contents:e},nr),{},{getValue:function(){throw this.contents.then((function(e){return e.__value}))},toPromise:function(){return this.contents.then((function(e){return e.__value}))},promiseMaybe:function(){return this.contents.then((function(e){return e.__value}))},promiseOrThrow:function(){return this.contents.then((function(e){return e.__value}))}}))}var ar,sr={loadableWithValue:rr,loadableWithError:ir,loadableWithPromise:or,loadableLoading:function(){return or(new Promise((function(){})))},loadableAll:function(e){return e.every((function(e){return"hasValue"===e.state}))?rr(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?ir(Qn(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):or(Promise.all(e.map((function(e){return e.contents}))).then((function(e){return{__value:e}})))},Canceled:er,CANCELED:tr},ur=null!==(ar=t.useMutableSource)&&void 0!==ar?ar:t.unstable_useMutableSource;var cr={mutableSourceExists:function(){return ur&&!("undefined"!==typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:ur},lr=cr.mutableSourceExists,dr=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function fr(e){var t;return!("recoil_early_rendering_2021"===e&&!lr())&&(null!==(t=dr.get(e))&&void 0!==t&&t)}fr.setPass=function(e){dr.set(e,!0)},fr.setFail=function(e){dr.set(e,!1)};var pr=fr;var hr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},mr=hr;var vr=function(e,t){var n=new Set(e);return n.add(t),n};function gr(e,t){var n,r,i,o;return Zn().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=Bn(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=11;break}if(o=i.value,!t(o,n++)){a.next=9;break}return a.next=9,o;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}}),Xn,null,[[2,13,16,19]])}var yr=gr;var br=function(e,t){return Zn().mark((function n(){var r,i,o,a;return Zn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=Bn(e),n.prev=2,i.s();case 4:if((o=i.n()).done){n.next=10;break}return a=o.value,n.next=8,t(a,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var xr=function(e){};function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wr=Gn((function e(t){Hn(this,e),_r(this,"key",void 0),this.key=t})),Er=function(e){Dn(n,e);var t=Un(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Gn(n)}(wr),Sr=function(e){Dn(n,e);var t=Un(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Gn(n)}(wr);var Tr={AbstractRecoilValue:wr,RecoilState:Er,RecoilValueReadOnly:Sr,isRecoilValue:function(e){return e instanceof Er||e instanceof Sr}},Mr=Tr.AbstractRecoilValue,Ar=Tr.RecoilState,Cr=Tr.RecoilValueReadOnly,kr=Tr.isRecoilValue,Lr=Object.freeze({__proto__:null,AbstractRecoilValue:Mr,RecoilState:Ar,RecoilValueReadOnly:Cr,isRecoilValue:kr}),Or=Gn((function e(){Hn(this,e)})),Rr=new Or,Nr=function(e){Dn(n,e);var t=Un(n);function n(e){return Hn(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return Gn(n)}(jn(Error)),Pr=new Map,Ir=new Map;var jr=function(e){Dn(n,e);var t=Un(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Gn(n)}(jn(Error));var Dr=new Map;function Fr(e){return Dr.get(e)}var zr={nodes:Pr,recoilValues:Ir,registerNode:function(e){if(Pr.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}Pr.set(e.key,e);var n=null==e.set?new Lr.RecoilValueReadOnly(e.key):new Lr.RecoilState(e.key);return Ir.set(e.key,n),n},getNode:function(e){var t=Pr.get(e);if(null==t)throw new jr('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Pr.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(pr("recoil_memory_managament_2020")){var n,r=Pr.get(e);if(null===r||void 0===r||null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))Pr.delete(e),null===(n=Fr(e))||void 0===n||n(),Dr.delete(e)}},setConfigDeletionHandler:function(e,t){pr("recoil_memory_managament_2020")&&(void 0===t?Dr.delete(e):Dr.set(e,t))},getConfigDeletionHandler:Fr,recoilValuesForKeys:function(e){return br(e,(function(e){return Qn(Ir.get(e))}))},NodeMissingError:jr,DefaultValue:Or,DEFAULT_VALUE:Rr,RecoilValueNotReady:Nr},Ur=Gn((function e(){Hn(this,e)}));var Br={RetentionZone:Ur,retentionZone:function(){return new Ur}},Vr=vr,Gr=zr.getNode,Hr=zr.getNodeMaybe,Wr=zr.recoilValuesForKeys,Zr=Br.RetentionZone,qr=Object.freeze(new Set),Yr=function(e){Dn(n,e);var t=Un(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Gn(n)}(jn(Error));function $r(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var o=Gr(n),a=function(e,t,n){if(!pr("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Zr)i(n);else if(Array.isArray(n)){var o,a=Bn(n);try{for(a.s();!(o=a.n()).done;)i(o.value)}catch(s){a.e(s)}finally{a.f()}}return function(){if(pr("recoil_memory_managament_2020")){var r=e.getState().retention.nodesRetainedByZone;if(n instanceof Zr)a(n);else if(Array.isArray(n)){var i,o=Bn(n);try{for(o.s();!(i=o.n()).done;)a(i.value)}catch(s){o.e(s)}finally{o.f()}}}function a(e){var n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){s(),a()}))}}function Xr(e,t,n){return Gr(n).peek(e,t)}function Jr(e,t,n){for(var r=new Set,i=Array.from(n),o=e.getGraph(t.version),a=i.pop();a;a=i.pop()){var s;r.add(a);var u,c=Bn(null!==(s=o.nodeToNodeSubscriptions.get(a))&&void 0!==s?s:qr);try{for(c.s();!(u=c.n()).done;){var l=u.value;r.has(l)||i.push(l)}}catch(d){c.e(d)}finally{c.f()}}return r}var Kr=function(e,t,n){return $r(e,t,n,"get"),Gr(n).get(e,t)},Qr=Xr,ei=function(e,t,n,r){var i=Gr(n);if(null==i.set)throw new Yr("Attempt to set read-only RecoilValue: ".concat(n));var o=i.set;return $r(e,t,n,"set"),o(e,t,r)},ti=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},ni=function(e,t,n){var r,i=Hr(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),(0,bn.Z)((0,bn.Z)({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Vr(e.dirtyAtoms,t)})},ri=function(e,t,n){var r,i,o,a=e.getState(),s=e.getGraph(t.version),u=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,c=yr(Jr(e,t,new Set([n])),(function(e){return e!==n}));return{loadable:Xr(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:Wr(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:Wr(c),components:br(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(function(e){return{name:Mn(e,1)[0]}}))}}},ii=Jr,oi=$r,ai=sr.CANCELED,si=ii,ui=Kr,ci=ei,li=zr.getNodeMaybe,di=zr.DefaultValue,fi=zr.RecoilValueNotReady,pi=Lr.AbstractRecoilValue,hi=Lr.RecoilState,mi=Lr.RecoilValueReadOnly,vi=Lr.isRecoilValue;function gi(e,t,n){if("set"===n.type){var r,i=n.recoilValue,o=function(e,t,n,r){var i=n.key;if("function"===typeof r){var o=ui(e,t,i);if("loading"===o.state)throw new fi(i);if("hasError"===o.state)throw o.contents;return r(o.contents)}return r}(e,t,i,n.valueOrUpdater),a=Bn(ci(e,t,i.key,o).entries());try{for(a.s();!(r=a.n()).done;){var s=Mn(r.value,2);yi(t,s[0],s[1])}}catch(p){a.e(p)}finally{a.f()}}else if("setLoadable"===n.type){yi(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var u=n.recoilValue.key;t.dirtyAtoms.add(u)}else if("setUnvalidated"===n.type){var c,l=n.recoilValue.key,d=n.unvalidatedValue,f=li(l);null===f||void 0===f||null===(c=f.invalidate)||void 0===c||c.call(f,t),t.atomValues.delete(l),t.nonvalidatedAtoms.set(l,d),t.dirtyAtoms.add(l)}else mr("Unknown action ".concat(n.type))}function yi(e,t,n){"hasValue"===n.state&&n.contents instanceof di?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function bi(e,t){e.replaceState((function(n){var r,i=wi(n),o=Bn(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;gi(e,i,a)}}catch(s){o.e(s)}finally{o.f()}return Ei(e,i),i}))}function xi(e,t){if(_i.length){var n=_i[_i.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else bi(e,[t])}var _i=[];function wi(e){return(0,bn.Z)((0,bn.Z)({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function Ei(e,t){var n,r=Bn(si(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,o,a=n.value;null===(i=li(a))||void 0===i||null===(o=i.invalidate)||void 0===o||o.call(i,t)}}catch(s){r.e(s)}finally{r.f()}}function Si(e,t,n){xi(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Ti=0;var Mi={RecoilValueReadOnly:mi,AbstractRecoilValue:pi,RecoilState:hi,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,a=e.getState();o.version!==a.currentTree.version&&o.version!==(null===(n=a.nextTree)||void 0===n?void 0:n.version)&&o.version!==(null===(r=a.previousTree)||void 0===r?void 0:r.version)&&mr("Tried to read from a discarded tree");var s=ui(e,o,i);return"loading"===s.state&&s.contents.catch((function(){return ai})),s},setRecoilValue:Si,setRecoilValueLoadable:function(e,t,n){if(n instanceof di)return Si(e,t,n);xi(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){xi(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){xi(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Ti++,a=e.getState();if(a.nodeToComponentSubscriptions.has(r)||a.nodeToComponentSubscriptions.set(r,new Map),Qn(a.nodeToComponentSubscriptions.get(r)).set(o,[null!==i&&void 0!==i?i:"<not captured>",n]),pr("recoil_early_rendering_2021")){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(o)?(n.delete(o),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):mr("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:vi,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof di?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return _i.push(e),function(){var t,n=Bn(e);try{for(n.s();!(t=n.n()).done;){var r=Mn(t.value,2);bi(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}_i.pop()!==e&&mr("Incorrect order of batch popping")}},writeLoadableToTreeState:yi,invalidateDownstreams:Ei,copyTreeState:wi,invalidateDownstreams_FOR_TESTING:Ei},Ai=r.unstable_batchedUpdates,Ci=Mi.batchStart,ki={unstable_batchedUpdates:{unstable_batchedUpdates:Ai}.unstable_batchedUpdates}.unstable_batchedUpdates,Li=function(e){ki=e},Oi=function(e){ki((function(){var t=function(){};try{t=Ci(),e()}finally{t()}}))};var Ri={enqueueExecution:function(e,t){t()}};var Ni=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=Bn(e);try{e:for(a.s();!(o=a.n()).done;){var s,u=o.value,c=Bn(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.has(u))continue e}}catch(d){c.e(d)}finally{c.f()}t.add(u)}}catch(d){a.e(d)}finally{a.f()}return t};var Pi=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Ii(e,t,n){var r=t.nodeDeps,i=t.nodeToNodeSubscriptions;e.forEach((function(e,t){var o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:Ni(e,o)).forEach((function(e){i.has(e)||i.set(e,new Set),Qn(i.get(e)).add(t)})),o&&Ni(o,e).forEach((function(e){if(i.has(e)){var n=Qn(i.get(e));n.delete(t),0===n.size&&i.delete(e)}})))}))}var ji=function(e){return{nodeDeps:Pi(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Pi(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Di=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},Fi=function(e,t,n){var r,i,o,a,s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(i=s.previousTree)||void 0===i?void 0:i.version)&&mr("Tried to save dependencies to a discarded tree");var u=t.getGraph(n);if(Ii(e,u),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&Ii(e,t.getGraph(s.currentTree.version),u),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var c,l=null===(c=s.nextTree)||void 0===c?void 0:c.version;if(void 0!==l)Ii(e,t.getGraph(l),u)}};var zi,Ui,Bi=(zi=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},u=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},l=function(e,t){return t>>>e&i},d=function(e){return 1<<e},f=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)},p=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},h=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},m={__hamt_isEmpty:!0},v=function(e){return e===m||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},x=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:M}},_=function e(t,n,r,i,o,a){if(r===o)return y(t,r,[a,i]);var s=l(n,r),u=l(n,o);return b(t,d(s)|d(u),s===u?[e(t,n+5,r,i,o,a)]:s<u?[i,a]:[a,i])},w=function(e,t){return e===t.edit},E=function(e,t,n,r,i,o,a){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--a.value,m):w(e,this)?(this.value=u,this):g(e,i,o,u)}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},S=function(e,t,n,r,i,o,a){if(i===this.hash){var u=function(e,t,n,r,i,o,a,u){for(var c=i.length,l=0;l<c;++l){var d=i[l];if(n(a,d.key)){var f=d.value,m=o(f);return m===f?i:m===s?(--u.value,h(e,l,i)):p(e,l,g(t,r,a,m),i)}}var v=o();return v===s?i:(++u.value,p(e,c,g(t,r,a,v),i))}(w(e,this),e,t,this.hash,this.children,r,o,a);return u===this.children?this:u.length>1?y(e,this.hash,u):u[0]}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},T=function(e,t,n,r,i,a,s){var u=this.mask,c=this.children,g=l(n,i),y=d(g),_=f(u,y),E=u&y,S=E?c[_]:m,T=S._modify(e,t,n+5,r,i,a,s);if(S===T)return this;var M,A=w(e,this),C=u,k=void 0;if(E&&v(T)){if(!(C&=~y))return m;if(c.length<=2&&((M=c[1^_])===m||1===M.type||2===M.type))return c[1^_];k=h(A,_,c)}else if(E||v(T))k=p(A,_,T,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,x(e,s+1,o)}(e,g,T,u,c);C|=y,k=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=new Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u}(A,_,T,c)}return A?(this.mask=C,this.children=k,this):b(e,C,k)},M=function(e,t,n,r,i,o,s){var u=this.size,c=this.children,d=l(n,i),f=c[d],h=(f||m)._modify(e,t,n+5,r,i,o,s);if(f===h)return this;var g=w(e,this),y=void 0;if(v(f)&&!v(h))++u,y=p(g,d,h,c);else if(!v(f)&&v(h)){if(--u<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var c=r[s];c&&!v(c)&&(i[o++]=c,a|=1<<s)}return b(e,a,i)}(e,u,d,c);y=p(g,d,m,c)}else y=p(g,d,h,c);return g?(this.size=u,this.children=y,this):x(e,u,y)};function A(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,a){var u=r();return u===s?m:(++a.value,g(e,i,o,u))},A.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new A(this._editable,this._edit,this._config,e,t)};var C=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,c=s.length;u<c;++u){var p=s[u];if(a(n,p.key))return p.value}return e;case 3:var h=l(o,t),m=d(h);if(i.mask&m){i=i.children[f(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};A.prototype.tryGetHash=function(e,t,n){return C(e,t,n,this)};var k=n.tryGet=function(e,t,n){return C(e,n._config.hash(t),t,n)};A.prototype.tryGet=function(e,t){return k(e,t,this)};var L=n.getHash=function(e,t,n){return C(void 0,e,t,n)};A.prototype.getHash=function(e,t){return L(e,t,this)},n.get=function(e,t){return C(void 0,t._config.hash(e),e,t)},A.prototype.get=function(e,t){return k(t,e,this)};var O=n.has=function(e,t,n){return C(s,e,t,n)!==s};A.prototype.hasHash=function(e,t){return O(e,t,this)};var R=n.has=function(e,t){return O(t._config.hash(e),e,t)};A.prototype.has=function(e){return R(e,this)};var N=function(e,t){return e===t};n.make=function(e){return new A(0,0,{keyEq:e&&e.keyEq||N,hash:e&&e.hash||c},m,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!v(e._root)};A.prototype.isEmpty=function(){return P(this)};var I=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};A.prototype.modifyHash=function(e,t,n){return I(n,e,t,this)};var j=n.modify=function(e,t,n){return I(e,n._config.hash(t),t,n)};A.prototype.modify=function(e,t){return j(t,e,this)};var D=n.setHash=function(e,t,n,r){return I(u(n),e,t,r)};A.prototype.setHash=function(e,t,n){return D(e,t,n,this)};var F=n.set=function(e,t,n){return D(n._config.hash(e),e,t,n)};A.prototype.set=function(e,t){return F(e,t,this)};var z=u(s),U=n.removeHash=function(e,t,n){return I(z,e,t,n)};A.prototype.removeHash=A.prototype.deleteHash=function(e,t){return U(e,t,this)};var B=n.remove=function(e,t){return U(t._config.hash(e),e,t)};A.prototype.remove=A.prototype.delete=function(e){return B(e,this)};var V=n.beginMutation=function(e){return new A(e._editable+1,e._edit+1,e._config,e._root,e._size)};A.prototype.beginMutation=function(){return V(this)};var G=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};A.prototype.endMutation=function(){return G(this)};var H=n.mutate=function(e,t){var n=V(t);return e(n),G(n)};A.prototype.mutate=function(e){return H(e,this)};var W=function(e){return e&&Z(e[0],e[1],e[2],e[3],e[4])},Z=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!v(o))return q(o,r,[e,t,n,r,i])}return W(i)},q=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return Z(r.length,r,0,t,n);default:return W(n)}},Y={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Y;var e=this.v;return this.v=W(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var X=function(e,t){return new $(q(e._root,t))},J=function(e){return[e.key,e.value]},K=n.entries=function(e){return X(e,J)};A.prototype.entries=A.prototype[Symbol.iterator]=function(){return K(this)};var Q=function(e){return e.key},ee=n.keys=function(e){return X(e,Q)};A.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=A.prototype.values=function(e){return X(e,te)};A.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};A.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};A.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};A.prototype.count=function(){return oe(this)},Object.defineProperty(A.prototype,"size",{get:A.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},zi(Ui={exports:{}},Ui.exports),Ui.exports),Vi=function(){function e(t){Hn(this,e),_r(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return Gn(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Hi(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),Gi=function(){function e(t){if(Hn(this,e),_r(this,"_hamt",Bi.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=Bn(t.entries());try{for(i.s();!(r=i.n()).done;){var o=Mn(r.value,2),a=o[0],s=o[1];this._hamt.set(a,s)}}catch(u){i.e(u)}finally{i.f()}}}return Gn(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Hi(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Hi(e){return pr("recoil_hamt_2020")?new Gi(e):new Vi(e)}var Wi=Hi,Zi=Di,qi=Object.freeze({__proto__:null,persistentMap:Wi}).persistentMap,Yi=0,$i=function(){return Yi++};function Xi(){var e=$i();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:qi(),nonvalidatedAtoms:qi()}}var Ji=function(){var e=Xi();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Zi()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},Ki=$i;var Qi=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,s=o[i],u=Bn(s);try{for(u.s();!(a=u.n()).done;){var c=a.value;e.add(c)}}catch(l){u.e(l)}finally{u.f()}}return e};var eo=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1},to=ti,no=zr.deleteNodeConfigIfPossible,ro=zr.getNode,io=Br.RetentionZone,oo=new Set;function ao(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)mr("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,o=new Set,a=Bn(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s instanceof io){var u,c=Bn(uo(n,s));try{for(c.s();!(u=c.n()).done;){var l=u.value;o.add(l)}}catch(h){c.e(h)}finally{c.f()}}else o.add(s)}}catch(h){a.e(h)}finally{a.f()}var d,f=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return s(t),o;function s(t){var u,c=new Set,l=function(e,t,n,r,i){var o=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)u(Qn(n.values().next().value));return a;function u(e){if(r.has(e)||i.has(e))n.delete(e);else if(!s.has(e)){var t=o.nodeToNodeSubscriptions.get(e);if(t){var c,l=Bn(t);try{for(l.s();!(c=l.n()).done;){u(c.value)}}catch(h){l.e(h)}finally{l.f()}}s.add(e),n.delete(e),a.push(e)}}}(e,r,t,o,a),d=Bn(l);try{for(d.s();!(u=d.n()).done;){var f,p=u.value;if("recoilRoot"!==ro(p).retainedBy)if((null!==(f=n.retention.referenceCounts.get(p))&&void 0!==f?f:0)>0)a.add(p);else if(co(p).some((function(e){return n.retention.referenceCounts.get(e)})))a.add(p);else{var m=i.nodeToNodeSubscriptions.get(p);m&&eo(m,(function(e){return a.has(e)}))?a.add(p):(o.add(p),c.add(p))}else a.add(p)}}catch(h){d.e(h)}finally{d.f()}var v,g=new Set,y=Bn(c);try{for(y.s();!(v=y.n()).done;){var b,x=v.value,_=Bn(null!==(w=i.nodeDeps.get(x))&&void 0!==w?w:oo);try{for(_.s();!(b=_.n()).done;){var w,E=b.value;o.has(E)||g.add(E)}}catch(h){_.e(h)}finally{_.f()}}}catch(h){y.e(h)}finally{y.f()}g.size&&s(g)}}(e,o),p=Bn(f);try{for(p.s();!(d=p.n()).done;){so(e,r,d.value)}}catch(h){p.e(h)}finally{p.f()}}}function so(e,t,n){if(pr("recoil_memory_managament_2020")){to(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,o=Bn(co(n));try{for(o.s();!(i=o.n()).done;){var a,s=i.value;null===(a=r.retention.nodesRetainedByZone.get(s))||void 0===a||a.delete(n)}}catch(h){o.e(h)}finally{o.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var u=r.graphsByVersion.get(t.version);if(u){var c=u.nodeDeps.get(n);if(void 0!==c){u.nodeDeps.delete(n);var l,d=Bn(c);try{for(d.s();!(l=d.n()).done;){var f,p=l.value;null===(f=u.nodeToNodeSubscriptions.get(p))||void 0===f||f.delete(n)}}catch(h){d.e(h)}finally{d.f()}}u.nodeToNodeSubscriptions.delete(n)}no(n)}}function uo(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:oo}function co(e){var t=ro(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof io?[t]:t}function lo(e,t){pr("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):ao(e,new Set([t]))}(e,t))}var fo=function(e,t,n){var r;if(pr("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?lo(e,t):i.set(t,o)}},po=function(e){if(pr("recoil_memory_managament_2020")){var t=e.getState();ao(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},ho=function(e){return void 0===e?"recoilRoot":e};function mo(e){var t,n,r,i,o,a;return Zn().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=Bn(e),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=Bn(r),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),Jn,null,[[1,26,29,32],[6,16,19,22]])}var vo=mo,go={isSSR:"undefined"===typeof window,isReactNative:"undefined"!==typeof navigator&&"ReactNative"===navigator.product},yo=go.isSSR,bo=Oi,xo=oi,_o=ri,wo=Di,Eo=zr.DEFAULT_VALUE,So=zr.recoilValues,To=zr.recoilValuesForKeys,Mo=Mi.AbstractRecoilValue,Ao=Mi.getRecoilValueAsLoadable,Co=Mi.setRecoilValue,ko=Mi.setUnvalidatedRecoilValue,Lo=fo,Oo=Ki,Ro=Ji,No=function(){function e(t){var n=this;Hn(this,e),_r(this,"_store",void 0),_r(this,"_refCount",0),_r(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),Ao(n._store,e)})),_r(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),_r(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return To(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,i=n._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?So.values():!0===e.isInitialized?To(vo([n._store.getState().knownAtoms,n._store.getState().knownSelectors])):yr(So.values(),(function(e){var t=e.key;return!r.has(t)&&!i.has(t)}))})),_r(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),_o(n._store,n._store.getState().currentTree,t)})),_r(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new jo(n,bo);return e(t),Io(t.getStore_INTERNAL())})),_r(this,"asyncMap",function(){var e=Rn(Zn().mark((function e(t){var r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),r=new jo(n,bo),e.next=4,t(r);case 4:return e.abrupt("return",Io(r.getStore_INTERNAL()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return Qn(n.get(e));var r=wo();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw new Error("Cannot subscribe to Snapshots")}};var r,i=Bn(this._store.getState().nodeCleanupFunctions.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value;xo(this._store,t.currentTree,o,"get"),Lo(this._store,o,1)}}catch(a){i.e(a)}finally{i.f()}this.retain(),this.autorelease_INTERNAL()}return Gn(e,[{key:"retain",value:function(){var e=this;if(!pr("recoil_memory_managament_2020"))return function(){};this._refCount++;var t=!1;return function(){t||(t=!0,e.release_INTERNAL())}}},{key:"autorelease_INTERNAL",value:function(){var e=this;pr("recoil_memory_managament_2020")&&(yo||window.setTimeout((function(){return e.release_INTERNAL()}),0))}},{key:"release_INTERNAL",value:function(){pr("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}},{key:"checkRefCount_INTERNAL",value:function(){pr("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}},{key:"getID_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}]),e}();function Po(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?Oo():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:(0,bn.Z)({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function Io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=e.getState(),r="current"===t?n.currentTree:Qn(n.previousTree);return new No(Po(e,r))}var jo=function(e){Dn(n,e);var t=Un(n);function n(e,r){var i;return Hn(this,n),_r(Ln(i=t.call(this,Po(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0))),"_batch",void 0),_r(Ln(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){Lo(n,e.key,1),Co(i.getStore_INTERNAL(),e,t)}))})),_r(Ln(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){Lo(t,e.key,1),Co(i.getStore_INTERNAL(),e,Eo)}))})),_r(Ln(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();bo((function(){var n,r=Bn(e.entries());try{for(r.s();!(n=r.n()).done;){var i=Mn(n.value,2),o=i[0],a=i[1];Lo(t,o,1),ko(t,new Mo(o),a)}}catch(s){r.e(s)}finally{r.f()}}))})),i._batch=r,i}return Gn(n)}(No),Do={Snapshot:No,MutableSnapshot:jo,freshSnapshot:function(e){var t=new No(Ro());return null!=e?t.map(e):t},cloneSnapshot:Io},Fo=Do.Snapshot,zo=Do.MutableSnapshot,Uo=Do.freshSnapshot,Bo=Do.cloneSnapshot,Vo=Object.freeze({__proto__:null,Snapshot:Fo,MutableSnapshot:zo,freshSnapshot:Uo,cloneSnapshot:Bo}),Go=Ki,Ho=Ji,Wo=ti,Zo=ii,qo=ei,Yo=ni,$o=Di,Xo=ji,Jo=Mi.applyAtomValueWrites,Ko=po,Qo=Vo.freshSnapshot,ea=t.useCallback,ta=t.useContext,na=t.useEffect,ra=t.useMemo,ia=t.useRef,oa=t.useState;function aa(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var sa=Object.freeze({getState:aa,replaceState:aa,getGraph:aa,subscribeToTransactions:aa,addTransactionMetadata:aa}),ua=!1;function ca(e){if(ua)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){pr("recoil_memory_managament_2020")&&pr("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Ko(e);var n=t.currentTree.version,r=Go();t.nextTree=(0,bn.Z)((0,bn.Z)({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,Xo(Qn(t.graphsByVersion.get(n))))}}var la=t.createContext({current:sa}),da=function(){return ta(la)},fa=t.createContext(null);function pa(e,t,n){var r,i=Bn(Zo(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t.nodeToComponentSubscriptions.get(o);if(a){var s,u=Bn(a);try{for(u.s();!(s=u.n()).done;){var c=Mn(s.value,2),l=(c[0],Mn(c[1],2));l[0];(0,l[1])(n)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){i.e(d)}finally{i.f()}}function ha(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,o=Bn(t.nodeTransactionSubscriptions);try{for(o.s();!(i=o.n()).done;){var a=Mn(i.value,2),s=a[0],u=a[1];if(r.has(s)){var c,l=Bn(u);try{for(l.s();!(c=l.n()).done;){var d=Mn(c.value,2);d[0];(0,d[1])(e)}}catch(m){l.e(m)}finally{l.f()}}}}catch(m){o.e(m)}finally{o.f()}var f,p=Bn(t.transactionSubscriptions);try{for(p.s();!(f=p.n()).done;){var h=Mn(f.value,2);h[0];(0,h[1])(e)}}catch(m){p.e(m)}finally{p.f()}pr("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(pa(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function ma(e){var t=e.setNotifyBatcherOfChange,n=da(),r=Mn(oa([]),2),i=(r[0],r[1]);return t((function(){return i({})})),na((function(){Ri.enqueueExecution("Batcher",(function(){!function(e){var t=e.current.getState();t.commitDepth++;try{var n=t.nextTree;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,ha(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):mr("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,pr("recoil_memory_managament_2020")&&Ko(e.current)}finally{t.commitDepth--}}(n)}))})),na((function(){return function(){t((function(){}))}}),[t]),null}var va=0;function ga(e){var n,r,i=e.initializeState_DEPRECATED,o=e.initializeState,a=e.store_INTERNAL,s=e.children,u=ia(null),c=ea((function(e){u.current=e}),[u]),l=null!==(n=t.createMutableSource)&&void 0!==n?n:t.unstable_createMutableSource,d=null!==a&&void 0!==a?a:{getState:function(){return r.current},replaceState:function(e){var t=f.current.getState();ca(f.current);var n,r=Qn(t.nextTree);try{ua=!0,n=e(r)}finally{ua=!1}n!==r&&(t.nextTree=n,pr("recoil_early_rendering_2021")&&pa(d,t,n),Qn(u.current)())},getGraph:function(e){var t=r.current.graphsByVersion;if(t.has(e))return Qn(t.get(e));var n=$o();return t.set(e,n),n},subscribeToTransactions:function(e,t){if(null==t){var n=f.current.getState().transactionSubscriptions,r=va++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=f.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var o=va++;return Qn(i.get(t)).set(o,e),{release:function(){var e=i.get(t);e&&(e.delete(o),0===e.size&&i.delete(t))}}},addTransactionMetadata:function(e){ca(f.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Qn(f.current.getState().nextTree).transactionMetadata[r]=e[r]}}},f=ia(d);r=ia(null!=i?function(e,t){var n=Ho();return t({set:function(t,r){var i,o=n.currentTree,a=qo(e,o,t.key,r),s=new Set(a.keys()),u=o.nonvalidatedAtoms.clone(),c=Bn(s);try{for(c.s();!(i=c.n()).done;){var l=i.value;u.delete(l)}}catch(d){c.e(d)}finally{c.f()}n.currentTree=(0,bn.Z)((0,bn.Z)({},o),{},{dirtyAtoms:Qi(o.dirtyAtoms,s),atomValues:Jo(o.atomValues,a),nonvalidatedAtoms:u})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=Yo(n.currentTree,t,e)}))}}),n}(d,i):null!=o?function(e){return Qo().map(e).getStore_INTERNAL().getState()}(o):Ho());var p=ra((function(){return l?l(r,(function(){return r.current.currentTree.version})):null}),[l,r]);return na((function(){return function(){var e,t=Bn(f.current.getState().knownAtoms);try{for(t.s();!(e=t.n()).done;){var n=e.value;Wo(f.current,n)}}catch(r){t.e(r)}finally{t.f()}}}),[]),t.createElement(la.Provider,{value:f},t.createElement(fa.Provider,{value:p},t.createElement(ma,{setNotifyBatcherOfChange:c}),s))}var ya=da,ba=function(){var e=ta(fa);return null==e&&xr("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},xa=function(e){var n=e.override,r=kn(e,qn),i=da();return!1===n&&i.current!==sa?e.children:t.createElement(ga,r)},_a=sr.loadableWithValue,wa=zr.DEFAULT_VALUE,Ea=zr.getNode,Sa=Mi.copyTreeState,Ta=Mi.getRecoilValueAsLoadable,Ma=Mi.invalidateDownstreams,Aa=Mi.writeLoadableToTreeState;function Ca(e){return"atom"===Ea(e.key).nodeType}var ka=function(){function e(t,n){var r=this;Hn(this,e),_r(this,"_store",void 0),_r(this,"_treeState",void 0),_r(this,"_changes",void 0),_r(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Ca(e))throw new Error("Reading selectors within atomicUpdate is not supported");var t=Ta(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:new Error("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),_r(this,"set",(function(e,t){if(!Ca(e))throw new Error("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else r._changes.set(e.key,t)})),_r(this,"reset",(function(e){r.set(e,wa)})),this._store=t,this._treeState=n,this._changes=new Map}return Gn(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=Sa(this._treeState),n=Bn(this._changes);try{for(n.s();!(e=n.n()).done;){var r=Mn(e.value,2),i=r[0],o=r[1];Aa(t,i,_a(o))}}catch(a){n.e(a)}finally{n.f()}return Ma(this._store,t),t}}]),e}();var La=function(e){return function(t){e.replaceState((function(n){var r=new ka(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Oa=La,Ra=Object.freeze({__proto__:null,atomicUpdater:Oa});var Na=function(e,t){var n,r=new Map,i=Bn(e);try{for(i.s();!(n=i.n()).done;){var o=Mn(n.value,2),a=o[0],s=o[1];t(s,a)&&r.set(a,s)}}catch(u){i.e(u)}finally{i.f()}return r};var Pa=function(e,t){var n,r=new Set,i=Bn(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t(o)&&r.add(o)}}catch(a){i.e(a)}finally{i.f()}return r};var Ia=function(e,t){if(!e)throw new Error(t)};var ja=function(){for(var e=new Map,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++)for(var o=n[i].keys(),a=void 0;!(a=o.next()).done;)e.set(a.value,n[i].get(a.value));return e};var Da=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};var Fa=t.useRef;var za=function(){return Fa(),"<component name not available>"},Ua=Ra.atomicUpdater,Ba=Oi,Va=zr.DEFAULT_VALUE,Ga=zr.getNode,Ha=zr.nodes,Wa=ba,Za=ya,qa=(Lr.isRecoilValue,Mi.AbstractRecoilValue),Ya=Mi.getRecoilValueAsLoadable,$a=Mi.setRecoilValue,Xa=Mi.setRecoilValueLoadable,Ja=Mi.setUnvalidatedRecoilValue,Ka=Mi.subscribeToRecoilValue,Qa=fo,es=Br.RetentionZone,ts=(Vo.Snapshot,Vo.cloneSnapshot),ns=go.isSSR,rs=cr.mutableSourceExists,is=cr.useMutableSource,os=t.useCallback,as=t.useEffect,ss=t.useMemo,us=t.useRef,cs=t.useState,ls=12e4;function ds(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){var r=new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw r}if("hasError"===e.state)throw e.contents;throw new Error('Invalid value of loadable atom "'.concat(t.key,'"'))}function fs(e){return pr("recoil_memory_managament_2020")&&_s(e),rs()?function(e){var t=Za(),n=os((function(){var n,r=t.current,i=r.getState(),o=pr("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Ya(r,e,o)}),[t,e]),r=os((function(){return n()}),[n]),i=za(),o=os((function(r,o){var a=t.current;return Ka(a,e,(function(){if(!pr("recoil_suppress_rerender_in_callback"))return o();var e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),a=Wa(),s=is(a,r,o),u=us(s);return as((function(){u.current=s})),s}(e):function(e){var t=Za(),n=Mn(cs([]),2),r=(n[0],n[1]),i=za();as((function(){var n=t.current,o=n.getState(),s=Ka(n,e,(function(t){var i;if(!pr("recoil_suppress_rerender_in_callback"))return r([]);var o=Ya(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((function(){a.current=null,r([])}));else{var u;if(!pr("recoil_suppress_rerender_in_callback"))return r([]);var c=Ya(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(c))||r(c),a.current=c}return s.release}),[i,e,t]);var o=Ya(t.current,e),a=us(o);return as((function(){a.current=o})),o}(e)}function ps(e){var t=Za();return ds(fs(e),e,t)}function hs(e){var t=Za();return os((function(n){$a(t.current,e,n)}),[t,e])}function ms(e){var t=Za();as((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function vs(e){var t=e.atomValues.toMap(),n=Pi(Na(t,(function(e,t){var n=Ga(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(function(e){return e.contents}));return ja(e.nonvalidatedAtoms.toMap(),n)}function gs(e){var t=us();return as((function(){t.current=e})),t.current}function ys(){var e=Za();return os((function(t){var n,r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;Ba((function(){for(var n=new Set,r=0,a=[i.atomValues.keys(),o.atomValues.keys()];r<a.length;r++){var s,u=Bn(a[r]);try{for(u.s();!(s=u.n()).done;){var c,l,d=s.value;(null===(c=i.atomValues.get(d))||void 0===c?void 0:c.contents)!==(null===(l=o.atomValues.get(d))||void 0===l?void 0:l.contents)&&Ga(d).shouldRestoreFromSnapshots&&n.add(d)}}catch(f){u.e(f)}finally{u.f()}}n.forEach((function(t){Xa(e.current,new qa(t),o.atomValues.has(t)?Qn(o.atomValues.get(t)):Va)})),e.current.replaceState((function(e){return(0,bn.Z)((0,bn.Z)({},e),{},{stateID:t.getID_INTERNAL()})}))}))}),[e])}var bs=Gn((function e(){Hn(this,e)})),xs=new bs;function _s(e){if(pr("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof es?e:e.key})),n=Za();as((function(){if(pr("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!ns)window.clearTimeout(r.current),r.current=null;else{var i,o=Bn(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;Qa(e,a,1)}}catch(s){o.e(s)}finally{o.f()}}return function(){var n,r=Bn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;Qa(e,i,-1)}}catch(s){r.e(s)}finally{r.f()}}}}),[n].concat(En(t)));var r=us(),i=gs(t);if(!ns&&(void 0===i||!Da(i,t))){var o,a=n.current,s=Bn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;Qa(a,u,1)}}catch(f){s.e(f)}finally{s.f()}if(i){var c,l=Bn(i);try{for(l.s();!(c=l.n()).done;){var d=c.value;Qa(a,d,-1)}}catch(f){l.e(f)}finally{l.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=Bn(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Qa(a,i,-1)}}catch(f){n.e(f)}finally{n.f()}}),ls)}}(e)}var ws=ys,Es=function(e,t){var n=Za(),r=ys();return os((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];function a(e,t){$a(n.current,e,t)}function s(e){$a(n.current,e,Va)}var u=ts(n.current),c=Ua(n.current),l=xs;return Ba((function(){var t="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof e)throw new Error(t);var n=e({set:a,reset:s,snapshot:u,gotoSnapshot:r,transact_UNSTABLE:c});if("function"!==typeof n)throw new Error(t);l=n.apply(void 0,i)})),l instanceof bs&&Ia(!1),l}),null!=t?[].concat(En(t),[n]):void 0)},Ss=function(){var e=Za(),t=Mn(cs((function(){return ts(e.current)})),2),n=t[0],r=t[1],i=gs(n),o=us();return as((function(){return o.current&&!ns&&window.clearTimeout(o.current),n.retain()}),[n]),ms(os((function(e){return r(ts(e))}),[])),i===n||ns||(o.current&&(null===i||void 0===i||i.release_INTERNAL(),window.clearTimeout(o.current)),n.retain(),o.current=window.setTimeout((function(){n.release_INTERNAL(),o.current=null}),ls)),n},Ts=function(e){return[ps(e),hs(e)]},Ms=function(e){return[fs(e),hs(e)]},As=function(e,t){var n=Za();return ss((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=Ua(n.current);o((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(En(t),[n]):void 0)},Cs=function(e){ms(os((function(t){var n=ts(t,"current"),r=ts(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},ks=ps,Ls=fs,Os=_s,Rs=function(e){var t=Za();return os((function(){$a(t.current,e,Va)}),[t,e])},Ns=hs,Ps=function(){var e=Za();return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ba((function(){e.current.addTransactionMetadata(n),t.forEach((function(t,n){return Ja(e.current,new qa(n),t)}))}))}},Is=function(e){ms(os((function(t){var n=t.getState().previousTree,r=t.getState().currentTree;n||(mr("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);var i=vs(r),o=vs(n),a=Pi(Ha,(function(e){var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=Pa(r.dirtyAtoms,(function(e){return i.has(e)||o.has(e)}));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:(0,bn.Z)({},r.transactionMetadata)})}),[e]))},js=ri,Ds=ya;var Fs=function(){var e=Ds();return function(t){var n=t.key;return js(e.current,e.current.getState().currentTree,n)}},zs=xa,Us=ya,Bs=t.useMemo;var Vs=function(){var e=Us().current;return Bs((function(){return function(n){var r=n.children;return t.createElement(zs,{store_INTERNAL:e},r)}}),[e])};function Gs(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(Kn(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return Gs(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return Gs(e.toJSON(n),t,n);if(e instanceof Map){var i,o={},a=Bn(e);try{for(a.s();!(i=a.n()).done;){var s=Mn(i.value,2),u=s[0],c=s[1];o["string"===typeof u?u:Gs(u,t)]=c}}catch(l){a.e(l)}finally{a.f()}return Gs(o,t,n)}return e instanceof Set?Gs(Array.from(e).sort((function(e,n){return Gs(e,t).localeCompare(Gs(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?Gs(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(Gs(n,t),":").concat(Gs(e[n],t,n))})).join(","),"}")}var Hs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return Gs(e,t)},Ws=function(){function e(t){var n,r,i;Hn(this,e),_r(this,"_numLeafs",void 0),_r(this,"_root",void 0),_r(this,"_onHit",void 0),_r(this,"_onSet",void 0),_r(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return Gn(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){var n=this;return Zs(this.root(),(function(t){return n._mapNodeValue(e(t))}),{onNodeVisit:function(e){null===t||void 0===t||t.onNodeVisit(e),"leaf"===e.type&&n._onHit(e)}})}},{key:"set",value:function(e,t,n){var r,i=this,o=qs(this.root(),e.map((function(e){var t=Mn(e,2),n=t[0],r=t[1];return[n,i._mapNodeValue(r)]})),null,t,null,{onNodeVisit:function(e){null===n||void 0===n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Qn(r))}},{key:"delete",value:function(e){if(!this.root())return!1;var t=Qn(this.root());return!!Ys(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=Xs(e),!0))}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}}]),e}(),Zs=function e(t,n,r){var i;if(null!=t){if(null===r||void 0===r||null===(i=r.onNodeVisit)||void 0===i||i.call(r,t),"leaf"===t.type)return t;var o=n(t.nodeKey);return e(t.branches.get(o),n,r)}},qs=function e(t,n,r,i,o,a){var s,u;if(null==t)if(0===n.length)u={type:"leaf",value:i,parent:r,branchKey:o};else{var c=Cn(n),l=c[0],d=c.slice(1),f=Mn(l,2),p=f[0],h=f[1];(u={type:"branch",nodeKey:p,parent:r,branches:new Map,branchKey:o}).branches.set(h,e(null,d,u,i,h,a))}else if(u=t,n.length){var m=Cn(n),v=m[0],g=m.slice(1),y=Mn(v,2),b=y[0],x=y[1];("branch"!==t.type||t.nodeKey!==b)&&Ia(!1),t.branches.set(x,e(t.branches.get(x),g,t,i,x,a))}return null===a||void 0===a||null===(s=a.onNodeVisit)||void 0===s||s.call(a,u),u},Ys=function(e,t,n){return n?(n.branches.delete(t.branchKey),$s(e,n,n.parent)):e===t},$s=function e(t,n,r){return r?(0===n.branches.size&&r.branches.delete(n.branchKey),e(t,r,r.parent)):t===n},Xs=function e(t){return"leaf"===t.type?1:Array.from(t.branches.values()).reduce((function(t,n){return t+e(n)}),0)},Js={TreeCache:Ws}.TreeCache,Ks=Object.freeze({__proto__:null,TreeCache:Js}),Qs=function(){function e(t){var n;Hn(this,e),_r(this,"_maxSize",void 0),_r(this,"_size",void 0),_r(this,"_head",void 0),_r(this,"_tail",void 0),_r(this,"_map",void 0),_r(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return Gn(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=Qn(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),eu={LRUCache:Qs}.LRUCache,tu=Object.freeze({__proto__:null,LRUCache:eu}),nu=tu.LRUCache,ru=Ks.TreeCache;var iu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new nu({maxSize:e}),r=new ru({mapNodeValue:t,onHit:function(e){n.set(e,!0)},onSet:function(t){var i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r},ou=Ks.TreeCache,au={equality:"reference",eviction:"keep-all",maxSize:1/0};function su(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Hs(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function uu(e,t,n){switch(e){case"keep-all":return new ou({mapNodeValue:n});case"lru":return iu(Qn(t),n);case"most-recent":return iu(1,n)}throw new Error("Unrecognized eviction policy ".concat(e))}var cu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au,t=e.equality,n=void 0===t?au.equality:t,r=e.eviction,i=void 0===r?au.eviction:r,o=e.maxSize,a=void 0===o?au.maxSize:o,s=su(n),u=uu(i,a,s);return u};var lu=function(e){return function(){return null}},du=sr.CANCELED,fu=sr.Canceled,pu=sr.loadableWithError,hu=sr.loadableWithPromise,mu=sr.loadableWithValue,vu=Kr,gu=Qr,yu=ei,bu=Fi,xu=zr.DEFAULT_VALUE,_u=zr.RecoilValueNotReady,wu=zr.getConfigDeletionHandler,Eu=zr.registerNode,Su=Lr.isRecoilValue,Tu=Lr.AbstractRecoilValue,Mu=Mi.setRecoilValueLoadable,Au=ho,Cu=Vo.cloneSnapshot,ku=lu,Lu=[],Ou=new Map,Ru=function(){var e=0;return function(){return e++}}();var Nu=function(e){var t=e.key,n=e.get,r=e.cachePolicy_UNSTABLE,i=null!=e.set?e.set:void 0,o=cu(null!==r&&void 0!==r?r:{equality:"reference",eviction:"keep-all"}),a=Au(e.retainedBy_UNSTABLE),s=new Map,u=0;function c(){return!pr("recoil_memory_managament_2020")||u>0}function l(e){return s.has(e)||s.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),Qn(s.get(e))}function d(e){return u++,e.getState().knownSelectors.add(t),function(){u--,e.getState().knownSelectors.delete(t),s.delete(e)}}function f(){return void 0!==wu(t)&&!c()}function p(e,t,n){if("loading"===t.state){var r=Ou.get(n);null==r&&Ou.set(n,r=new Set),r.add(e)}}function h(e,t,n){var r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return Qn(t.atomValues.get(n));var i=vu(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function m(e,n,r,i,o){return n.then((function(n){if(!c())return C(e,o),du;var a=mu(n);return O(n),R(r,w(i),a),y(e,r,new Set(i.keys()),o),g(e,a,o),{__value:n,__key:t}})).catch((function(t){if(!c())return C(e,o),du;if(k(e,o)&&A(i,e,o),Kn(t))return v(e,t,r,i,o);var n=pu(t);throw O(t),R(r,w(i),n),y(e,r,new Set(i.keys()),o),g(e,n,o),t}))}function v(e,n,r,i,o){return n.then((function(n){if(!c())return C(e,o),du;if(n instanceof fu)return mr("Selector was released while it had dependencies"),du;var i=null!==n&&void 0!==n?n:{},a=i.__key,s=i.__value,u=!0;null!=a&&(r.atomValues.set(a,mu(s)),u=!1);var l=_(e,r);if(l&&"hasValue"===l.state)return M(l,e),{__value:l.contents,__key:t};if(!k(e,o)){var d,f=S(r);if("loading"===(null===f||void 0===f||null===(d=f.latestLoadable)||void 0===d?void 0:d.state))return f.latestLoadable.contents}var p=Mn(x(e,r,o,u),2),h=p[0],m=p[1];if(k(e,o)&&A(m,e,o),L(h),"loading"!==h.state&&(R(r,w(m),h),y(e,r,new Set(m.keys()),o),g(e,h,o)),"hasError"===h.state)throw h.contents;return"hasValue"===h.state?{__value:h.contents,__key:t}:h.contents})).catch((function(t){if(!c())return C(e,o),du;var n=pu(t);throw O(t),R(r,w(i),pu(t)),y(e,r,new Set(i.keys()),o),g(e,n,o),t}))}function g(e,n,r){k(e,r)&&(M(n,e),function(e,n){var r=Ou.get(n);if(void 0!==r){var i,o=Bn(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;Mu(a,new Tu(t),e)}}catch(s){o.e(s)}finally{o.f()}Ou.delete(n)}}(n,r))}function y(e,n,r,i){var o,a,s,u,c,l,d;(k(e,i)||n.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||n.version===(null===(s=e.getState())||void 0===s||null===(u=s.nextTree)||void 0===u?void 0:u.version))&&bu(new Map([[t,r]]),e,null!==(c=null===(l=e.getState())||void 0===l||null===(d=l.nextTree)||void 0===d?void 0:d.version)&&void 0!==c?c:e.getState().currentTree.version)}function b(e,t,n,r,i){n.add(r),y(e,t,n,i)}function x(e,r,i){var o,a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=ku(t),c=!1,l=new Map,d=new Set;function f(t){var n=t.key;b(e,r,d,n,i);var o=s?vu(e,r,n):h(e,r,n);if(L(o),l.set(n,o),"hasValue"===o.state)return o.contents;throw o.contents}y(e,r,d,i);var p=!1,g=function(t){return function(){if(!p)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");var n=Cu(e),r=t({snapshot:n});if("function"!==typeof r)throw new Error("getCallback() expects a function that returns a function.");return r.apply(void 0,arguments)}};try{o=n({get:f,getCallback:g}),o=Su(o)?f(o):o,p=!0,Kn(o)?o=m(e,o,r,l,i).finally(u):u()}catch(x){Kn(o=x)?o=v(e,o,r,l,i).finally(u):(c=!0,u())}return L(a=c?pu(o):Kn(o)?hu(o):mu(o)),[a,l]}function _(e,n){var r=new Set,i=l(e),a=o.get((function(t){return"string"!==typeof t&&Ia(!1),h(e,n,t).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==t&&"string"===typeof e.nodeKey&&r.add(e.nodeKey)}});return a&&y(e,n,r,i.latestExecutionId),a}function w(e){return Array.from(e.entries()).map((function(e){var t=Mn(e,2);return[t[0],t[1].contents]}))}function E(e,t){var n=Ru(),r=Mn(x(e,t,n),2),i=r[0],o=r[1];return M(i,e,o,n,t),function(e,t,n){"loading"!==n.state&&R(e,t,n)}(t,w(o),i),p(e,i,n),i}function S(e){var t,n=null!==(t=Array.from(s.entries()).find((function(t){var n=Mn(t,2),r=n[0],i=n[1];return null!=i.latestLoadable&&null!=i.latestExecutionId&&!function(e,t){var n,r,i=l(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=T.get(t.version))&&void 0!==r?r:new Map).entries()),s=T.has(t.version)&&a.length===o.size&&a.every((function(e){var t=Mn(e,2),n=t[0],r=t[1];return o.get(n)===r}));if(null==o||t.version===i.stateVersion||s)return!1;return T.set(t.version,new Map(o)),Array.from(o).some((function(n){var r=Mn(n,2),i=r[0],o=r[1];return h(e,t,i).contents!==o.contents}))}(r,e)})))&&void 0!==t?t:[];return Mn(n,2)[1]}var T=new Map;function M(e,t,n,r,i){var o=l(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null===i||void 0===i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function A(e,t,n){var r=l(t);k(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function C(e,t){k(e,t)&&s.delete(e)}function k(e,t){return t===l(e).latestExecutionId}function L(e){"loading"!==e.state&&O(e.contents)}function O(e){0}function R(e,n,r){e.atomValues.set(t,r),o.set(n,r)}function N(e,t){return o.get((function(n){"string"!==typeof n&&Ia(!1);var r=gu(e,t,n);return null===r||void 0===r?void 0:r.contents}))}function P(e,n){return function(e){if(Lu.includes(t)){var n="Recoil selector has circular dependencies: ".concat(Lu.slice(Lu.indexOf(t)).join(" \u2192 "));return pu(new Error(n))}Lu.push(t);try{return e()}finally{Lu.pop()}}((function(){return function(e,t){var n=_(e,t);if(null!=n)return M(n,e),n;var r=S(t);if(r){var i=r;return p(e,Qn(i.latestLoadable),Qn(i.latestExecutionId)),Qn(i.latestLoadable)}return E(e,t)}(e,n)}))}function I(e){e.atomValues.delete(t)}if(null!=i){return Eu({key:t,nodeType:"selector",peek:N,get:P,set:function(e,t,n){var r=!1,o=new Map;function a(n){var i=n.key;if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var o=h(e,t,i);if(L(o),"hasValue"===o.state)return o.contents;throw"loading"===o.state?new _u(i):o.contents}function s(n,i){if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var s="function"===typeof i?i(a(n)):i;yu(e,t,n.key,s).forEach((function(e,t){return o.set(t,e)}))}var u=i({set:s,get:a,reset:function(e){s(e,xu)}},n);if(void 0!==u)throw Kn(u)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return r=!0,o},init:d,invalidate:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})}return Eu({key:t,nodeType:"selector",peek:N,get:P,init:d,invalidate:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})},Pu=sr.loadableWithError,Iu=sr.loadableWithPromise,ju=sr.loadableWithValue,Du=zr.DEFAULT_VALUE,Fu=zr.DefaultValue,zu=zr.getConfigDeletionHandler,Uu=zr.registerNode,Bu=zr.setConfigDeletionHandler,Vu=Lr.isRecoilValue,Gu=Mi.markRecoilValueModified,Hu=Mi.setRecoilValue,Wu=Mi.setRecoilValueLoadable,Zu=ho;function qu(e){var t=e.key,n=e.persistence_UNSTABLE,r=Zu(e.retainedBy_UNSTABLE),i=0,o=Kn(e.default)?Iu(e.default.then((function(e){return o=ju(e),{__key:t,__value:e}})).catch((function(e){throw o=Pu(e),e}))):ju(e.default),a=void 0,s=new Map;var u=Uu({key:t,nodeType:"atom",peek:function(e,n){var r,i,s;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:null===(s=a)||void 0===s?void 0:s[1])&&void 0!==r?r:o},get:function(e,r){if(r.atomValues.has(t))return Qn(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=a)return a;if(null==n)return xr("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),s=n.validator(i,Du),u=s instanceof Fu?o:ju(s);return a=u}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=Qn(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Fu)return new Map;return a=void 0,(new Map).set(t,ju(r))},init:function(n,r,a){i++;var c=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===o.state){var l=function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Gu(n,u)};o.contents.then(l).catch(l)}var d=Du,f=null;if(null!=e.effects_UNSTABLE&&!c){var p,h=!0,m=function(e){return function(t){if(h){var r=d instanceof Fu||Kn(d)?"hasValue"===o.state?o.contents:Du:d;d="function"===typeof t?t(r):t,Kn(d)&&(d=d.then((function(t){return f={effect:e,value:t},t})))}else{if(Kn(t))throw new Error("Setting atoms to async values is not implemented.");"function"!==typeof t&&(f={effect:e,value:t}),Hu(n,u,"function"===typeof t?function(n){var r=t(n);return f={effect:e,value:r},r}:t)}}},v=function(e){return function(){return m(e)(Du)}},g=function(e){return function(r){n.subscribeToTransactions((function(n){var i,a=n.getState(),s=a.currentTree,u=a.previousTree;u||(mr("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),u=s);var c=null!==(i=s.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===c.state){var l,d,p,h,m=c.contents,v=null!==(l=u.atomValues.get(t))&&void 0!==l?l:o,g="hasValue"===v.state?v.contents:Du;(null===(d=f)||void 0===d?void 0:d.effect)!==e||(null===(p=f)||void 0===p?void 0:p.value)!==m?r(m,g):(null===(h=f)||void 0===h?void 0:h.effect)===e&&(f=null)}}),t)}},y=Bn(null!==(b=e.effects_UNSTABLE)&&void 0!==b?b:[]);try{for(y.s();!(p=y.n()).done;){var b,x,_=p.value,w=_({node:u,trigger:a,setSelf:m(_),resetSelf:v(_),onSet:g(_)});if(null!=w)s.set(n,[].concat(En(null!==(x=s.get(n))&&void 0!==x?x:[]),[w]))}}catch(T){y.e(T)}finally{y.f()}h=!1}if(!(d instanceof Fu)){var E,S=Kn(d)?Iu(function(e,n){var r=n.then((function(n){var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&Hu(e,u,n),{__key:t,__value:n}})).catch((function(n){var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&Wu(e,u,Pu(n)),n}));return r}(n,d)):ju(d);r.atomValues.set(t,S),null===(E=n.getState().nextTree)||void 0===E||E.atomValues.set(t,S)}return function(){var e;i--,null===(e=s.get(n))||void 0===e||e.forEach((function(e){return e()})),s.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){a=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==zu(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return u}function Yu(e){var t=e.default,n=kn(e,Yn);return Vu(t)?function(e){var t=Yu((0,bn.Z)((0,bn.Z)({},e),{},{default:Du,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:(0,bn.Z)((0,bn.Z)({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof Fu?t:Qn(e.persistence_UNSTABLE).validator(t,Du)}}),effects_UNSTABLE:e.effects_UNSTABLE})),n=Nu({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof Fu?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Bu(n.key,zu(e.key)),n}((0,bn.Z)((0,bn.Z)({},n),{},{default:t})):qu((0,bn.Z)((0,bn.Z)({},n),{},{default:t}))}var $u=Yu,Xu=function(){function e(t){var n;Hn(this,e),_r(this,"_map",void 0),_r(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return Gn(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Ju={MapCache:Xu}.MapCache,Ku=Object.freeze({__proto__:null,MapCache:Ju}),Qu=tu.LRUCache,ec=Ku.MapCache,tc={equality:"reference",eviction:"none",maxSize:1/0};function nc(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Hs(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function rc(e,t,n){switch(e){case"keep-all":return new ec({mapKey:n});case"lru":return new Qu({mapKey:n,maxSize:Qn(t)});case"most-recent":return new Qu({mapKey:n,maxSize:1})}throw new Error("Unrecognized eviction policy ".concat(e))}var ic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=e.equality,n=void 0===t?tc.equality:t,r=e.eviction,i=void 0===r?tc.eviction:r,o=e.maxSize,a=void 0===o?tc.maxSize:o,s=nc(n),u=rc(i,a,s);return u},oc=zr.setConfigDeletionHandler;var ac=function(e){var t,n,r=ic({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;e.cachePolicyForParams_UNSTABLE;var o=kn(e,$n),a=$u((0,bn.Z)((0,bn.Z)({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=Hs(t))&&void 0!==n?n:"void"),default:"function"===typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE}));return r.set(t,a),oc(a.key,(function(){r.delete(t)})),a}},sc=zr.setConfigDeletionHandler,uc=0;var cc=function(e){var t,n,r=ic({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;var o,a="".concat(e.key,"__selectorFamily/").concat(null!==(n=Hs(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(uc++),s=function(n){return e.get(t)(n)},u=e.cachePolicy_UNSTABLE,c="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var l=e.set;o=Nu({key:a,get:s,set:function(e,n){return l(t)(e,n)},cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else o=Nu({key:a,get:s,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,o),sc(o.key,(function(){r.delete(t)})),o}},lc=cc({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var dc=function(e){return lc(e)},fc=cc({key:"__error",get:function(e){return function(){throw new Error(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var pc=function(e){return fc(e)};var hc=function(e){return e},mc=sr.loadableWithError,vc=sr.loadableWithPromise,gc=sr.loadableWithValue;function yc(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),o=Bn(t.entries());try{for(o.s();!(n=o.n()).done;){var a=Mn(n.value,2),s=a[0],u=a[1];try{r[s]=e(u)}catch(c){i[s]=c}}}catch(l){o.e(l)}finally{o.f()}return[r,i]}function bc(e){return null!=e&&!Kn(e)}function xc(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function _c(e){return null!=e&&"object"===typeof e&&e.hasOwnProperty("__value")?e.__value:e}function wc(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return(0,bn.Z)((0,bn.Z)({},e),{},(0,An.Z)({},n,t[r]))}),{})}function Ec(e,t,n){return wc(e,n.map((function(e,n){return null==e?gc(t[n]):Kn(e)?vc(e):mc(e)})))}var Sc=cc({key:"__waitForNone",get:function(e){return function(t){var n=Mn(yc(t.get,xc(e)),2),r=n[0],i=n[1];return Ec(e,r,i)}},dangerouslyAllowMutability:!0}),Tc=cc({key:"__waitForAny",get:function(e){return function(t){var n=Mn(yc(t.get,xc(e)),2),r=n[0],i=n[1];return i.some((function(e){return!Kn(e)}))?Ec(e,r,i):new Promise((function(t){var n,o=Bn(i.entries());try{var a=function(){var o=Mn(n.value,2),a=o[0],s=o[1];Kn(s)&&s.then((function(n){r[a]=_c(n),i[a]=void 0,t(Ec(e,r,i))})).catch((function(n){i[a]=n,t(Ec(e,r,i))}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}))}},dangerouslyAllowMutability:!0}),Mc=cc({key:"__waitForAll",get:function(e){return function(t){var n=Mn(yc(t.get,xc(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return wc(e,r);var o=i.find(bc);if(null!=o)throw o;return Promise.all(i).then((function(t){return wc(e,(n=r,i=t,i.map((function(e,t){return void 0===e?n[t]:e}))).map(_c));var n,i}))}},dangerouslyAllowMutability:!0}),Ac=cc({key:"__waitForAllSettled",get:function(e){return function(t){var n=Mn(yc(t.get,xc(e)),2),r=n[0],i=n[1];return i.every((function(e){return!Kn(e)}))?Ec(e,r,i):Promise.all(i.map((function(e,t){return Kn(e)?e.then((function(e){r[t]=_c(e),i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return Ec(e,r,i)}))}},dangerouslyAllowMutability:!0}),Cc=cc({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return gc(n(e))}catch(r){return Kn(r)?vc(r):mc(r)}}},dangerouslyAllowMutability:!0}),kc={waitForNone:Sc,waitForAny:Tc,waitForAll:Mc,waitForAllSettled:Ac,noWait:Cc},Lc=Oi,Oc=Li,Rc=zr.DefaultValue,Nc=xa,Pc=Lr.isRecoilValue,Ic=Br.retentionZone,jc=Vo.freshSnapshot,Dc={DefaultValue:Rc,RecoilRoot:Nc,useRecoilBridgeAcrossReactRoots_UNSTABLE:Vs,atom:$u,selector:Nu,retentionZone:Ic,atomFamily:ac,selectorFamily:cc,constSelector:dc,errorSelector:pc,readOnlySelector:hc,useRecoilValue:ks,useRecoilValueLoadable:Ls,useRecoilState:Ts,useRecoilStateLoadable:Ms,useSetRecoilState:Ns,useResetRecoilState:Rs,useGetRecoilValueInfo_UNSTABLE:Fs,useRetain:Os,useRecoilCallback:Es,useRecoilTransaction_UNSTABLE:As,useGotoRecoilSnapshot:ws,useRecoilSnapshot:Ss,useRecoilTransactionObserver_UNSTABLE:Cs,useTransactionObservation_UNSTABLE:Is,useSetUnvalidatedAtomValues_UNSTABLE:Ps,noWait:kc.noWait,waitForNone:kc.waitForNone,waitForAny:kc.waitForAny,waitForAll:kc.waitForAll,waitForAllSettled:kc.waitForAllSettled,isRecoilValue:Pc,batchUpdates:Lc,setBatcher:Oc,snapshot_UNSTABLE:jc},Fc=Dc.DefaultValue,zc=Dc.RecoilRoot,Uc=Dc.atom,Bc=Dc.selector,Vc=Dc.useRecoilValue,Gc=Dc.useRecoilValueLoadable,Hc=Dc.useRecoilState,Wc=Dc.useSetRecoilState,Zc=Dc.useResetRecoilState,qc=Dc.useRecoilCallback,Yc=Dc.useRecoilSnapshot,$c=Dc.waitForAll,Xc=n(6429);var Jc,Kc=function(e){var t=e.level||1,n=e.action||"Undefined action";yn.debug.printDebugLogs&&t>=yn.debug.logLevel&&(console.group("".concat(n," | Level: ").concat(t)),console.dir(e.data),console.groupEnd())},Qc=function(e,t,n){return{data:e,status:t,errorMsg:n}};function el(e,t,n){return tl.apply(this,arguments)}function tl(){return(tl=Rn(Zn().mark((function e(t,n,r){var i,o,a,s;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)},e.next=4;break;case 4:return o=window.GetParentResourceName?window.GetParentResourceName():"npwd",e.next=7,fetch("https://".concat(o,"/").concat(t),i);case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,Kc({data:{request:n,response:s},action:"fetchNui (".concat(t,")")}),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){(0,An.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.UPDATE_PICTURE="npwd:updateProfilePicture",e.SET_AVATAR="npwd:setAvatar"}(Jc||(Jc={}));var il,ol={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},al=t.createContext();function sl(){return ol}var ul=function(){function e(){Hn(this,e),this.usedNamespaces={}}return Gn(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function cl(){return il}var ll={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ol=rl(rl({},ol),e)}(e.options.react),function(e){il=e}(e)}};function dl(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var fl={};function pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&fl[t[0]]||("string"===typeof t[0]&&(fl[t[0]]=new Date),dl.apply(void 0,t))}function hl(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function ml(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return pl("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))))}function vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(n),!0).forEach((function(t){(0,An.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yl(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,t.useContext)(al)||{},o=i.i18n,a=i.defaultNS,s=r||o||cl();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ul),!s){pl("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},c=[u,{},!1];return c.t=u,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&pl("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=gl(gl(gl({},sl()),s.options.react),n),d=l.useSuspense,f=l.keyPrefix,p=e||a||s.options&&s.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(p);var h=(s.isInitialized||s.initializedStoreOnce)&&p.every((function(e){return ml(e,s,l)}));function m(){return s.getFixedT(null,"fallback"===l.nsMode?p:p[0],f)}var v=(0,t.useState)(m),g=Mn(v,2),y=g[0],b=g[1],x=(0,t.useRef)(!0);(0,t.useEffect)((function(){var e=l.bindI18n,t=l.bindI18nStore;function n(){x.current&&b(m)}return x.current=!0,h||d||hl(s,p,(function(){x.current&&b(m)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){x.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,p.join()]);var _=(0,t.useRef)(!0);(0,t.useEffect)((function(){x.current&&!_.current&&b(m),_.current=!1}),[s]);var w=[y,s,h];if(w.t=y,w.i18n=s,w.ready=h,h)return w;if(!h&&!d)return w;throw new Promise((function(e){hl(s,p,(function(){e()}))}))}var bl=n(9058),xl=(0,t.createContext)(null),_l=function(e){var n=e.children,r=Mn((0,t.useState)(!1),2),i=r[0],o=r[1],a=Mn((0,t.useState)(null),2),s=a[0],u=a[1];return(0,bl.jsx)(xl.Provider,{value:{alert:s,addAlert:function(e){u(e),o(!0)},handleClose:function(){o(!1)},isOpen:i},children:n})},wl=function(){return(0,t.useContext)(xl)},El="soz_settings",Sl=new Xc.Validator,Tl={type:"object",properties:{language:{$ref:"/SettingOption"},wallpaper:{$ref:"/SettingOption"},frame:{$ref:"/SettingOption"},theme:{$ref:"/SettingOption"},zoom:{$ref:"/SettingOption"},streamerMode:{type:"boolean"},ringtone:{$ref:"/SettingOption"},ringtoneVol:{type:"number"},notiSound:{$ref:"/SettingOption"},notiSoundVol:{type:"number"}},required:!0};Sl.addSchema({id:"/SettingOption",type:"object",properties:{label:{type:"string"},val:{type:"string"}},required:!0},"/SettingOption");var Ml=Uc({key:"settings",default:yn.defaultSettings,effects_UNSTABLE:[function(e){return function(t){var n=t.setSelf,r=t.onSet,i=localStorage.getItem(e);if(i)try{(function(e){var t=JSON.parse(e);return Sl.validate(t,Tl).valid})(i)?n(JSON.parse(i)):(console.error("Settings Schema was invalid, applying default settings"),n(yn.defaultSettings))}catch(o){console.error("Unable to parse JSON"),n(yn.defaultSettings)}r((function(t){t instanceof Fc?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))}))}}(El)]}),Al=Uc({key:"customWallpaperState",default:!1}),Cl=function(){return Hc(Ml)},kl=function(){return Hc(Al)},Ll={visibility:Uc({key:"phoneVisibility",default:!1}),resourceConfig:Uc({key:"resourceConfig",default:null}),phoneTime:Uc({key:"phoneTime",default:null})},Ol=n(8380),Rl=(0,t.createContext)(null),Nl=function(e){var n=e.children,r=(0,t.useRef)();(0,t.useEffect)((function(){r.current=new Map}),[]);var i=(0,t.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o){r.current||(r.current=new Map);var a=r.current.get(e);if(a)return a.howl.volume(t),a.howl.loop(n),i&&a.howl.play(),o({howl:a.howl,url:e});var s=new Ol.Howl({src:e,loop:n,volume:t,autoplay:i});r.current.set(e,{howl:s,volume:t}),s.once("load",(function(){o({howl:s,url:e})}));var u=function(t,n){o(null),console.error("Howler Error \n",n,"\nid: ",t,"\nsrc: ",e)};s.once("loaderror",u),s.once("playerror",u)}))}),[]),o=(0,t.useCallback)((function(e,t,n){var o=r.current.get(e),a=[];if(o)return r.current.forEach((function(t,n){var r=n===e,i=t.howl.playing(),o=t.howl.loop();if(!r&&o&&i){a.push(t);var s=t.howl.volume();t.howl.fade(s,.3*s,50)}})),void 0!==t&&o.howl.volume(t),void 0!==n&&o.howl.loop(n),o.howl.play(),void o.howl.once("end",(function(){a.forEach((function(e){e.howl.fade(e.howl.volume(),e.volume,50)})),a=void 0}));i(e,t,n,!0)}),[i]),a=(0,t.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=r.current.get(e);return null===n||void 0===n?void 0:n.howl.volume(t)}),[]),s=(0,t.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=r.current.get(e);return n.howl.loop(t),n.howl.loop()}),[]),u=(0,t.useCallback)((function(e){if(r.current){var t=r.current.get(e);null===t||void 0===t||t.howl.stop()}}),[]),c=(0,t.useCallback)((function(e){if(r.current){var t=r.current.get(e);return!!t&&(t.howl.stop(),t.howl.unload(),r.current.delete(e),!0)}}),[]),l=(0,t.useCallback)((function(e){return!!r.current&&!!r.current.get(e)}),[]),d=(0,t.useCallback)((function(e){if(!r.current)return!1;var t=r.current.get(e);return(null===t||void 0===t?void 0:t.howl.playing())||!1}),[]);return(0,bl.jsx)(Rl.Provider,{value:{mount:i,play:o,stop:u,playing:d,remove:c,volume:a,loop:s,isMounted:l},children:n})},Pl=function(){return(0,t.useContext)(Rl)},Il={ringtone:function(e){return"media/ringtones/".concat(e||"pixel",".ogg")},notiSound:function(e){return"media/notifications/".concat(e||"online",".ogg")}},jl=function(e,t,n){try{var r;return n?{sound:Il[e]((null===(r=t["".concat(n,"_").concat(e)])||void 0===r?void 0:r.value)||t[e].value),volume:(t["".concat(n,"_").concat(e,"Vol")]||t["".concat(e,"Vol")])/100}:{sound:Il[e](t[e].value),volume:t["".concat(e,"Vol")]/100}}catch(i){return console.error("getSoundSettings.ts error",i,"Using default sounds"),{sound:Il[e](),volume:0}}},Dl=(0,t.createContext)(null);function Fl(e){var n=e.children,r=Vc(Ll.visibility),i=Mn(Cl(),1)[0],o=Mn((0,t.useState)(!1),2),a=o[0],s=o[1],u=Mn((0,t.useState)([]),2),c=u[0],l=u[1],d=Pl(),f=d.mount,p=d.play,h=(0,t.useRef)(),m=Mn((0,t.useState)([]),2),v=m[0],g=m[1],y=Mn((0,t.useState)(),2),b=y[0],x=y[1];(0,t.useEffect)((function(){r&&b&&!b.keepWhenPhoneClosed&&b.resolve()}),[r,b]);var _=(0,t.useCallback)((function(e,t){l((function(n){var r=En(n);return r.splice(e,1,t),r}))}),[]),w=(0,t.useCallback)((function(e){l((function(t){return[e].concat(En(t))}))}),[]),E=(0,t.useCallback)((function(e){return c.findIndex((function(t){return t.app===e}))}),[c]),S=(0,t.useCallback)((function(e){return c.find((function(t){return t.id===e}))||null}),[c]),T=(0,t.useCallback)((function(e,t,n){return new Promise((function(r){var i=function(){null===t||void 0===t||t(e),r()},o=function(t){return function(){null===t||void 0===t||t(e),clearTimeout(h.current),i()}};x((0,bn.Z)((0,bn.Z)({},e),{},{resolve:i,onClickAlert:o(e.onClick),onCloseAlert:o(e.onClose)})),e.sound&&n&&p(n),e.keepWhenPhoneClosed||(h.current=setTimeout((function(){i()}),3300))}))}),[p]);(0,t.useEffect)((function(){!b&&v.length&&T.apply(void 0,En(v[0])).then((function(){g((function(e){var t=e;return e.shift(),t})),x(null)}))}),[T,v,b]);var M=(0,t.useMemo)((function(){return c.reduce((function(e,t){var n=e.findIndex((function(e){return e.key===t.app}));return-1!==n?(e[n].badge++,e):(e.unshift({key:t.app,icon:t.notificationIcon,badge:1}),e)}),[])}),[c]);return(0,bl.jsx)(Dl.Provider,{value:{setBarUncollapsed:s,barUncollapsed:a,currentAlert:b,notifications:c,removeAlerts:function(){g([]),x(null)},addNotification:w,removeNotification:function(e){l((function(t){var n=t;return n.splice(e,1),En(n)}))},updateId:function(e,t){var n=c.findIndex((function(t){return t.id===e}));if(-1!==n){var r=(0,bn.Z)((0,bn.Z)({},c[n]),t);_(n,r)}},removeId:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))},hasNotification:S,hasAppNotification:E,addNotificationAlert:function(e,t){if(e.sound){var n=jl("notiSound",i,e.app),r=n.sound,o=n.volume;f(r,o,!1).then((function(n){var r=n.url;return g((function(n){return[].concat(En(n),[[e,t,r]])}))}))}else g((function(n){return[].concat(En(n),[[e,t,void 0]])}))},icons:M,count:c.length},children:n})}var zl=t.createContext({theme:"light",updateTheme:function(e){}}),Ul=function(e){var n=e.children,r=Mn(Cl(),1)[0],i=Mn((0,t.useState)(r.theme.value),2),o=i[0],a=i[1],s=(0,t.useCallback)((function(e){a(e)}),[]),u=(0,t.useMemo)((function(){return{theme:o,updateTheme:s}}),[o,s]);return(0,bl.jsx)(zl.Provider,{value:u,children:n})},Bl=function(e){var n=e.children,r=e.className,i=se("/"),o=se("/camera"),a=(0,t.useContext)(zl).theme;return(0,bl.jsx)("div",{className:"".concat(i&&!i.isExact?o&&o.isExact||"dark"===a?"bg-black":"bg-[#F2F2F6]":""," p-0 m-0 relative flex flex-col h-full w-full min-h-[720px] ").concat(r),children:n})};var Vl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"}))};var Gl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))};var Hl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}))};var Wl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))};var Zl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))};var ql=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"}))};var Yl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"}))};var $l=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))};var Xl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}))};var Jl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))};var Kl=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))};var Ql=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"}))};var ed=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))};var td,nd,rd=function(e){var t=Object.assign({},e);return(0,bl.jsx)("div",(0,bn.Z)((0,bn.Z)({},t),{},{className:"flex flex-col justify-center items-center h-full min-h-[720px]",children:(0,bl.jsx)($l,{className:"animate-spin text-white h-20 w-20"})}))},id=["children","paperStyle","backdrop","disableSuspenseHandler","onClickBackdrop"],od=function(e){var n=e.children,r=(e.paperStyle,e.backdrop,e.disableSuspenseHandler),i=(e.onClickBackdrop,kn(e,id));return(0,bl.jsx)("div",(0,bn.Z)((0,bn.Z)({className:"mt-4"},i),{},{children:r?{children:n}:(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:n})}))},ad={currentCall:Uc({key:"currentCall",default:null}),callModal:Uc({key:"callingModal",default:!1}),callDuration:Uc({key:"callDuration",default:{ms:0,s:0,m:0,h:0}})};!function(e){e[e.DECLINED=0]="DECLINED",e[e.BUSY_LINE=1]="BUSY_LINE"}(td||(td={})),function(e){e.INITIALIZE_CALL="npwd:beginCall",e.START_CALL="npwd:startCall",e.ACCEPT_CALL="npwd:acceptCall",e.END_CALL="npwd:endCall",e.WAS_ENDED="npwd:callEnded",e.WAS_ACCEPTED="npwd:callAccepted",e.REJECTED="npwd:rejectCall",e.WAS_REJECTED="npwd:callRejected",e.FETCH_CALLS="npwd:fetchCalls",e.SET_CALLER="npwd:setCaller",e.SET_CALL_MODAL="npwd:callModal",e.SEND_ALERT="npwd:callSetAlert"}(nd||(nd={}));var sd={number:Uc({key:"simcardNumber",default:null}),societyNumber:Uc({key:"societySimcardNumber",default:null}),avatar:Uc({key:"avatar",default:null})},ud=function(){return Vc(sd.number)},cd=function(){var e=Mn(Hc(ad.currentCall),2),n=e[0],r=e[1],i=ud(),o=Mn(yl(),1)[0],a=wl().addAlert,s=(0,t.useCallback)((function(e){if(i===e)return a({message:o("CALLS.FEEDBACK.ERROR_MYSELF"),type:"error"});el(nd.INITIALIZE_CALL,{receiverNumber:e}).then((function(e){"error"===e.status&&(a({message:o("CALLS.FEEDBACK.ERROR"),type:"error"}),console.error(e.errorMsg))}))}),[a,i,o]),u=(0,t.useCallback)((function(){el(nd.ACCEPT_CALL,{transmitterNumber:n.transmitter})}),[n]),c=(0,t.useCallback)((function(){el(nd.REJECTED,{transmitterNumber:n.transmitter})}),[n]),l=(0,t.useCallback)((function(){el(nd.END_CALL,{transmitterNumber:n.transmitter,isTransmitter:n.transmitter===i})}),[n,i]);return{call:n,setCall:r,acceptCall:u,rejectCall:c,endCall:l,initializeCall:s}},ld=function(){var e=(0,t.useRef)(),n=Mn((0,t.useState)(0),2),r=n[0],i=n[1],o=function(){e.current&&(clearInterval(e.current),e.current=void 0)},a=function(){e.current||(e.current=setInterval((function(){return i((function(e){return e+1}))}),1e3))};return(0,t.useEffect)((function(){return a(),o}),[]),(0,bn.Z)((0,bn.Z)({},function(e){var t=Math.ceil(e),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60);return{seconds:Math.floor(t%60),minutes:r,hours:n}}(r)),{},{startTimer:a,resetTimer:function(){o()}})},dd=function(e){return e<10?"0".concat(e):e},fd=function(){var e=ld(),t=e.seconds,n=e.hours,r=e.minutes;return(0,bl.jsx)("div",{className:"flex flex-col justify-center items-center text-gray-300",children:(0,bl.jsx)("div",{className:"font-light",children:"".concat(dd(n),":").concat(dd(r),":").concat(dd(t))})})},pd=function(){var e=Mn(Hc(ad.callModal),2);return{modal:e[0],setModal:e[1]}};var hd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"}))};var md=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M6.707 4.879A3 3 0 018.828 4H15a3 3 0 013 3v6a3 3 0 01-3 3H8.828a3 3 0 01-2.12-.879l-4.415-4.414a1 1 0 010-1.414l4.414-4.414zm4 2.414a1 1 0 00-1.414 1.414L10.586 10l-1.293 1.293a1 1 0 101.414 1.414L12 11.414l1.293 1.293a1 1 0 001.414-1.414L13.414 10l1.293-1.293a1 1 0 00-1.414-1.414L12 8.586l-1.293-1.293z",clipRule:"evenodd"}))};var vd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"}))};var gd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}))};var yd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"}))};var bd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))};var xd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"}))};var _d=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z",clipRule:"evenodd"}))};var wd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"}))};var Ed=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"}))};var Sd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),t.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))};var Td=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"}))};var Md=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}))};var Ad=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),t.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))};var Cd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))};var kd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M14.414 7l3.293-3.293a1 1 0 00-1.414-1.414L13 5.586V4a1 1 0 10-2 0v4.003a.996.996 0 00.617.921A.997.997 0 0012 9h4a1 1 0 100-2h-1.586z"}),t.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Ld=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}),t.createElement("path",{d:"M16.707 3.293a1 1 0 010 1.414L15.414 6l1.293 1.293a1 1 0 01-1.414 1.414L14 7.414l-1.293 1.293a1 1 0 11-1.414-1.414L12.586 6l-1.293-1.293a1 1 0 011.414-1.414L14 4.586l1.293-1.293a1 1 0 011.414 0z"}))};var Od=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M17.924 2.617a.997.997 0 00-.215-.322l-.004-.004A.997.997 0 0017 2h-4a1 1 0 100 2h1.586l-3.293 3.293a1 1 0 001.414 1.414L16 5.414V7a1 1 0 102 0V3a.997.997 0 00-.076-.383z"}),t.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Rd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))};var Nd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}))};var Pd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}))};var Id=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))};var jd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"}))};var Dd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))};var Fd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}))};var zd=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z",clipRule:"evenodd"}))};var Ud=function(e){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e),t.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"}))};var Bd,Vd,Gd=function(e){e.isSmall;var t=ie(),n=pd().setModal,r=cd(),i=r.call,o=r.endCall,a=r.acceptCall,s=r.rejectCall;return null!==i&&void 0!==i&&i.is_accepted||null!==i&&void 0!==i&&i.isTransmitter?(0,bl.jsx)("div",{className:"absolute bottom-40 inset-x-0 flex justify-center",children:(0,bl.jsx)(Rd,{className:"h-20 w-20 rotate-[140deg] text-white p-4 bg-red-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),n(!1),o()}})}):(0,bl.jsxs)("div",{className:"absolute bottom-40 inset-x-0 flex justify-around",children:[(0,bl.jsx)(Rd,{className:"h-20 w-20 rotate-[140deg] text-white p-4 bg-red-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),n(!1),s()}}),(0,bl.jsx)(Rd,{className:"h-20 w-20 text-white p-4 bg-green-500 rounded-full cursor-pointer",onClick:function(e){e.stopPropagation(),t.push("/call"),a()}})]})};!function(e){e[e.number=20]="number",e[e.display=255]="display"}(Bd||(Bd={})),function(e){e.GET_CONTACTS="npwd:getContacts",e.ADD_CONTACT="npwd:addContacts",e.UPDATE_CONTACT="npwd:updateContact",e.DELETE_CONTACT="npwd:deleteContact",e.ADD_CONTACT_EXPORT="npwd:addContactExport"}(Vd||(Vd={}));var Hd=[{id:1,display:"Ruqen",number:"555-15196"},{id:2,display:"Taso",number:"215-8139",avatar:"http://i.tasoagc.dev/i9Ig"},{id:3,display:"Chip",number:"603-275-8373",avatar:"http://i.tasoagc.dev/2QYV"},{id:4,display:"Kidz",number:"444-4444"}],Wd={contacts:Uc({key:"contactsList",default:Bc({key:"contactsListDefault",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(Vd.GET_CONTACTS,void 0,Qc(Hd));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),filterInput:Uc({key:"filterInput",default:""}),filteredContacts:Bc({key:"filteredContacts",get:function(e){var t=e.get,n=t(Wd.filterInput),r=t(Wd.contacts),i=[];if(n){var o=new RegExp(n,"gi");r=r.filter((function(e){return e.display.match(o)||e.number.match(o)}))}return r.forEach((function(e){void 0===i[e.display[0]]&&(i[e.display[0]]=[]),i[e.display[0]].push(e)})),i}})},Zd=function(){return Vc(Wd.filteredContacts)},qd=function(){var e=Wc(Wd.contacts),t=qc((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(Wd.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return e;var o=i.find((function(t){return t.number===e}));return o?o.display:e}}),[]),n=qc((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(Wd.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o=i.find((function(t){return t.number===e}));return o?o.avatar:null}}),[]),r=qc((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(Wd.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=Bn(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.number===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[]),i=qc((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(Wd.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=Bn(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.id===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[]),o=qc((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(Wd.contacts).state)return null;e((function(e){return En(e).filter((function(e){return e.id!==t}))}))}}),[]),a=qc((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(Wd.contacts).state)return null;e((function(e){return[].concat(En(e),[t])}))}}),[]);return{getDisplayByNumber:t,getContact:i,getContactByNumber:r,getPictureByNumber:n,deleteLocalContact:o,updateLocalContact:qc((function(t){var n=t.snapshot;return function(t){if("hasValue"!==n.getLoadable(Wd.contacts).state)return null;e((function(e){var n=e.findIndex((function(e){return e.id===t.id})),r=En(e);return r[n]=t,r}))}}),[]),addLocalContact:a}},Yd=function(){var e=cd().call,t=qd(),n=t.getDisplayByNumber,r=t.getPictureByNumber;return(0,bl.jsxs)("div",{className:"flex flex-col justify-center items-center mt-24 text-white",children:[(0,bl.jsx)("div",{className:"bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(e.isTransmitter?r(e.receiver):r(null===e||void 0===e?void 0:e.transmitter),")")}}),(0,bl.jsx)("div",{className:"text-3xl font-light",children:e.isTransmitter?n(null===e||void 0===e?void 0:e.receiver):n(null===e||void 0===e?void 0:e.transmitter)})]})},$d=function(){var e=Mn(yl(),1)[0],n=Mn((0,t.useState)(e("CALLS.MESSAGES.RINGING")),2),r=n[0],i=n[1],o=Mn((0,t.useState)(0),2),a=o[0],s=o[1];return(0,t.useEffect)((function(){var t=setInterval((function(){a<3?(s(a+1),i(r+".")):(i(e("CALLS.MESSAGES.RINGING")),s(0))}),500);return function(){return clearInterval(t)}}),[a,r,e]),(0,bl.jsx)("div",{className:"flex flex-col justify-center items-center text-gray-300",children:(0,bl.jsx)("div",{className:"font-light",children:r})})},Xd=function(){var e=cd().call;return e?(0,bl.jsx)(Bl,{className:"bg-black bg-opacity-30 backdrop-blur",children:(0,bl.jsx)(od,{className:"z-40 h-full",children:(0,bl.jsxs)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:[(0,bl.jsx)(Yd,{}),null!==e&&void 0!==e&&e.is_accepted?(0,bl.jsx)(fd,{}):(null===e||void 0===e?void 0:e.isTransmitter)&&(0,bl.jsx)($d,{}),(0,bl.jsx)(Gd,{})]})})}):null},Jd=function(){var e=(0,t.useContext)(Dl);if(!e)throw new Error("useNotifications must be wrapped by NotificationsProvider");return e},Kd=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){return(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)("div",(0,bn.Z)({},n)),children:(0,bl.jsx)(e,(0,bn.Z)({},n))})}},Qd=function(e){var n=e.app,r=e.title,i=e.isBigHeader,o=e.action,a=e.children,s=Mn(yl(),1)[0],u=(0,t.useContext)(zl).theme,c=se("/camera");return(0,bl.jsx)("div",{className:"".concat(i?"h-32":"h-24"," absolute -top-16 inset-x-0 ").concat("dark"===u||c&&c.isExact?"bg-black":"bg-[#F2F2F6]"," px-5 pt-12 transition-all duration-300 ease-in-out z-30"),children:(0,bl.jsxs)("h2",{className:"grid grid-cols-4 ".concat("dark"===u?"text-gray-200":"text-black"," ").concat(i?"pt-8 text-3xl":"pt-3 text-2xl"," ").concat(a&&"text-xl"," font-semibold tracking-wide transition-all duration-300 ease-in-out"),children:[a&&(0,bl.jsx)("div",{className:"flex items-center text-[#347DD9]",children:a}),(0,bl.jsx)("div",{className:"".concat(a||o?"col-span-2 text-center":"col-span-4 text-left"," "),children:r||s(n.nameLocale)}),o&&(0,bl.jsx)("div",{className:"justify-self-end text-[#347DD9]",children:o})]})})},ef=n(6210),tf=n.n(ef);function nf(e){var t=[];return e.forEach((function(e){var n=tf()(e.start).format("DD/MM/YYYY");void 0===t[n]&&(t[n]=[]),t[n].push(e)})),t}var rf,of,af,sf,uf,cf,lf,df={history:Uc({key:"dialHistory",default:Bc({key:"dialHistoryDefault",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(nd.FETCH_CALLS);case 3:return t=e.sent,Kc({action:nd.FETCH_CALLS,data:t.data}),e.abrupt("return",nf(t.data));case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})})},ff=["static"],pf=["unmount"],hf=["as","children","refName"],mf=["value","onChange","disabled"],vf=["value","onChange","displayValue"],gf=["hold"],yf=["disabled","value"],bf=["target"],xf=["open","onClose","initialFocus"],_f=["defaultOpen"],wf=["value","onChange","disabled","horizontal"],Ef=["disabled","value"],Sf=["disabled","onClick"],Tf=["focus"],Mf=["passive"],Af=["value","onChange","disabled"],Cf=["value","disabled"],kf=["checked","onChange"],Lf=["defaultIndex","vertical","manual","onChange","selectedIndex"],Of=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],Rf=["show","appear","unmount"];function Nf(){var e=[],t=[],n={enqueue:function(e){t.push(e)},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);n.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.requestAnimationFrame((function(){n.requestAnimationFrame.apply(n,t)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);n.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){var t,n=Bn(e.splice(0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}},workQueue:function(){return Rn(Wn.mark((function e(){var n,r,i;return Wn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bn(t.splice(0)),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()}};return n}function Pf(){var e=Mn((0,t.useState)(Nf),1)[0];return(0,t.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}var If="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,jf={serverHandoffComplete:!1};function Df(){var e=Mn((0,t.useState)(jf.serverHandoffComplete),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){!0!==n&&r(!0)}),[n]),(0,t.useEffect)((function(){!1===jf.serverHandoffComplete&&(jf.serverHandoffComplete=!0)}),[]),n}var Ff=0;function zf(){return++Ff}function Uf(){var e=Df(),n=Mn((0,t.useState)(e?zf:null),2),r=n[0],i=n[1];return If((function(){null===r&&i(zf())}),[r]),null!=r?""+r:void 0}function Bf(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}function Vf(e,n){var r=Mn((0,t.useState)(e),2),i=r[0],o=r[1],a=Bf(e);return If((function(){return o(a.current)}),[a,o].concat(En(n))),i}function Gf(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=(0,t.useRef)(n);return(0,t.useEffect)((function(){i.current=n}),[n]),(0,t.useCallback)((function(e){var t,n=Bn(i.current);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}catch(o){n.e(o)}finally{n.f()}}),[i])}function Hf(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,i):n}var a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,Hf),a}function Wf(e){var t=e.props,n=e.slot,r=e.defaultTag,i=e.features,o=e.visible,a=void 0===o||o,s=e.name;if(a)return Zf(t,n,r,s);var u=null!=i?i:0;if(2&u){var c=t.static,l=void 0!==c&&c,d=kn(t,ff);if(l)return Zf(d,n,r,s)}if(1&u){var f,p=t.unmount,h=void 0===p||p,m=kn(t,pf);return Hf(h?0:1,(f={},(0,An.Z)(f,0,(function(){return null})),(0,An.Z)(f,1,(function(){return Zf((0,bn.Z)((0,bn.Z)({},m),{},{hidden:!0,style:{display:"none"}}),n,r,s)})),f))}return Zf(t,n,r,s)}function Zf(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=Xf(e,["unmount","static"]),a=o.as,s=void 0===a?r:a,u=o.children,c=o.refName,l=void 0===c?"ref":c,d=kn(o,hf),f=void 0!==e.ref?(0,An.Z)({},l,e.ref):{},p="function"==typeof u?u(n):u;if(d.className&&"function"==typeof d.className&&(d.className=d.className(n)),s===t.Fragment&&Object.keys(d).length>0){if(!(0,t.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(d).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));return(0,t.cloneElement)(p,Object.assign({},qf($f(Xf(d,["ref"])),p.props,["onClick"]),f))}return(0,t.createElement)(s,Object.assign({},Xf(d,["ref"]),s!==t.Fragment&&f),p)}function qf(e,t,n){var r,i=Object.assign({},e),o=Bn(n);try{var a=function(){var n=r.value;void 0!==e[n]&&void 0!==t[n]&&Object.assign(i,(0,An.Z)({},n,(function(r){r.defaultPrevented||e[n](r),r.defaultPrevented||t[n](r)})))};for(o.s();!(r=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return i}function Yf(e){var n;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function $f(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function Xf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=Bn(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(a){i.e(a)}finally{i.f()}return r}function Jf(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(e.focus){case 0:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case 1:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case 2:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case 3:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case 4:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?r:o}function Kf(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function Qf(e,n,r){var i=(0,t.useRef)(n);i.current=n,(0,t.useEffect)((function(){function t(e){i.current.call(window,e)}return window.addEventListener(e,t,r),function(){return window.removeEventListener(e,t,r)}}),[e,r])}var ep=(0,t.createContext)(null);function tp(){return(0,t.useContext)(ep)}function np(e){var n=e.value,r=e.children;return t.createElement(ep.Provider,{value:n},r)}function rp(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function ip(e,n){var r=Mn((0,t.useState)((function(){return rp(e)})),2),i=r[0],o=r[1];return If((function(){o(rp(e))}),[e.type,e.as]),If((function(){i||!n.current||n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&o("button")}),[i,n]),i}function op(e){var n=e.container,r=e.accept,i=e.walk,o=e.enabled,a=void 0===o||o,s=(0,t.useRef)(r),u=(0,t.useRef)(i);(0,t.useEffect)((function(){s.current=r,u.current=i}),[r,i]),If((function(){if(n&&a)for(var e=s.current,t=u.current,r=Object.assign((function(t){return e(t)}),{acceptNode:e}),i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,r,!1);i.nextNode();)t(i.currentNode)}),[n,a,s,u])}ep.displayName="OpenClosedContext";var ap=(rf={},(0,An.Z)(rf,1,(function(e){return e.disabled||1===e.comboboxState?e:(0,bn.Z)((0,bn.Z)({},e),{},{activeOptionIndex:null,comboboxState:1})})),(0,An.Z)(rf,0,(function(e){return e.disabled||0===e.comboboxState?e:(0,bn.Z)((0,bn.Z)({},e),{},{comboboxState:0})})),(0,An.Z)(rf,2,(function(e,t){return e.disabled===t.disabled?e:(0,bn.Z)((0,bn.Z)({},e),{},{disabled:t.disabled})})),(0,An.Z)(rf,3,(function(e,t){if(e.disabled||e.optionsRef.current&&!e.optionsPropsRef.current.static&&1===e.comboboxState)return e;var n=Jf(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return e.activeOptionIndex===n?e:(0,bn.Z)((0,bn.Z)({},e),{},{activeOptionIndex:n})})),(0,An.Z)(rf,4,(function(e,t){var n,r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,i=Array.from(null==(n=e.optionsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-combobox-option-"]')).reduce((function(e,t,n){return Object.assign(e,(0,An.Z)({},t.id,n))}),{}),o=[].concat(En(e.options),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return i[e.id]-i[t.id]}));return(0,bn.Z)((0,bn.Z)({},e),{},{options:o,activeOptionIndex:null===r?null:o.indexOf(r)})})),(0,An.Z)(rf,5,(function(e,t){var n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),(0,bn.Z)((0,bn.Z)({},e),{},{options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)})})),rf),sp=(0,t.createContext)(null);function up(e){var n=(0,t.useContext)(sp);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,up),r}return n}sp.displayName="ComboboxContext";var cp=(0,t.createContext)(null);function lp(){var e=(0,t.useContext)(cp);if(null===e){var n=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,lp),n}return e}function dp(e,t){return Hf(t.type,ap,e,t)}cp.displayName="ComboboxActions";var fp=t.Fragment,pp=Yf((function(e,n){var r,i=e.value,o=e.onChange,a=e.disabled,s=void 0!==a&&a,u=kn(e,mf),c=(0,t.useRef)({value:i,onChange:o}),l=(0,t.useRef)({static:!1,hold:!1}),d=(0,t.useRef)({displayValue:void 0}),f=(0,t.useReducer)(dp,{comboboxState:1,comboboxPropsRef:c,optionsPropsRef:l,inputPropsRef:d,labelRef:(0,t.createRef)(),inputRef:(0,t.createRef)(),buttonRef:(0,t.createRef)(),optionsRef:(0,t.createRef)(),disabled:s,options:[],activeOptionIndex:null}),p=Mn(f,2),h=p[0],m=h.comboboxState,v=h.options,g=h.activeOptionIndex,y=h.optionsRef,b=h.inputRef,x=h.buttonRef,_=p[1];If((function(){c.current.value=i}),[i,c]),If((function(){c.current.onChange=o}),[o,c]),If((function(){return _({type:2,disabled:s})}),[s]),Qf("mousedown",(function(e){var t,n,r,i=e.target;0===m&&((null==(t=x.current)?void 0:t.contains(i))||(null==(n=b.current)?void 0:n.contains(i))||(null==(r=y.current)?void 0:r.contains(i))||_({type:1}))}));var w=null===g?null:v[g].dataRef.current.value,E=(0,t.useMemo)((function(){return{open:0===m,disabled:s,activeIndex:g,activeOption:w}}),[m,s,v,g]),S=(0,t.useCallback)((function(){if(b.current&&void 0!==i){var e=d.current.displayValue;"function"==typeof e?b.current.value=e(i):"string"==typeof i&&(b.current.value=i)}}),[i,b,d]),T=(0,t.useCallback)((function(e){var t=v.find((function(t){return t.id===e}));if(t){var n=t.dataRef;c.current.onChange(n.current.value),S()}}),[v,c,b]),M=(0,t.useCallback)((function(){if(null!==g){var e=v[g].dataRef;c.current.onChange(e.current.value),S()}}),[g,v,c,b]),A=(0,t.useMemo)((function(){return{selectOption:T,selectActiveOption:M}}),[T,M]);return If((function(){1===m&&S()}),[S,m]),If(S,[S]),t.createElement(cp.Provider,{value:A},t.createElement(sp.Provider,{value:f},t.createElement(np,{value:Hf(m,(r={},(0,An.Z)(r,0,0),(0,An.Z)(r,1,1),r))},Wf({props:null===n?u:(0,bn.Z)((0,bn.Z)({},u),{},{ref:n}),slot:E,defaultTag:fp,name:"Combobox"}))))})),hp=Yf((function(e,n){e.value;var r,i,o=e.onChange,a=e.displayValue,s=kn(e,vf),u=Mn(up("Combobox.Input"),2),c=u[0],l=u[1],d=lp(),f=Gf(c.inputRef,n),p=c.inputPropsRef,h="headlessui-combobox-input-".concat(Uf()),m=Pf(),v=Bf(o);If((function(){p.current.displayValue=a}),[a,p]);var g=(0,t.useCallback)((function(e){var t,n;switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),d.selectActiveOption(),l({type:1});break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),Hf(c.comboboxState,(t={},(0,An.Z)(t,0,(function(){return l({type:3,focus:2})})),(0,An.Z)(t,1,(function(){l({type:0}),m.nextFrame((function(){c.comboboxPropsRef.current.value||l({type:3,focus:0})}))})),t));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),Hf(c.comboboxState,(n={},(0,An.Z)(n,0,(function(){return l({type:3,focus:1})})),(0,An.Z)(n,1,(function(){l({type:0}),m.nextFrame((function(){c.comboboxPropsRef.current.value||l({type:3,focus:3})}))})),n));case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),l({type:3,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),l({type:3,focus:3});case"Escape":return e.preventDefault(),c.optionsRef.current&&!c.optionsPropsRef.current.static&&e.stopPropagation(),l({type:1});case"Tab":d.selectActiveOption(),l({type:1})}}),[m,l,c,d]),y=(0,t.useCallback)((function(e){var t;l({type:0}),null==(t=v.current)||t.call(v,e)}),[l,v]),b=Vf((function(){if(c.labelRef.current)return[c.labelRef.current.id].join(" ")}),[c.labelRef.current]),x=(0,t.useMemo)((function(){return{open:0===c.comboboxState,disabled:c.disabled}}),[c]),_={ref:f,id:h,role:"combobox",type:"text","aria-controls":null==(r=c.optionsRef.current)?void 0:r.id,"aria-expanded":c.disabled?void 0:0===c.comboboxState,"aria-activedescendant":null===c.activeOptionIndex||null==(i=c.options[c.activeOptionIndex])?void 0:i.id,"aria-labelledby":b,disabled:c.disabled,onKeyDown:g,onChange:y};return Wf({props:(0,bn.Z)((0,bn.Z)({},s),_),slot:x,defaultTag:"input",name:"Combobox.Input"})})),mp=Yf((function(e,n){var r,i=Mn(up("Combobox.Button"),2),o=i[0],a=i[1],s=lp(),u=Gf(o.buttonRef,n),c="headlessui-combobox-button-".concat(Uf()),l=Pf(),d=(0,t.useCallback)((function(e){switch(e.key){case"ArrowDown":return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&(a({type:0}),l.nextFrame((function(){o.comboboxPropsRef.current.value||a({type:3,focus:0})}))),l.nextFrame((function(){var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&(a({type:0}),l.nextFrame((function(){o.comboboxPropsRef.current.value||a({type:3,focus:3})}))),l.nextFrame((function(){var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"Escape":return e.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&e.stopPropagation(),a({type:1}),l.nextFrame((function(){var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}}),[l,a,o,s]),f=(0,t.useCallback)((function(e){if(Kf(e.currentTarget))return e.preventDefault();0===o.comboboxState?a({type:1}):(e.preventDefault(),a({type:0})),l.nextFrame((function(){var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[a,l,o]),p=Vf((function(){if(o.labelRef.current)return[o.labelRef.current.id,c].join(" ")}),[o.labelRef.current,c]),h=(0,t.useMemo)((function(){return{open:0===o.comboboxState,disabled:o.disabled}}),[o]),m=e,v={ref:u,id:c,type:ip(e,o.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(r=o.optionsRef.current)?void 0:r.id,"aria-expanded":o.disabled?void 0:0===o.comboboxState,"aria-labelledby":p,disabled:o.disabled,onClick:f,onKeyDown:d};return Wf({props:(0,bn.Z)((0,bn.Z)({},m),v),slot:h,defaultTag:"button",name:"Combobox.Button"})}));var vp=Yf((function(e,n){var r,i=e.hold,o=void 0!==i&&i,a=kn(e,gf),s=Mn(up("Combobox.Options"),1)[0],u=s.optionsPropsRef,c=Gf(s.optionsRef,n),l="headlessui-combobox-options-".concat(Uf()),d=tp(),f=null!==d?0===d:0===s.comboboxState;If((function(){var t;u.current.static=null!=(t=e.static)&&t}),[u,e.static]),If((function(){u.current.hold=o}),[o,u]),op({container:s.optionsRef.current,enabled:0===s.comboboxState,accept:function(e){return"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var p=Vf((function(){var e,t,n;return null!=(n=null==(e=s.labelRef.current)?void 0:e.id)?n:null==(t=s.buttonRef.current)?void 0:t.id}),[s.labelRef.current,s.buttonRef.current]),h=(0,t.useMemo)((function(){return{open:0===s.comboboxState}}),[s]),m={"aria-activedescendant":null===s.activeOptionIndex||null==(r=s.options[s.activeOptionIndex])?void 0:r.id,"aria-labelledby":p,role:"listbox",id:l,ref:c};return Wf({props:(0,bn.Z)((0,bn.Z)({},a),m),slot:h,defaultTag:"ul",features:3,visible:f,name:"Combobox.Options"})}));Object.assign(pp,{Input:hp,Button:mp,Label:function(e){var n=Mn(up("Combobox.Label"),1)[0],r="headlessui-combobox-label-".concat(Uf()),i=(0,t.useCallback)((function(){var e;return null==(e=n.inputRef.current)?void 0:e.focus({preventScroll:!0})}),[n.inputRef]),o=(0,t.useMemo)((function(){return{open:0===n.comboboxState,disabled:n.disabled}}),[n]),a={ref:n.labelRef,id:r,onClick:i};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),a),slot:o,defaultTag:"label",name:"Combobox.Label"})},Options:vp,Option:function(e){var n=e.disabled,r=void 0!==n&&n,i=e.value,o=kn(e,yf),a=Mn(up("Combobox.Option"),2),s=a[0],u=a[1],c=lp(),l="headlessui-combobox-option-".concat(Uf()),d=null!==s.activeOptionIndex&&s.options[s.activeOptionIndex].id===l,f=s.comboboxPropsRef.current.value===i,p=(0,t.useRef)({disabled:r,value:i});If((function(){p.current.disabled=r}),[p,r]),If((function(){p.current.value=i}),[p,i]),If((function(){var e,t;p.current.textValue=null==(t=null==(e=document.getElementById(l))?void 0:e.textContent)?void 0:t.toLowerCase()}),[p,l]);var h=(0,t.useCallback)((function(){return c.selectOption(l)}),[c,l]);If((function(){return u({type:4,id:l,dataRef:p}),function(){return u({type:5,id:l})}}),[p,l]),If((function(){0===s.comboboxState&&(!f||u({type:3,focus:4,id:l}))}),[s.comboboxState,f,l]),If((function(){if(0===s.comboboxState&&d){var e=Nf();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(l))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[l,d,s.comboboxState,s.activeOptionIndex]);var m=(0,t.useCallback)((function(e){if(r)return e.preventDefault();h(),u({type:1}),Nf().nextFrame((function(){var e;return null==(e=s.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[u,s.inputRef,r,h]),v=(0,t.useCallback)((function(){if(r)return u({type:3,focus:5});u({type:3,focus:4,id:l})}),[r,l,u]),g=(0,t.useCallback)((function(){r||d||u({type:3,focus:4,id:l})}),[r,d,l,u]),y=(0,t.useCallback)((function(){r||!d||s.optionsPropsRef.current.hold||u({type:3,focus:5})}),[r,d,u,s.comboboxState,s.comboboxPropsRef]),b=(0,t.useMemo)((function(){return{active:d,selected:f,disabled:r}}),[d,f,r]);return Wf({props:(0,bn.Z)((0,bn.Z)({},o),{id:l,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===f||void 0,disabled:void 0,onClick:m,onFocus:v,onPointerMove:g,onMouseMove:g,onPointerLeave:y,onMouseLeave:y}),slot:b,defaultTag:"li",name:"Combobox.Option"})}});var gp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(",");function yp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(gp))}function bp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==document.body&&Hf(n,(t={},(0,An.Z)(t,0,(function(){return e.matches(gp)})),(0,An.Z)(t,1,(function(){for(var t=e;null!==t;){if(t.matches(gp))return!0;t=t.parentElement}return!1})),t))}function xp(e){null==e||e.focus({preventScroll:!0})}function _p(e,t){var n,r=Array.isArray(e)?e.slice().sort((function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})):yp(e),i=document.activeElement,o=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=function(){if(1&t)return 0;if(2&t)return Math.max(0,r.indexOf(i))-1;if(4&t)return Math.max(0,r.indexOf(i))+1;if(8&t)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),s=32&t?{preventScroll:!0}:{},u=0,c=r.length;do{if(u>=c||u+c<=0)return 0;var l=a+u;if(16&t)l=(l+c)%c;else{if(l<0)return 3;if(l>=c)return 1}null==(n=r[l])||n.focus(s),u+=o}while(n!==document.activeElement);return n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function wp(){var e=(0,t.useRef)(!1);return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function Ep(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.initialFocus,o=r.containers,a=(0,t.useRef)("undefined"!=typeof window?document.activeElement:null),s=(0,t.useRef)(null),u=wp(),c=Boolean(16&n),l=Boolean(2&n);(0,t.useEffect)((function(){!c||(a.current=document.activeElement)}),[c]),(0,t.useEffect)((function(){if(c)return function(){xp(a.current),a.current=null}}),[c]),(0,t.useEffect)((function(){if(l&&e.current){var t=document.activeElement;if(null==i?void 0:i.current){if((null==i?void 0:i.current)===t)return void(s.current=t)}else if(e.current.contains(t))return void(s.current=t);(null==i?void 0:i.current)?xp(i.current):0===_p(e.current,1)&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=document.activeElement}}),[e,i,l]),Qf("keydown",(function(t){!(4&n)||!e.current||"Tab"===t.key&&(t.preventDefault(),2===_p(e.current,16|(t.shiftKey?2:4))&&(s.current=document.activeElement))})),Qf("focus",(function(t){if(8&n){var r=new Set(null==o?void 0:o.current);if(r.add(e),r.size){var i=s.current;if(i&&u.current){var a=t.target;a&&a instanceof HTMLElement?Sp(r,a)?(s.current=a,xp(a)):(t.preventDefault(),t.stopPropagation(),xp(i)):xp(s.current)}}}}),!0)}function Sp(e,t){var n,r,i=Bn(e);try{for(i.s();!(r=i.n()).done;){if(null==(n=r.value.current)?void 0:n.contains(t))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}var Tp=new Set,Mp=new Map;function Ap(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Cp(e){var t=Mp.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var kp=(0,t.createContext)(!1);function Lp(e){return t.createElement(kp.Provider,{value:e.force},e.children)}function Op(){var e=(0,t.useContext)(kp),n=(0,t.useContext)(Ip),r=Mn((0,t.useState)((function(){if(!e&&null!==n||"undefined"==typeof window)return null;var t=document.getElementById("headlessui-portal-root");if(t)return t;var r=document.createElement("div");return r.setAttribute("id","headlessui-portal-root"),document.body.appendChild(r)})),2),i=r[0],o=r[1];return(0,t.useEffect)((function(){null!==i&&(document.body.contains(i)||document.body.appendChild(i))}),[i]),(0,t.useEffect)((function(){e||null!==n&&o(n.current)}),[n,o,e]),i}var Rp=t.Fragment;function Np(e){var n=e,i=Op(),o=Mn((0,t.useState)((function(){return"undefined"==typeof window?null:document.createElement("div")})),1)[0],a=Df();return If((function(){if(i&&o)return i.appendChild(o),function(){var e;!i||!o||(i.removeChild(o),i.childNodes.length<=0&&(null==(e=i.parentElement)||e.removeChild(i)))}}),[i,o]),a&&i&&o?(0,r.createPortal)(Wf({props:n,defaultTag:Rp,name:"Portal"}),o):null}var Pp=t.Fragment,Ip=(0,t.createContext)(null);Np.Group=function(e){var n=e.target,r=kn(e,bf);return t.createElement(Ip.Provider,{value:n},Wf({props:r,defaultTag:Pp,name:"Popover.Group"}))};var jp=(0,t.createContext)(null);function Dp(){var e=(0,t.useContext)(jp);if(null===e){var n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Dp),n}return e}function Fp(){var e=Mn((0,t.useState)([]),2),n=e[0],r=e[1];return[n.length>0?n.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var n=(0,t.useCallback)((function(e){return r((function(t){return[].concat(En(t),[e])})),function(){return r((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),i=(0,t.useMemo)((function(){return{register:n,slot:e.slot,name:e.name,props:e.props}}),[n,e.slot,e.name,e.props]);return t.createElement(jp.Provider,{value:i},e.children)}}),[r])]}function zp(e){var t=Dp(),n="headlessui-description-".concat(Uf());If((function(){return t.register(n)}),[n,t.register]);var r=e,i=(0,bn.Z)((0,bn.Z)({},t.props),{},{id:n});return Wf({props:(0,bn.Z)((0,bn.Z)({},r),i),slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}var Up=(0,t.createContext)((function(){}));function Bp(e){var n=e.children,r=e.onUpdate,i=e.type,o=e.element,a=(0,t.useContext)(Up),s=(0,t.useCallback)((function(){null==r||r.apply(void 0,arguments),a.apply(void 0,arguments)}),[a,r]);return If((function(){return s(0,i,o),function(){return s(1,i,o)}}),[s,i,o]),t.createElement(Up.Provider,{value:s},n)}Up.displayName="StackContext";var Vp=(0,An.Z)({},0,(function(e,t){return e.titleId===t.id?e:(0,bn.Z)((0,bn.Z)({},e),{},{titleId:t.id})})),Gp=(0,t.createContext)(null);function Hp(e){var n=(0,t.useContext)(Gp);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(Yp.displayName," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Hp),r}return n}function Wp(e,t){return Hf(t.type,Vp,e,t)}Gp.displayName="DialogContext";var Zp=Yf((function(e,n){var r,i=e.open,o=e.onClose,a=e.initialFocus,s=kn(e,xf),u=Mn((0,t.useState)(0),2),c=u[0],l=u[1],d=tp();void 0===i&&null!==d&&(i=Hf(d,(r={},(0,An.Z)(r,0,!0),(0,An.Z)(r,1,!1),r)));var f=(0,t.useRef)(new Set),p=(0,t.useRef)(null),h=Gf(p,n),m=e.hasOwnProperty("open")||null!==d,v=e.hasOwnProperty("onClose");if(!m&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(i));if("function"!=typeof o)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(o));var g=i?0:1,y=null!==d?0===d:0===g,b=Mn((0,t.useReducer)(Wp,{titleId:null,descriptionId:null}),2),x=b[0],_=b[1],w=(0,t.useCallback)((function(){return o(!1)}),[o]),E=(0,t.useCallback)((function(e){return _({type:0,id:e})}),[_]),S=Df()&&0===g,T=c>1,M=null!==(0,t.useContext)(Gp);Ep(p,S?Hf(T?"parent":"leaf",{parent:16,leaf:30}):1,{initialFocus:a,containers:f}),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];If((function(){if(t&&e.current){var n=e.current;Tp.add(n);var r,i=Bn(Mp.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value;o.contains(n)&&(Cp(o),Mp.delete(o))}}catch(a){i.e(a)}finally{i.f()}return document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){var t,n=Bn(Tp);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(a){n.e(a)}finally{n.f()}1===Tp.size&&(Mp.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ap(e))}})),function(){if(Tp.delete(n),Tp.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Mp.has(e)){var t,n=Bn(Tp);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(a){n.e(a)}finally{n.f()}Mp.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ap(e)}}));else{var e,t=Bn(Mp.keys());try{for(t.s();!(e=t.n()).done;){var r=e.value;Cp(r),Mp.delete(r)}}catch(a){t.e(a)}finally{t.f()}}}}}),[t])}(p,!!T&&S),Qf("mousedown",(function(e){var t,n=e.target;0===g&&(T||(null==(t=p.current)?void 0:t.contains(n))||w())})),Qf("keydown",(function(e){"Escape"===e.key&&0===g&&(T||(e.preventDefault(),e.stopPropagation(),w()))})),(0,t.useEffect)((function(){if(0===g&&!M){var e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight="".concat(n,"px"),function(){document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}}),[g,M]),(0,t.useEffect)((function(){if(0===g&&p.current){var e=new IntersectionObserver((function(e){var t,n=Bn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&w()}}catch(i){n.e(i)}finally{n.f()}}));return e.observe(p.current),function(){return e.disconnect()}}}),[g,p,w]);var A=Mn(Fp(),2),C=A[0],k=A[1],L="headlessui-dialog-".concat(Uf()),O=(0,t.useMemo)((function(){return[{dialogState:g,close:w,setTitleId:E},x]}),[g,x,w,E]),R=(0,t.useMemo)((function(){return{open:0===g}}),[g]),N={ref:h,id:L,role:"dialog","aria-modal":0===g||void 0,"aria-labelledby":x.titleId,"aria-describedby":C,onClick:function(e){e.stopPropagation()}},P=s;return t.createElement(Bp,{type:"Dialog",element:p,onUpdate:(0,t.useCallback)((function(e,t,n){var r;"Dialog"===t&&Hf(e,(r={},(0,An.Z)(r,0,(function(){f.current.add(n),l((function(e){return e+1}))})),(0,An.Z)(r,1,(function(){f.current.add(n),l((function(e){return e-1}))})),r))}),[])},t.createElement(Lp,{force:!0},t.createElement(Np,null,t.createElement(Gp.Provider,{value:O},t.createElement(Np.Group,{target:p},t.createElement(Lp,{force:!1},t.createElement(k,{slot:R,name:"Dialog.Description"},Wf({props:(0,bn.Z)((0,bn.Z)({},P),N),slot:R,defaultTag:"div",features:3,visible:y,name:"Dialog"}))))))))})),qp=Yf((function(e,n){var r=Mn(Hp("Dialog.Overlay"),1)[0],i=r.dialogState,o=r.close,a=Gf(n),s="headlessui-dialog-overlay-".concat(Uf()),u=(0,t.useCallback)((function(e){if(e.target===e.currentTarget){if(Kf(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}),[o]),c=(0,t.useMemo)((function(){return{open:0===i}}),[i]);return Wf({props:(0,bn.Z)((0,bn.Z)({},e),{ref:a,id:s,"aria-hidden":!0,onClick:u}),slot:c,defaultTag:"div",name:"Dialog.Overlay"})}));var Yp=Object.assign(Zp,{Overlay:qp,Title:function(e){var n=Mn(Hp("Dialog.Title"),1)[0],r=n.dialogState,i=n.setTitleId,o="headlessui-dialog-title-".concat(Uf());(0,t.useEffect)((function(){return i(o),function(){return i(null)}}),[o,i]);var a=(0,t.useMemo)((function(){return{open:0===r}}),[r]);return Wf({props:(0,bn.Z)((0,bn.Z)({},e),{id:o}),slot:a,defaultTag:"h2",name:"Dialog.Title"})},Description:zp}),$p=(of={},(0,An.Z)(of,0,(function(e){var t;return(0,bn.Z)((0,bn.Z)({},e),{},{disclosureState:Hf(e.disclosureState,(t={},(0,An.Z)(t,0,1),(0,An.Z)(t,1,0),t))})})),(0,An.Z)(of,1,(function(e){return 1===e.disclosureState?e:(0,bn.Z)((0,bn.Z)({},e),{},{disclosureState:1})})),(0,An.Z)(of,4,(function(e){return!0===e.linkedPanel?e:(0,bn.Z)((0,bn.Z)({},e),{},{linkedPanel:!0})})),(0,An.Z)(of,5,(function(e){return!1===e.linkedPanel?e:(0,bn.Z)((0,bn.Z)({},e),{},{linkedPanel:!1})})),(0,An.Z)(of,2,(function(e,t){return e.buttonId===t.buttonId?e:(0,bn.Z)((0,bn.Z)({},e),{},{buttonId:t.buttonId})})),(0,An.Z)(of,3,(function(e,t){return e.panelId===t.panelId?e:(0,bn.Z)((0,bn.Z)({},e),{},{panelId:t.panelId})})),of),Xp=(0,t.createContext)(null);function Jp(e){var n=(0,t.useContext)(Xp);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(rh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Jp),r}return n}Xp.displayName="DisclosureContext";var Kp=(0,t.createContext)(null);function Qp(e){var n=(0,t.useContext)(Kp);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(rh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Qp),r}return n}Kp.displayName="DisclosureAPIContext";var eh=(0,t.createContext)(null);function th(e,t){return Hf(t.type,$p,e,t)}eh.displayName="DisclosurePanelContext";var nh=t.Fragment;function rh(e){var n,r=e.defaultOpen,i=void 0!==r&&r,o=kn(e,_f),a="headlessui-disclosure-button-".concat(Uf()),s="headlessui-disclosure-panel-".concat(Uf()),u=(0,t.useReducer)(th,{disclosureState:i?0:1,linkedPanel:!1,buttonId:a,panelId:s}),c=Mn(u,2),l=c[0].disclosureState,d=c[1];(0,t.useEffect)((function(){return d({type:2,buttonId:a})}),[a,d]),(0,t.useEffect)((function(){return d({type:3,panelId:s})}),[s,d]);var f=(0,t.useCallback)((function(e){d({type:1});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:document.getElementById(a):document.getElementById(a);null==t||t.focus()}),[d,a]),p=(0,t.useMemo)((function(){return{close:f}}),[f]),h=(0,t.useMemo)((function(){return{open:0===l,close:f}}),[l,f]);return t.createElement(Xp.Provider,{value:u},t.createElement(Kp.Provider,{value:p},t.createElement(np,{value:Hf(l,(n={},(0,An.Z)(n,0,0),(0,An.Z)(n,1,1),n))},Wf({props:o,slot:h,defaultTag:nh,name:"Disclosure"}))))}var ih=Yf((function(e,n){var r=Mn(Jp("Disclosure.Button"),2),i=r[0],o=r[1],a=(0,t.useRef)(null),s=Gf(a,n),u=(0,t.useContext)(eh),c=null!==u&&u===i.panelId,l=(0,t.useCallback)((function(e){var t;if(c){if(1===i.disclosureState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),o({type:0}),null==(t=document.getElementById(i.buttonId))||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),o({type:0})}}),[o,c,i.disclosureState,i.buttonId]),d=(0,t.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),f=(0,t.useCallback)((function(t){var n;Kf(t.currentTarget)||e.disabled||(c?(o({type:0}),null==(n=document.getElementById(i.buttonId))||n.focus()):o({type:0}))}),[o,e.disabled,i.buttonId,c]),p=(0,t.useMemo)((function(){return{open:0===i.disclosureState}}),[i]),h=ip(e,a),m=e,v=c?{ref:s,type:h,onKeyDown:l,onClick:f}:{ref:s,id:i.buttonId,type:h,"aria-expanded":e.disabled?void 0:0===i.disclosureState,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:l,onKeyUp:d,onClick:f};return Wf({props:(0,bn.Z)((0,bn.Z)({},m),v),slot:p,defaultTag:"button",name:"Disclosure.Button"})})),oh=Yf((function(e,n){var r=Mn(Jp("Disclosure.Panel"),2),i=r[0],o=r[1],a=Qp("Disclosure.Panel").close,s=Gf(n,(function(){i.linkedPanel||o({type:4})})),u=tp(),c=null!==u?0===u:0===i.disclosureState;(0,t.useEffect)((function(){return function(){return o({type:5})}}),[o]),(0,t.useEffect)((function(){var t;1===i.disclosureState&&(null==(t=e.unmount)||t)&&o({type:5})}),[i.disclosureState,e.unmount,o]);var l=(0,t.useMemo)((function(){return{open:0===i.disclosureState,close:a}}),[i,a]),d={ref:s,id:i.panelId},f=e;return t.createElement(eh.Provider,{value:i.panelId},Wf({props:(0,bn.Z)((0,bn.Z)({},f),d),slot:l,defaultTag:"div",features:3,visible:c,name:"Disclosure.Panel"}))}));rh.Button=ih,rh.Panel=oh;var ah=(af={},(0,An.Z)(af,1,(function(e){return e.disabled||1===e.listboxState?e:(0,bn.Z)((0,bn.Z)({},e),{},{activeOptionIndex:null,listboxState:1})})),(0,An.Z)(af,0,(function(e){return e.disabled||0===e.listboxState?e:(0,bn.Z)((0,bn.Z)({},e),{},{listboxState:0})})),(0,An.Z)(af,2,(function(e,t){return e.disabled===t.disabled?e:(0,bn.Z)((0,bn.Z)({},e),{},{disabled:t.disabled})})),(0,An.Z)(af,3,(function(e,t){return e.orientation===t.orientation?e:(0,bn.Z)((0,bn.Z)({},e),{},{orientation:t.orientation})})),(0,An.Z)(af,4,(function(e,t){if(e.disabled||1===e.listboxState)return e;var n=Jf(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeOptionIndex===n?e:(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:"",activeOptionIndex:n})})),(0,An.Z)(af,5,(function(e,t){if(e.disabled||1===e.listboxState)return e;var n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=i?e.options.indexOf(i):-1;return-1===o||o===e.activeOptionIndex?(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:r}):(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:r,activeOptionIndex:o})})),(0,An.Z)(af,6,(function(e){return e.disabled||1===e.listboxState||""===e.searchQuery?e:(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:""})})),(0,An.Z)(af,7,(function(e,t){var n,r=Array.from(null==(n=e.optionsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce((function(e,t,n){return Object.assign(e,(0,An.Z)({},t.id,n))}),{}),i=[].concat(En(e.options),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return r[e.id]-r[t.id]}));return(0,bn.Z)((0,bn.Z)({},e),{},{options:i})})),(0,An.Z)(af,8,(function(e,t){var n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),(0,bn.Z)((0,bn.Z)({},e),{},{options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)})})),af),sh=(0,t.createContext)(null);function uh(e){var n=(0,t.useContext)(sh);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(dh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,uh),r}return n}function ch(e,t){return Hf(t.type,ah,e,t)}sh.displayName="ListboxContext";var lh=t.Fragment;function dh(e){var n,r=e.value,i=e.onChange,o=e.disabled,a=void 0!==o&&o,s=e.horizontal,u=void 0!==s&&s,c=kn(e,wf),l=u?"horizontal":"vertical",d=(0,t.useReducer)(ch,{listboxState:1,propsRef:{current:{value:r,onChange:i}},labelRef:(0,t.createRef)(),buttonRef:(0,t.createRef)(),optionsRef:(0,t.createRef)(),disabled:a,orientation:l,options:[],searchQuery:"",activeOptionIndex:null}),f=Mn(d,2),p=f[0],h=p.listboxState,m=p.propsRef,v=p.optionsRef,g=p.buttonRef,y=f[1];If((function(){m.current.value=r}),[r,m]),If((function(){m.current.onChange=i}),[i,m]),If((function(){return y({type:2,disabled:a})}),[a]),If((function(){return y({type:3,orientation:l})}),[l]),Qf("mousedown",(function(e){var t,n,r,i=e.target;0===h&&((null==(t=g.current)?void 0:t.contains(i))||(null==(n=v.current)?void 0:n.contains(i))||(y({type:1}),bp(i,1)||(e.preventDefault(),null==(r=g.current)||r.focus())))}));var b=(0,t.useMemo)((function(){return{open:0===h,disabled:a}}),[h,a]);return t.createElement(sh.Provider,{value:d},t.createElement(np,{value:Hf(h,(n={},(0,An.Z)(n,0,0),(0,An.Z)(n,1,1),n))},Wf({props:c,slot:b,defaultTag:lh,name:"Listbox"})))}var fh=Yf((function(e,n){var r,i=Mn(uh("Listbox.Button"),2),o=i[0],a=i[1],s=Gf(o.buttonRef,n),u="headlessui-listbox-button-".concat(Uf()),c=Pf(),l=(0,t.useCallback)((function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),a({type:0}),c.nextFrame((function(){o.propsRef.current.value||a({type:4,focus:0})}));break;case"ArrowUp":e.preventDefault(),a({type:0}),c.nextFrame((function(){o.propsRef.current.value||a({type:4,focus:3})}))}}),[a,o,c]),d=(0,t.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),f=(0,t.useCallback)((function(e){if(Kf(e.currentTarget))return e.preventDefault();0===o.listboxState?(a({type:1}),c.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),a({type:0}))}),[a,c,o]),p=Vf((function(){if(o.labelRef.current)return[o.labelRef.current.id,u].join(" ")}),[o.labelRef.current,u]),h=(0,t.useMemo)((function(){return{open:0===o.listboxState,disabled:o.disabled}}),[o]),m=e,v={ref:s,id:u,type:ip(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=o.optionsRef.current)?void 0:r.id,"aria-expanded":o.disabled?void 0:0===o.listboxState,"aria-labelledby":p,disabled:o.disabled,onKeyDown:l,onKeyUp:d,onClick:f};return Wf({props:(0,bn.Z)((0,bn.Z)({},m),v),slot:h,defaultTag:"button",name:"Listbox.Button"})}));var ph=Yf((function(e,n){var r,i=Mn(uh("Listbox.Options"),2),o=i[0],a=i[1],s=Gf(o.optionsRef,n),u="headlessui-listbox-options-".concat(Uf()),c=Pf(),l=Pf(),d=tp(),f=null!==d?0===d:0===o.listboxState;If((function(){var e=o.optionsRef.current;!e||0===o.listboxState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[o.listboxState,o.optionsRef]);var p=(0,t.useCallback)((function(e){switch(l.dispose(),e.key){case" ":if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),a({type:5,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),a({type:1}),null!==o.activeOptionIndex){var t=o.options[o.activeOptionIndex].dataRef;o.propsRef.current.onChange(t.current.value)}Nf().nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Hf(o.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:2});case Hf(o.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),a({type:4,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),a({type:4,focus:3});case"Escape":return e.preventDefault(),e.stopPropagation(),a({type:1}),c.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(a({type:5,value:e.key}),l.setTimeout((function(){return a({type:6})}),350))}}),[c,a,l,o]),h=Vf((function(){var e,t,n;return null!=(n=null==(e=o.labelRef.current)?void 0:e.id)?n:null==(t=o.buttonRef.current)?void 0:t.id}),[o.labelRef.current,o.buttonRef.current]),m=(0,t.useMemo)((function(){return{open:0===o.listboxState}}),[o]),v={"aria-activedescendant":null===o.activeOptionIndex||null==(r=o.options[o.activeOptionIndex])?void 0:r.id,"aria-labelledby":h,"aria-orientation":o.orientation,id:u,onKeyDown:p,role:"listbox",tabIndex:0,ref:s};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),v),slot:m,defaultTag:"ul",features:3,visible:f,name:"Listbox.Options"})}));dh.Button=fh,dh.Label=function(e){var n=Mn(uh("Listbox.Label"),1)[0],r="headlessui-listbox-label-".concat(Uf()),i=(0,t.useCallback)((function(){var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[n.buttonRef]),o=(0,t.useMemo)((function(){return{open:0===n.listboxState,disabled:n.disabled}}),[n]),a={ref:n.labelRef,id:r,onClick:i};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),a),slot:o,defaultTag:"label",name:"Listbox.Label"})},dh.Options=ph,dh.Option=function(e){var n=e.disabled,r=void 0!==n&&n,i=e.value,o=kn(e,Ef),a=Mn(uh("Listbox.Option"),2),s=a[0],u=a[1],c="headlessui-listbox-option-".concat(Uf()),l=null!==s.activeOptionIndex&&s.options[s.activeOptionIndex].id===c,d=s.propsRef.current.value===i,f=(0,t.useRef)({disabled:r,value:i});If((function(){f.current.disabled=r}),[f,r]),If((function(){f.current.value=i}),[f,i]),If((function(){var e,t;f.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[f,c]);var p=(0,t.useCallback)((function(){return s.propsRef.current.onChange(i)}),[s.propsRef,i]);If((function(){return u({type:7,id:c,dataRef:f}),function(){return u({type:8,id:c})}}),[f,c]),If((function(){var e,t;0===s.listboxState&&(!d||(u({type:4,focus:4,id:c}),null==(t=null==(e=document.getElementById(c))?void 0:e.focus)||t.call(e)))}),[s.listboxState]),If((function(){if(0===s.listboxState&&l){var e=Nf();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[c,l,s.listboxState,s.activeOptionIndex]);var h=(0,t.useCallback)((function(e){if(r)return e.preventDefault();p(),u({type:1}),Nf().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[u,s.buttonRef,r,p]),m=(0,t.useCallback)((function(){if(r)return u({type:4,focus:5});u({type:4,focus:4,id:c})}),[r,c,u]),v=(0,t.useCallback)((function(){r||l||u({type:4,focus:4,id:c})}),[r,l,c,u]),g=(0,t.useCallback)((function(){r||!l||u({type:4,focus:5})}),[r,l,u]),y=(0,t.useMemo)((function(){return{active:l,selected:d,disabled:r}}),[l,d,r]);return Wf({props:(0,bn.Z)((0,bn.Z)({},o),{id:c,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===d||void 0,disabled:void 0,onClick:h,onFocus:m,onPointerMove:v,onMouseMove:v,onPointerLeave:g,onMouseLeave:g}),slot:y,defaultTag:"li",name:"Listbox.Option"})};var hh=(sf={},(0,An.Z)(sf,1,(function(e){return 1===e.menuState?e:(0,bn.Z)((0,bn.Z)({},e),{},{activeItemIndex:null,menuState:1})})),(0,An.Z)(sf,0,(function(e){return 0===e.menuState?e:(0,bn.Z)((0,bn.Z)({},e),{},{menuState:0})})),(0,An.Z)(sf,2,(function(e,t){var n=Jf(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:"",activeItemIndex:n})})),(0,An.Z)(sf,3,(function(e,t){var n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),o=i?e.items.indexOf(i):-1;return-1===o||o===e.activeItemIndex?(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:r}):(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:r,activeItemIndex:o})})),(0,An.Z)(sf,4,(function(e){return""===e.searchQuery?e:(0,bn.Z)((0,bn.Z)({},e),{},{searchQuery:"",searchActiveItemIndex:null})})),(0,An.Z)(sf,5,(function(e,t){var n,r=Array.from(null==(n=e.itemsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((function(e,t,n){return Object.assign(e,(0,An.Z)({},t.id,n))}),{}),i=[].concat(En(e.items),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return r[e.id]-r[t.id]}));return(0,bn.Z)((0,bn.Z)({},e),{},{items:i})})),(0,An.Z)(sf,6,(function(e,t){var n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),(0,bn.Z)((0,bn.Z)({},e),{},{items:n,activeItemIndex:i===e.activeItemIndex||null===r?null:n.indexOf(r)})})),sf),mh=(0,t.createContext)(null);function vh(e){var n=(0,t.useContext)(mh);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(bh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,vh),r}return n}function gh(e,t){return Hf(t.type,hh,e,t)}mh.displayName="MenuContext";var yh=t.Fragment;function bh(e){var n,r=(0,t.useReducer)(gh,{menuState:1,buttonRef:(0,t.createRef)(),itemsRef:(0,t.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),i=Mn(r,2),o=i[0],a=o.menuState,s=o.itemsRef,u=o.buttonRef,c=i[1];Qf("mousedown",(function(e){var t,n,r,i=e.target;0===a&&((null==(t=u.current)?void 0:t.contains(i))||(null==(n=s.current)?void 0:n.contains(i))||(c({type:1}),bp(i,1)||(e.preventDefault(),null==(r=u.current)||r.focus())))}));var l=(0,t.useMemo)((function(){return{open:0===a}}),[a]);return t.createElement(mh.Provider,{value:r},t.createElement(np,{value:Hf(a,(n={},(0,An.Z)(n,0,0),(0,An.Z)(n,1,1),n))},Wf({props:e,slot:l,defaultTag:yh,name:"Menu"})))}var xh=Yf((function(e,n){var r,i=Mn(vh("Menu.Button"),2),o=i[0],a=i[1],s=Gf(o.buttonRef,n),u="headlessui-menu-button-".concat(Uf()),c=Pf(),l=(0,t.useCallback)((function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame((function(){return a({type:2,focus:0})}));break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame((function(){return a({type:2,focus:3})}))}}),[a,c]),d=(0,t.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),f=(0,t.useCallback)((function(t){if(Kf(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(a({type:1}),c.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),a({type:0})))}),[a,c,o,e.disabled]),p=(0,t.useMemo)((function(){return{open:0===o.menuState}}),[o]),h=e,m={ref:s,id:u,type:ip(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=o.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===o.menuState,onKeyDown:l,onKeyUp:d,onClick:f};return Wf({props:(0,bn.Z)((0,bn.Z)({},h),m),slot:p,defaultTag:"button",name:"Menu.Button"})})),_h=Yf((function(e,n){var r,i,o=Mn(vh("Menu.Items"),2),a=o[0],s=o[1],u=Gf(a.itemsRef,n),c="headlessui-menu-items-".concat(Uf()),l=Pf(),d=tp(),f=null!==d?0===d:0===a.menuState;(0,t.useEffect)((function(){var e=a.itemsRef.current;!e||0===a.menuState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[a.menuState,a.itemsRef]),op({container:a.itemsRef.current,enabled:0===a.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var p=(0,t.useCallback)((function(e){var t;switch(l.dispose(),e.key){case" ":if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:3,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),s({type:1}),null!==a.activeItemIndex){var n=a.items[a.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}Nf().nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),s({type:2,focus:2});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),s({type:2,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),s({type:2,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),s({type:2,focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),s({type:1}),Nf().nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:3,value:e.key}),l.setTimeout((function(){return s({type:4})}),350))}}),[s,l,a]),h=(0,t.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),m=(0,t.useMemo)((function(){return{open:0===a.menuState}}),[a]),v={"aria-activedescendant":null===a.activeItemIndex||null==(r=a.items[a.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(i=a.buttonRef.current)?void 0:i.id,id:c,onKeyDown:p,onKeyUp:h,role:"menu",tabIndex:0,ref:u};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),v),slot:m,defaultTag:"div",features:3,visible:f,name:"Menu.Items"})})),wh=t.Fragment;bh.Button=xh,bh.Items=_h,bh.Item=function(e){var n=e.disabled,r=void 0!==n&&n,i=e.onClick,o=kn(e,Sf),a=Mn(vh("Menu.Item"),2),s=a[0],u=a[1],c="headlessui-menu-item-".concat(Uf()),l=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===c;If((function(){if(0===s.menuState&&l){var e=Nf();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[c,l,s.menuState,s.activeItemIndex]);var d=(0,t.useRef)({disabled:r});If((function(){d.current.disabled=r}),[d,r]),If((function(){var e,t;d.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[d,c]),If((function(){return u({type:5,id:c,dataRef:d}),function(){return u({type:6,id:c})}}),[d,c]);var f=(0,t.useCallback)((function(e){return r?e.preventDefault():(u({type:1}),Nf().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),i?i(e):void 0)}),[u,s.buttonRef,r,i]),p=(0,t.useCallback)((function(){if(r)return u({type:2,focus:5});u({type:2,focus:4,id:c})}),[r,c,u]),h=(0,t.useCallback)((function(){r||l||u({type:2,focus:4,id:c})}),[r,l,c,u]),m=(0,t.useCallback)((function(){r||!l||u({type:2,focus:5})}),[r,l,u]),v=(0,t.useMemo)((function(){return{active:l,disabled:r}}),[l,r]);return Wf({props:(0,bn.Z)((0,bn.Z)({},o),{id:c,role:"menuitem",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,disabled:void 0,onClick:f,onFocus:p,onPointerMove:h,onMouseMove:h,onPointerLeave:m,onMouseLeave:m}),slot:v,defaultTag:wh,name:"Menu.Item"})};var Eh=(uf={},(0,An.Z)(uf,0,(function(e){var t;return(0,bn.Z)((0,bn.Z)({},e),{},{popoverState:Hf(e.popoverState,(t={},(0,An.Z)(t,0,1),(0,An.Z)(t,1,0),t))})})),(0,An.Z)(uf,1,(function(e){return 1===e.popoverState?e:(0,bn.Z)((0,bn.Z)({},e),{},{popoverState:1})})),(0,An.Z)(uf,2,(function(e,t){return e.button===t.button?e:(0,bn.Z)((0,bn.Z)({},e),{},{button:t.button})})),(0,An.Z)(uf,3,(function(e,t){return e.buttonId===t.buttonId?e:(0,bn.Z)((0,bn.Z)({},e),{},{buttonId:t.buttonId})})),(0,An.Z)(uf,4,(function(e,t){return e.panel===t.panel?e:(0,bn.Z)((0,bn.Z)({},e),{},{panel:t.panel})})),(0,An.Z)(uf,5,(function(e,t){return e.panelId===t.panelId?e:(0,bn.Z)((0,bn.Z)({},e),{},{panelId:t.panelId})})),uf),Sh=(0,t.createContext)(null);function Th(e){var n=(0,t.useContext)(Sh);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(Rh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Th),r}return n}Sh.displayName="PopoverContext";var Mh=(0,t.createContext)(null);function Ah(e){var n=(0,t.useContext)(Mh);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(Rh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Ah),r}return n}Mh.displayName="PopoverAPIContext";var Ch=(0,t.createContext)(null);function kh(){return(0,t.useContext)(Ch)}Ch.displayName="PopoverGroupContext";var Lh=(0,t.createContext)(null);function Oh(e,t){return Hf(t.type,Eh,e,t)}Lh.displayName="PopoverPanelContext";function Rh(e){var n,r="headlessui-popover-button-".concat(Uf()),i="headlessui-popover-panel-".concat(Uf()),o=(0,t.useReducer)(Oh,{popoverState:1,button:null,buttonId:r,panel:null,panelId:i}),a=Mn(o,2),s=a[0],u=s.popoverState,c=s.button,l=s.panel,d=a[1];(0,t.useEffect)((function(){return d({type:3,buttonId:r})}),[r,d]),(0,t.useEffect)((function(){return d({type:5,panelId:i})}),[i,d]);var f=(0,t.useMemo)((function(){return{buttonId:r,panelId:i,close:function(){return d({type:1})}}}),[r,i,d]),p=kh(),h=null==p?void 0:p.registerPopover,m=(0,t.useCallback)((function(){var e;return null!=(e=null==p?void 0:p.isFocusWithinPopoverGroup())?e:(null==c?void 0:c.contains(document.activeElement))||(null==l?void 0:l.contains(document.activeElement))}),[p,c,l]);(0,t.useEffect)((function(){return null==h?void 0:h(f)}),[h,f]),Qf("focus",(function(){0===u&&(m()||!c||!l||d({type:1}))}),!0),Qf("mousedown",(function(e){var t=e.target;0===u&&((null==c?void 0:c.contains(t))||(null==l?void 0:l.contains(t))||(d({type:1}),bp(t,1)||(e.preventDefault(),null==c||c.focus())))}));var v=(0,t.useCallback)((function(e){d({type:1});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:c:c;null==t||t.focus()}),[d,c]),g=(0,t.useMemo)((function(){return{close:v}}),[v]),y=(0,t.useMemo)((function(){return{open:0===u,close:v}}),[u,v]);return t.createElement(Sh.Provider,{value:o},t.createElement(Mh.Provider,{value:g},t.createElement(np,{value:Hf(u,(n={},(0,An.Z)(n,0,0),(0,An.Z)(n,1,1),n))},Wf({props:e,slot:y,defaultTag:"div",name:"Popover"}))))}var Nh=Yf((function(e,n){var r=Mn(Th("Popover.Button"),2),i=r[0],o=r[1],a=(0,t.useRef)(null),s=kh(),u=null==s?void 0:s.closeOthers,c=(0,t.useContext)(Lh),l=null!==c&&c===i.panelId,d=Gf(a,n,l?null:function(e){return o({type:2,button:e})}),f=Gf(a,n),p=(0,t.useRef)(null),h=(0,t.useRef)("undefined"==typeof window?null:document.activeElement);Qf("focus",(function(){h.current=p.current,p.current=document.activeElement}),!0);var m=(0,t.useCallback)((function(e){var t,n;if(l){if(1===i.popoverState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),o({type:1}),null==(t=i.button)||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===i.popoverState&&(null==u||u(i.buttonId)),o({type:0});break;case"Escape":if(0!==i.popoverState)return null==u?void 0:u(i.buttonId);if(!a.current||!a.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1});break;case"Tab":if(0!==i.popoverState||!i.panel||!i.button)return;if(e.shiftKey){if(!h.current||(null==(n=i.button)?void 0:n.contains(h.current))||i.panel.contains(h.current))return;var r=yp(),s=r.indexOf(h.current);if(r.indexOf(i.button)>s)return;e.preventDefault(),e.stopPropagation(),_p(i.panel,8)}else e.preventDefault(),e.stopPropagation(),_p(i.panel,1)}}),[o,i.popoverState,i.buttonId,i.button,i.panel,a,u,l]),v=(0,t.useCallback)((function(e){var t;if(!l&&(" "===e.key&&e.preventDefault(),0===i.popoverState&&i.panel&&i.button)&&"Tab"===e.key){if(!h.current||(null==(t=i.button)?void 0:t.contains(h.current))||i.panel.contains(h.current))return;var n=yp(),r=n.indexOf(h.current);if(n.indexOf(i.button)>r)return;e.preventDefault(),e.stopPropagation(),_p(i.panel,8)}}),[i.popoverState,i.panel,i.button,l]),g=(0,t.useCallback)((function(t){var n,r;Kf(t.currentTarget)||e.disabled||(l?(o({type:1}),null==(n=i.button)||n.focus()):(1===i.popoverState&&(null==u||u(i.buttonId)),null==(r=i.button)||r.focus(),o({type:0})))}),[o,i.button,i.popoverState,i.buttonId,e.disabled,u,l]),y=(0,t.useMemo)((function(){return{open:0===i.popoverState}}),[i]),b=ip(e,a),x=e,_=l?{ref:f,type:b,onKeyDown:m,onClick:g}:{ref:d,id:i.buttonId,type:b,"aria-expanded":e.disabled?void 0:0===i.popoverState,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:m,onKeyUp:v,onClick:g};return Wf({props:(0,bn.Z)((0,bn.Z)({},x),_),slot:y,defaultTag:"button",name:"Popover.Button"})})),Ph=Yf((function(e,n){var r=Mn(Th("Popover.Overlay"),2),i=r[0].popoverState,o=r[1],a=Gf(n),s="headlessui-popover-overlay-".concat(Uf()),u=tp(),c=null!==u?0===u:0===i,l=(0,t.useCallback)((function(e){if(Kf(e.currentTarget))return e.preventDefault();o({type:1})}),[o]),d=(0,t.useMemo)((function(){return{open:0===i}}),[i]);return Wf({props:(0,bn.Z)((0,bn.Z)({},e),{ref:a,id:s,"aria-hidden":!0,onClick:l}),slot:d,defaultTag:"div",features:3,visible:c,name:"Popover.Overlay"})})),Ih=Yf((function(e,n){var r=e.focus,i=void 0!==r&&r,o=kn(e,Tf),a=Mn(Th("Popover.Panel"),2),s=a[0],u=a[1],c=Ah("Popover.Panel").close,l=(0,t.useRef)(null),d=Gf(l,n,(function(e){u({type:4,panel:e})})),f=tp(),p=null!==f?0===f:0===s.popoverState,h=(0,t.useCallback)((function(e){var t;if("Escape"===e.key){if(0!==s.popoverState||!l.current||!l.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),u({type:1}),null==(t=s.button)||t.focus()}}),[s,l,u]);(0,t.useEffect)((function(){return function(){return u({type:4,panel:null})}}),[u]),(0,t.useEffect)((function(){var t;e.static||1===s.popoverState&&(null==(t=e.unmount)||t)&&u({type:4,panel:null})}),[s.popoverState,e.unmount,e.static,u]),(0,t.useEffect)((function(){if(i&&0===s.popoverState&&l.current){var e=document.activeElement;l.current.contains(e)||_p(l.current,1)}}),[i,l,s.popoverState]),Qf("keydown",(function(e){var t;if(0===s.popoverState&&l.current&&"Tab"===e.key&&document.activeElement&&l.current&&l.current.contains(document.activeElement)){e.preventDefault();var n=_p(l.current,e.shiftKey?2:4);if(3===n)return null==(t=s.button)?void 0:t.focus();if(1===n){if(!s.button)return;var r=yp(),i=r.indexOf(s.button),o=r.splice(i+1).filter((function(e){var t;return!(null==(t=l.current)?void 0:t.contains(e))}));0===_p(o,1)&&_p(document.body,1)}}})),Qf("focus",(function(){var e;!i||0===s.popoverState&&(!l.current||(null==(e=l.current)?void 0:e.contains(document.activeElement))||u({type:1}))}),!0);var m=(0,t.useMemo)((function(){return{open:0===s.popoverState,close:c}}),[s,c]),v={ref:d,id:s.panelId,onKeyDown:h};return t.createElement(Lh.Provider,{value:s.panelId},Wf({props:(0,bn.Z)((0,bn.Z)({},o),v),slot:m,defaultTag:"div",features:3,visible:p,name:"Popover.Panel"}))}));Rh.Button=Nh,Rh.Overlay=Ph,Rh.Panel=Ih,Rh.Group=function(e){var n=(0,t.useRef)(null),r=Mn((0,t.useState)([]),2),i=r[0],o=r[1],a=(0,t.useCallback)((function(e){o((function(t){var n=t.indexOf(e);if(-1!==n){var r=t.slice();return r.splice(n,1),r}return t}))}),[o]),s=(0,t.useCallback)((function(e){return o((function(t){return[].concat(En(t),[e])})),function(){return a(e)}}),[o,a]),u=(0,t.useCallback)((function(){var e,t=document.activeElement;return!!(null==(e=n.current)?void 0:e.contains(t))||i.some((function(e){var n,r;return(null==(n=document.getElementById(e.buttonId))?void 0:n.contains(t))||(null==(r=document.getElementById(e.panelId))?void 0:r.contains(t))}))}),[n,i]),c=(0,t.useCallback)((function(e){var t,n=Bn(i);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.buttonId!==e&&r.close()}}catch(o){n.e(o)}finally{n.f()}}),[i]),l=(0,t.useMemo)((function(){return{registerPopover:s,unregisterPopover:a,isFocusWithinPopoverGroup:u,closeOthers:c}}),[s,a,u,c]),d=(0,t.useMemo)((function(){return{}}),[]),f={ref:n},p=e;return t.createElement(Ch.Provider,{value:l},Wf({props:(0,bn.Z)((0,bn.Z)({},p),f),slot:d,defaultTag:"div",name:"Popover.Group"}))};var jh=(0,t.createContext)(null);function Dh(){var e=(0,t.useContext)(jh);if(null===e){var n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Dh),n}return e}function Fh(){var e=Mn((0,t.useState)([]),2),n=e[0],r=e[1];return[n.length>0?n.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var n=(0,t.useCallback)((function(e){return r((function(t){return[].concat(En(t),[e])})),function(){return r((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}}),[]),i=(0,t.useMemo)((function(){return{register:n,slot:e.slot,name:e.name,props:e.props}}),[n,e.slot,e.name,e.props]);return t.createElement(jh.Provider,{value:i},e.children)}}),[r])]}function zh(e){var t=e.passive,n=void 0!==t&&t,r=kn(e,Mf),i=Dh(),o="headlessui-label-".concat(Uf());If((function(){return i.register(o)}),[o,i.register]);var a=(0,bn.Z)((0,bn.Z)({},i.props),{},{id:o}),s=(0,bn.Z)((0,bn.Z)({},r),a);return n&&delete s.onClick,Wf({props:s,slot:i.slot||{},defaultTag:"label",name:i.name||"Label"})}var Uh=(cf={},(0,An.Z)(cf,0,(function(e,t){return(0,bn.Z)((0,bn.Z)({},e),{},{options:[].concat(En(e.options),[{id:t.id,element:t.element,propsRef:t.propsRef}])})})),(0,An.Z)(cf,1,(function(e,t){var n=e.options.slice(),r=e.options.findIndex((function(e){return e.id===t.id}));return-1===r?e:(n.splice(r,1),(0,bn.Z)((0,bn.Z)({},e),{},{options:n}))})),cf),Bh=(0,t.createContext)(null);function Vh(e){var n=(0,t.useContext)(Bh);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <").concat(Hh.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Vh),r}return n}function Gh(e,t){return Hf(t.type,Uh,e,t)}Bh.displayName="RadioGroupContext";function Hh(e){var n=e.value,r=e.onChange,i=e.disabled,o=void 0!==i&&i,a=kn(e,Af),s=Mn((0,t.useReducer)(Gh,{options:[]}),2),u=s[0].options,c=s[1],l=Mn(Fh(),2),d=l[0],f=l[1],p=Mn(Fp(),2),h=p[0],m=p[1],v="headlessui-radiogroup-".concat(Uf()),g=(0,t.useRef)(null),y=(0,t.useMemo)((function(){return u.find((function(e){return!e.propsRef.current.disabled}))}),[u]),b=(0,t.useMemo)((function(){return u.some((function(e){return e.propsRef.current.value===n}))}),[u,n]),x=(0,t.useCallback)((function(e){var t;if(o||e===n)return!1;var i=null==(t=u.find((function(t){return t.propsRef.current.value===e})))?void 0:t.propsRef.current;return!(null==i?void 0:i.disabled)&&(r(e),!0)}),[r,n,o,u]);op({container:g.current,accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var _=(0,t.useCallback)((function(e){if(g.current){var t=u.filter((function(e){return!1===e.propsRef.current.disabled})).map((function(e){return e.element.current}));switch(e.key){case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===_p(t,18)){var n=u.find((function(e){return e.element.current===document.activeElement}));n&&x(n.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===_p(t,20)){var r=u.find((function(e){return e.element.current===document.activeElement}));r&&x(r.propsRef.current.value)}break;case" ":e.preventDefault(),e.stopPropagation();var i=u.find((function(e){return e.element.current===document.activeElement}));i&&x(i.propsRef.current.value)}}}),[g,u,x]),w=(0,t.useCallback)((function(e){return c((0,bn.Z)({type:0},e)),function(){return c({type:1,id:e.id})}}),[c]),E=(0,t.useMemo)((function(){return{registerOption:w,firstOption:y,containsCheckedOption:b,change:x,disabled:o,value:n}}),[w,y,b,x,o,n]),S={ref:g,id:v,role:"radiogroup","aria-labelledby":d,"aria-describedby":h,onKeyDown:_};return t.createElement(m,{name:"RadioGroup.Description"},t.createElement(f,{name:"RadioGroup.Label"},t.createElement(Bh.Provider,{value:E},Wf({props:(0,bn.Z)((0,bn.Z)({},a),S),defaultTag:"div",name:"RadioGroup"}))))}Hh.Option=function(e){var n=(0,t.useRef)(null),r="headlessui-radiogroup-option-".concat(Uf()),i=Mn(Fh(),2),o=i[0],a=i[1],s=Mn(Fp(),2),u=s[0],c=s[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Mn((0,t.useState)(e),2),r=n[0],i=n[1],o=(0,t.useCallback)((function(e){return i((function(t){return t|e}))}),[i]),a=(0,t.useCallback)((function(e){return Boolean(r&e)}),[r]),s=(0,t.useCallback)((function(e){return i((function(t){return t&~e}))}),[i]),u=(0,t.useCallback)((function(e){return i((function(t){return t^e}))}),[i]);return{addFlag:o,hasFlag:a,removeFlag:s,toggleFlag:u}}(1),d=l.addFlag,f=l.removeFlag,p=l.hasFlag,h=e.value,m=e.disabled,v=void 0!==m&&m,g=kn(e,Cf),y=(0,t.useRef)({value:h,disabled:v});If((function(){y.current.value=h}),[h,y]),If((function(){y.current.disabled=v}),[v,y]);var b=Vh("RadioGroup.Option"),x=b.registerOption,_=b.disabled,w=b.change,E=b.firstOption,S=b.containsCheckedOption,T=b.value;If((function(){return x({id:r,element:n,propsRef:y})}),[r,x,n,e]);var M=(0,t.useCallback)((function(){var e;!w(h)||(d(2),null==(e=n.current)||e.focus())}),[d,w,h]),A=(0,t.useCallback)((function(){return d(2)}),[d]),C=(0,t.useCallback)((function(){return f(2)}),[f]),k=(null==E?void 0:E.id)===r,L=_||v,O=T===h,R={ref:n,id:r,role:"radio","aria-checked":O?"true":"false","aria-labelledby":o,"aria-describedby":u,"aria-disabled":!!L||void 0,tabIndex:L?-1:O||!S&&k?0:-1,onClick:L?void 0:M,onFocus:L?void 0:A,onBlur:L?void 0:C},N=(0,t.useMemo)((function(){return{checked:O,disabled:L,active:p(2)}}),[O,L,p]);return t.createElement(c,{name:"RadioGroup.Description"},t.createElement(a,{name:"RadioGroup.Label"},Wf({props:(0,bn.Z)((0,bn.Z)({},g),R),slot:N,defaultTag:"div",name:"RadioGroup.Option"})))},Hh.Label=zh,Hh.Description=zp;var Wh=(0,t.createContext)(null);Wh.displayName="GroupContext";var Zh=t.Fragment;function qh(e){var n=e.checked,r=e.onChange,i=kn(e,kf),o="headlessui-switch-".concat(Uf()),a=(0,t.useContext)(Wh),s=(0,t.useRef)(null),u=Gf(s,null===a?null:a.setSwitch),c=(0,t.useCallback)((function(){return r(!n)}),[r,n]),l=(0,t.useCallback)((function(e){if(Kf(e.currentTarget))return e.preventDefault();e.preventDefault(),c()}),[c]),d=(0,t.useCallback)((function(e){"Tab"!==e.key&&e.preventDefault()," "===e.key&&c()}),[c]),f=(0,t.useCallback)((function(e){return e.preventDefault()}),[]),p=(0,t.useMemo)((function(){return{checked:n}}),[n]),h={id:o,ref:u,role:"switch",type:ip(e,s),tabIndex:0,"aria-checked":n,"aria-labelledby":null==a?void 0:a.labelledby,"aria-describedby":null==a?void 0:a.describedby,onClick:l,onKeyUp:d,onKeyPress:f};return Wf({props:(0,bn.Z)((0,bn.Z)({},i),h),slot:p,defaultTag:"button",name:"Switch"})}qh.Group=function(e){var n=Mn((0,t.useState)(null),2),r=n[0],i=n[1],o=Mn(Fh(),2),a=o[0],s=o[1],u=Mn(Fp(),2),c=u[0],l=u[1],d=(0,t.useMemo)((function(){return{switch:r,setSwitch:i,labelledby:a,describedby:c}}),[r,i,a,c]);return t.createElement(l,{name:"Switch.Description"},t.createElement(s,{name:"Switch.Label",props:{onClick:function(){!r||(r.click(),r.focus({preventScroll:!0}))}}},t.createElement(Wh.Provider,{value:d},Wf({props:e,defaultTag:Zh,name:"Switch.Group"}))))},qh.Label=zh,qh.Description=zp;var Yh=(lf={},(0,An.Z)(lf,0,(function(e,t){return e.selectedIndex===t.index?e:(0,bn.Z)((0,bn.Z)({},e),{},{selectedIndex:t.index})})),(0,An.Z)(lf,1,(function(e,t){return e.orientation===t.orientation?e:(0,bn.Z)((0,bn.Z)({},e),{},{orientation:t.orientation})})),(0,An.Z)(lf,2,(function(e,t){return e.activation===t.activation?e:(0,bn.Z)((0,bn.Z)({},e),{},{activation:t.activation})})),(0,An.Z)(lf,3,(function(e,t){return e.tabs.includes(t.tab)?e:(0,bn.Z)((0,bn.Z)({},e),{},{tabs:[].concat(En(e.tabs),[t.tab])})})),(0,An.Z)(lf,4,(function(e,t){return(0,bn.Z)((0,bn.Z)({},e),{},{tabs:e.tabs.filter((function(e){return e!==t.tab}))})})),(0,An.Z)(lf,5,(function(e,t){return e.panels.includes(t.panel)?e:(0,bn.Z)((0,bn.Z)({},e),{},{panels:[].concat(En(e.panels),[t.panel])})})),(0,An.Z)(lf,6,(function(e,t){return(0,bn.Z)((0,bn.Z)({},e),{},{panels:e.panels.filter((function(e){return e!==t.panel}))})})),(0,An.Z)(lf,7,(function(e){return(0,bn.Z)({},e)})),lf),$h=(0,t.createContext)(null);function Xh(e){var n=(0,t.useContext)($h);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <Tab.Group /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,Xh),r}return n}function Jh(e,t){return Hf(t.type,Yh,e,t)}$h.displayName="TabsContext";var Kh=t.Fragment;function Qh(e){var n,r,i="headlessui-tabs-tab-".concat(Uf()),o=Mn(Xh(Qh.name),2),a=o[0],s=a.selectedIndex,u=a.tabs,c=a.panels,l=a.orientation,d=a.activation,f=o[1],p=f.dispatch,h=f.change,m=(0,t.useRef)(null),v=Gf(m,(function(e){!e||p({type:7})}));If((function(){return p({type:3,tab:m}),function(){return p({type:4,tab:m})}}),[p,m]);var g=u.indexOf(m),y=g===s,b=(0,t.useCallback)((function(e){var t=u.map((function(e){return e.current})).filter(Boolean);if(" "===e.key||"Enter"===e.key)return e.preventDefault(),e.stopPropagation(),void h(g);switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),_p(t,1);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),_p(t,8)}return Hf(l,{vertical:function(){return"ArrowUp"===e.key?_p(t,18):"ArrowDown"===e.key?_p(t,20):void 0},horizontal:function(){return"ArrowLeft"===e.key?_p(t,18):"ArrowRight"===e.key?_p(t,20):void 0}})}),[u,l,g,h]),x=(0,t.useCallback)((function(){var e;null==(e=m.current)||e.focus()}),[m]),_=(0,t.useCallback)((function(){var e;null==(e=m.current)||e.focus(),h(g)}),[h,g,m]),w=(0,t.useMemo)((function(){return{selected:y}}),[y]),E={ref:v,onKeyDown:b,onFocus:"manual"===d?x:_,onClick:_,id:i,role:"tab",type:ip(e,m),"aria-controls":null==(r=null==(n=c[g])?void 0:n.current)?void 0:r.id,"aria-selected":y,tabIndex:y?0:-1};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),E),slot:w,defaultTag:"button",name:"Tabs.Tab"})}function em(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function tm(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}function nm(e,t,n,r,i,o){var a=Nf(),s=void 0!==o?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(o):function(){};return tm.apply(void 0,[e].concat(En(i))),em.apply(void 0,[e].concat(En(t),En(n))),a.nextFrame((function(){tm.apply(void 0,[e].concat(En(n))),em.apply(void 0,[e].concat(En(r))),a.add(function(e,t){var n=Nf();if(!e)return n.dispose;var r=getComputedStyle(e),i=[r.transitionDuration,r.transitionDelay].map((function(e){var t=Mn(e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),1)[0];return void 0===t?0:t})),o=Mn(i,2),a=o[0],s=o[1];return 0!==a?n.setTimeout((function(){t("finished")}),a+s):t("finished"),n.add((function(){return t("cancelled")})),n.dispose}(e,(function(n){return tm.apply(void 0,[e].concat(En(r),En(t))),em.apply(void 0,[e].concat(En(i))),s(n)})))})),a.add((function(){return tm.apply(void 0,[e].concat(En(t),En(n),En(r),En(i)))})),a.add((function(){return s("cancelled")})),a.dispose}function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,t.useMemo)((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}Qh.Group=function(e){var n=e.defaultIndex,r=void 0===n?0:n,i=e.vertical,o=void 0!==i&&i,a=e.manual,s=void 0!==a&&a,u=e.onChange,c=e.selectedIndex,l=void 0===c?null:c,d=kn(e,Lf),f=o?"vertical":"horizontal",p=s?"manual":"auto",h=Mn((0,t.useReducer)(Jh,{selectedIndex:null,tabs:[],panels:[],orientation:f,activation:p}),2),m=h[0],v=h[1],g=(0,t.useMemo)((function(){return{selectedIndex:m.selectedIndex}}),[m.selectedIndex]),y=(0,t.useRef)((function(){}));(0,t.useEffect)((function(){v({type:1,orientation:f})}),[f]),(0,t.useEffect)((function(){v({type:2,activation:p})}),[p]),(0,t.useEffect)((function(){"function"==typeof u&&(y.current=u)}),[u]),(0,t.useEffect)((function(){if(!(m.tabs.length<=0||null===l&&null!==m.selectedIndex)){var e=m.tabs.map((function(e){return e.current})).filter(Boolean),t=e.filter((function(e){return!e.hasAttribute("disabled")})),n=null!=l?l:r;if(n<0)v({type:0,index:e.indexOf(t[0])});else if(n>m.tabs.length)v({type:0,index:e.indexOf(t[t.length-1])});else{var i=e.slice(0,n),o=[].concat(En(e.slice(n)),En(i)).find((function(e){return t.includes(e)}));if(!o)return;v({type:0,index:e.indexOf(o)})}}}),[r,l,m.tabs,m.selectedIndex]);var b=(0,t.useRef)(m.selectedIndex);(0,t.useEffect)((function(){b.current=m.selectedIndex}),[m.selectedIndex]);var x=(0,t.useMemo)((function(){return[m,{dispatch:v,change:function(e){b.current!==e&&y.current(e),b.current=e,v({type:0,index:e})}}]}),[m,v]);return t.createElement($h.Provider,{value:x},Wf({props:(0,bn.Z)({},d),slot:g,defaultTag:Kh,name:"Tabs"}))},Qh.List=function(e){var t=Mn(Xh("Tab.List"),1)[0],n=t.selectedIndex,r=t.orientation,i={selectedIndex:n};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),{role:"tablist","aria-orientation":r}),slot:i,defaultTag:"div",name:"Tabs.List"})},Qh.Panels=function(e){var n=Mn(Xh("Tab.Panels"),1)[0].selectedIndex;return Wf({props:e,slot:(0,t.useMemo)((function(){return{selectedIndex:n}}),[n]),defaultTag:"div",name:"Tabs.Panels"})},Qh.Panel=function(e){var n,r,i=Mn(Xh("Tab.Panel"),2),o=i[0],a=o.selectedIndex,s=o.tabs,u=o.panels,c=i[1].dispatch,l="headlessui-tabs-panel-".concat(Uf()),d=(0,t.useRef)(null),f=Gf(d,(function(e){!e||c({type:7})}));If((function(){return c({type:5,panel:d}),function(){return c({type:6,panel:d})}}),[c,d]);var p=u.indexOf(d),h=p===a,m=(0,t.useMemo)((function(){return{selected:h}}),[h]),v={ref:f,id:l,role:"tabpanel","aria-labelledby":null==(r=null==(n=s[p])?void 0:n.current)?void 0:r.id,tabIndex:h?0:-1};return Wf({props:(0,bn.Z)((0,bn.Z)({},e),v),slot:m,defaultTag:"div",features:3,visible:h,name:"Tabs.Panel"})};var im=(0,t.createContext)(null);im.displayName="TransitionContext";var om=(0,t.createContext)(null);function am(e){return"children"in e?am(e.children):e.current.filter((function(e){return"visible"===e.state})).length>0}function sm(e){var n=(0,t.useRef)(e),r=(0,t.useRef)([]),i=wp();(0,t.useEffect)((function(){n.current=e}),[e]);var o=(0,t.useCallback)((function(e){var t,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=r.current.findIndex((function(t){return t.id===e}));-1!==s&&(Hf(a,(t={},(0,An.Z)(t,0,(function(){r.current.splice(s,1)})),(0,An.Z)(t,1,(function(){r.current[s].state="hidden"})),t)),!am(r)&&i.current&&(null==(o=n.current)||o.call(n)))}),[n,i,r]),a=(0,t.useCallback)((function(e){var t=r.current.find((function(t){return t.id===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),function(){return o(e,0)}}),[r,o]);return(0,t.useMemo)((function(){return{children:r,register:a,unregister:o}}),[a,o,r])}function um(){}om.displayName="NestingContext";var cm=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function lm(e){var t,n,r={},i=Bn(cm);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o]=null!=(t=e[o])?t:um}}catch(a){i.e(a)}finally{i.f()}return r}function dm(e){var n=e.beforeEnter,r=e.afterEnter,i=e.beforeLeave,o=e.afterLeave,a=e.enter,s=e.enterFrom,u=e.enterTo,c=e.entered,l=e.leave,d=e.leaveFrom,f=e.leaveTo,p=kn(e,Of),h=(0,t.useRef)(null),m=Mn((0,t.useState)("visible"),2),v=m[0],g=m[1],y=p.unmount?0:1,b=function(){var e=(0,t.useContext)(im);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),x=b.show,_=b.appear,w=b.initial,E=function(){var e=(0,t.useContext)(om);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),S=E.register,T=E.unregister,M=Uf(),A=(0,t.useRef)(!1),C=sm((function(){A.current||(g("hidden"),T(M),j.current.afterLeave())}));If((function(){if(M)return S(M)}),[S,M]),If((function(){if(1===y&&M){if(x&&"visible"!==v)return void g("visible");Hf(v,{hidden:function(){return T(M)},visible:function(){return S(M)}})}}),[v,M,S,T,x,y]);var k=rm(a),L=rm(s),O=rm(u),R=rm(c),N=rm(l),P=rm(d),I=rm(f),j=function(e){var n=(0,t.useRef)(lm(e));return(0,t.useEffect)((function(){n.current=lm(e)}),[e]),n}({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:o}),D=Df();(0,t.useEffect)((function(){if(D&&"visible"===v&&null===h.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[h,v,D]);var F=w&&!_;If((function(){var e=h.current;if(e&&!F)return A.current=!0,x&&j.current.beforeEnter(),x||j.current.beforeLeave(),x?nm(e,k,L,O,R,(function(e){A.current=!1,"finished"===e&&j.current.afterEnter()})):nm(e,N,P,I,R,(function(e){A.current=!1,"finished"===e&&(am(C)||(g("hidden"),T(M),j.current.afterLeave()))}))}),[j,M,A,T,C,h,F,x,k,L,O,N,P,I]);var z={ref:h},U=p;return t.createElement(om.Provider,{value:C},t.createElement(np,{value:Hf(v,{visible:0,hidden:1})},Wf({props:(0,bn.Z)((0,bn.Z)({},U),z),defaultTag:"div",features:1,visible:"visible"===v,name:"Transition.Child"})))}function fm(e){var n,r=e.show,i=e.appear,o=void 0!==i&&i,a=e.unmount,s=kn(e,Rf),u=tp();if(void 0===r&&null!==u&&(r=Hf(u,(n={},(0,An.Z)(n,0,!0),(0,An.Z)(n,1,!1),n))),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var c=Mn((0,t.useState)(r?"visible":"hidden"),2),l=c[0],d=c[1],f=sm((function(){d("hidden")})),p=function(){var e=(0,t.useRef)(!0);return(0,t.useEffect)((function(){e.current=!1}),[]),e.current}(),h=(0,t.useMemo)((function(){return{show:r,appear:o||!p,initial:p}}),[r,o,p]);(0,t.useEffect)((function(){r?d("visible"):am(f)||d("hidden")}),[r,f]);var m={unmount:a};return t.createElement(om.Provider,{value:f},t.createElement(im.Provider,{value:h},Wf({props:(0,bn.Z)((0,bn.Z)({},m),{},{as:t.Fragment,children:t.createElement(dm,(0,bn.Z)((0,bn.Z)({},m),s))}),defaultTag:t.Fragment,features:1,visible:"visible"===l,name:"Transition"})))}fm.Child=function(e){var n=null!==(0,t.useContext)(im),r=null!==tp();return!n&&r?t.createElement(fm,(0,bn.Z)({},e)):t.createElement(dm,(0,bn.Z)({},e))},fm.Root=fm;var pm=function(e){var t=Object.assign({},e);return(0,bl.jsx)("button",(0,bn.Z)((0,bn.Z)({"aria-label":"button"},t),{},{children:t.children}))},hm=n(1152),mm=n.n(hm);n(8623);tf().extend(mm());var vm,gm,ym=function(){var e=ud(),n=qd(),r=n.getDisplayByNumber,i=n.getPictureByNumber,o=(0,t.useContext)(zl).theme,a=cd().initializeCall,s=Vc(df.history),u=Hc(Wd.contacts),c=ie(),l=Mn(yl(),1)[0],d=(0,t.useCallback)((function(e){return u.length?r(e):e}),[u,r]);return 0===Object.keys(s).length?(0,bl.jsx)("div",{className:"flex h-full justify-center items-center text-white",children:(0,bl.jsx)("p",{children:l("DIALER.NO_HISTORY")})}):(0,bl.jsx)("nav",{className:"pb-10 h-full overflow-y-auto","aria-label":"Directory",children:Object.keys(s).sort().map((function(t){return(0,bl.jsxs)("div",{className:"relative",children:[(0,bl.jsx)("div",{className:"sticky top-0 pt-4 px-6 py-1 text-sm font-medium ".concat("dark"===o?"bg-black text-gray-400":"bg-[#F2F2F6] text-gray-600"),children:(0,bl.jsx)("h3",{children:t})}),(0,bl.jsx)("ul",{className:"relative divide-y ".concat("dark"===o?"divide-gray-700":"divide-gray-200"),children:s[t].map((function(t){return(0,bl.jsxs)(bh,{as:"li",className:"".concat("dark"===o?"bg-black":"bg-[#F2F2F6]"," w-full cursor-pointer"),children:[(0,bl.jsx)(bh.Button,{className:"w-full",children:(0,bl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===o?"hover:bg-gray-900":"hover:bg-gray-200"),children:[(0,bl.jsx)("div",{className:"flex-shrink-0",children:i(t.transmitter===e?t.receiver:t.transmitter)?(0,bl.jsx)("img",{className:"h-10 w-10 ".concat("dark"===o?"bg-gray-700":"bg-gray-300"," rounded-full"),src:i(t.transmitter===e?t.receiver:t.transmitter),alt:""}):(0,bl.jsx)("div",{className:"h-10 w-10 ".concat("dark"===o?"bg-gray-700":"bg-gray-300"," rounded-full")})}),(0,bl.jsxs)("div",{className:"flex flex-1 min-w-0 cursor-pointer",children:[t.is_accepted?(0,bl.jsx)(Ld,{className:"h-5 w-5 text-red-500 mr-3"}):t.transmitter===e?(0,bl.jsx)(Od,{className:"h-5 w-5 text-green-500 mr-3"}):(0,bl.jsx)(kd,{className:"h-5 w-5 text-green-700 mr-3"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===o?"text-gray-100":"text-gray-600"),children:d(t.transmitter===e?t.receiver:t.transmitter)})]}),(0,bl.jsx)("div",{className:"text-gray-500 text-sm",children:tf()(t.start).locale("fr").fromNow(!0)})]})}),(0,bl.jsx)(fm,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)(bh.Items,{className:"absolute z-30 right-0 w-64 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return n=t.transmitter===e?t.receiver:t.transmitter,void a(n);var n},children:[(0,bl.jsx)(Rd,{className:"mx-3 h-5 w-5"})," Appeler"]})}),d(t.receiver)===t.receiver&&e!==t.receiver&&(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return c.push("/contacts/-1?addNumber=".concat(t.receiver,"&referal=/phone/contacts"))},children:[(0,bl.jsx)(jd,{className:"mx-3 h-5 w-5"})," Ajouter le contact"]})}),d(t.transmitter)===t.transmitter&&e!==t.transmitter&&(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-500",onClick:function(){return c.push("/contacts/-1?addNumber=".concat(t.transmitter,"&referal=/phone/contacts"))},children:[(0,bl.jsx)(jd,{className:"mx-3 h-5 w-5"})," Ajouter le contact"]})})]})})]},t.id)}))})]},t)}))})},bm=(0,t.createContext)(null),xm=function(e){var n=e.label,r=e.onClick,i=e.className,o=(0,t.useContext)(zl).theme;return(0,bl.jsx)("button",{className:"flex justify-center items-center w-20 aspect-square m-2 ".concat("dark"===o?"bg-[#333333] hover:bg-[#444444]":"bg-white hover:bg-[#E5E5E5] text-gray-700"," rounded-full cursor-pointer ").concat(i),onClick:r,children:(0,bl.jsx)("span",{className:"text-3xl",children:n})})},_m=function(){var e=cd().initializeCall,n=(0,t.useContext)(bm),r=n.add,i=n.removeOne,o=(0,t.useContext)(bm).inputVal;return(0,bl.jsx)("div",{className:"text-white",children:(0,bl.jsxs)("div",{className:"grid grid-cols-3 justify-items-center mx-8",children:[(0,bl.jsx)(xm,{label:1,onClick:function(){return r(1)}}),(0,bl.jsx)(xm,{label:2,onClick:function(){return r(2)}}),(0,bl.jsx)(xm,{label:3,onClick:function(){return r(3)}}),(0,bl.jsx)(xm,{label:4,onClick:function(){return r(4)}}),(0,bl.jsx)(xm,{label:5,onClick:function(){return r(5)}}),(0,bl.jsx)(xm,{label:6,onClick:function(){return r(6)}}),(0,bl.jsx)(xm,{label:7,onClick:function(){return r(7)}}),(0,bl.jsx)(xm,{label:8,onClick:function(){return r(8)}}),(0,bl.jsx)(xm,{label:9,onClick:function(){return r(9)}}),(0,bl.jsx)(xm,{label:"-",onClick:function(){return r("-")}}),(0,bl.jsx)(xm,{label:0,onClick:function(){return r(0)}}),(0,bl.jsx)(xm,{label:(0,bl.jsx)(md,{className:"h-8 w-8"}),onClick:i}),(0,bl.jsx)(xm,{label:(0,bl.jsx)(Rd,{className:"text-white h-8 w-8"}),onClick:function(){e(o)},className:"col-start-2 bg-[#2DD158] hover:bg-[#21B147]"})]})})};!function(e){e.OPEN_APP="npwd:openApp",e.OPEN_PHONE="npwd:open",e.CLOSE_PHONE="npwd:close",e.UNLOAD_CHARACTER="npwd:unloadCharacter",e.SET_VISIBILITY="npwd:setVisibility",e.ADD_SNACKBAR_ALERT="npwd:setSnackarAlert",e.SET_NUMBER="npwd:setNumber",e.SET_SOCIETY_NUMBER="npwd:setSocietyNumber",e.SET_PHONE_READY="npwd:phoneReady",e.SET_CONFIG="npwd:setPhoneConfig",e.SET_TIME="npwd:setGameTime",e.SEND_CREDENTIALS="npwd:sendCredentials",e.FETCH_CREDENTIALS="npwd:getCredentials",e.TOGGLE_KEYS="npwd:toggleAllControls",e.SET_PLAYER_LOADED="npwd:setPlayerLoaded"}(vm||(vm={})),function(e){e.SERVER_ERROR="GENERAL_SERVER_ERROR",e.DELETE_FAILED="DELETE_FAILED",e.ADD_FAILED="ADD_FAILED",e.UPDATE_FAILED="UPDATED_FAILED",e.FETCH_FAILED="FETCH_FAILED"}(gm||(gm={}));var wm=function(e){return el(vm.TOGGLE_KEYS,{keepGameFocus:e}).catch((function(e){return console.error(e)}))},Em=(0,t.forwardRef)((function(e,n){var r=(0,t.useContext)(zl).theme;return(0,bl.jsx)("input",(0,bn.Z)((0,bn.Z)({ref:n},e),{},{className:"w-full ".concat("dark"===r?"bg-[#1C1C1E] text-white":"bg-gray-300 text-black"," rounded-lg py-1 px-3 focus:bg-opacity-70 focus:outline-none ").concat(e.className),onFocus:function(t){wm(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){wm(!0),e.onBlur&&e.onBlur(t)}}))})),Sm=(0,t.forwardRef)((function(e,n){var r=(0,t.useContext)(zl).theme;return(0,bl.jsx)("textarea",(0,bn.Z)((0,bn.Z)({ref:n},e),{},{className:"w-full h-full resize-none my-4 ".concat("dark"===r?"bg-[#1C1C1E] text-white":"bg-gray-300 text-black"," rounded-lg py-1 px-3 focus:bg-opacity-70 focus:outline-none ").concat(e.className),onFocus:function(t){wm(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){wm(!0),e.onBlur&&e.onBlur(t)}}))})),Tm=(0,t.forwardRef)((function(e,t){return(0,bl.jsx)("input",(0,bn.Z)((0,bn.Z)({ref:t},e),{},{onFocus:function(t){wm(!1),e.onFocus&&e.onFocus(t)},onBlur:function(t){wm(!0),e.onBlur&&e.onBlur(t)}}))})),Mm=function(){var e=ie(),n=(0,t.useContext)(zl).theme,r=(0,t.useContext)(bm),i=r.inputVal,o=r.set;""===i&&o("555-");return(0,bl.jsxs)("div",{className:"h-20 mb-20",children:[(0,bl.jsx)("div",{className:"pt-10 h-full flex justify-center",children:(0,bl.jsx)(Tm,{className:"bg-transparent w-2/4 ".concat("dark"===n?"text-white":"text-black"," text-center text-3xl"),value:i,onChange:function(e){return o(e.target.value)}})}),i.length>0&&(0,bl.jsx)("p",{className:"text-center font-bold text-[#347DD9] cursor-pointer pt-2",onClick:function(){return t=i,void e.push("/contacts/-1/?addNumber=".concat(t,"&referal=/phone/contacts"));var t},children:"Ajouter le contact"})]})},Am=n(8428),Cm=n.n(Am);function km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=oe(),r=n.search;return(0,t.useMemo)((function(){var t=Cm().parse(r,{ignoreQueryPrefix:!0});return e?(0,bn.Z)((0,bn.Z)({},e),t):t}),[r,e])}var Lm,Om=function(){var e=km().number,n=Mn((0,t.useState)(e||""),2),r=n[0],i=n[1];return(0,bl.jsx)("div",{children:(0,bl.jsxs)(bm.Provider,{value:{inputVal:r,add:function(e){return i(r+e)},removeOne:function(){return i(r.slice(0,-1))},clear:function(){return i("")},set:function(e){return i(e)}},children:[(0,bl.jsx)(Mm,{}),(0,bl.jsx)(_m,{})]})})},Rm=function(){var e=oe().pathname,n=ie(),r=(0,t.useContext)(zl).theme,i=Mn((0,t.useState)(e),2),o=i[0],a=i[1],s=Mn(yl(),1)[0];return(0,bl.jsxs)("div",{className:"grid grid-cols-3 content-start ".concat("dark"===r?"bg-[#1C1C1E] text-white":"bg-white text-black"," h-20"),children:[(0,bl.jsxs)(pm,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone"===o&&"text-[#347DD9]"),onClick:function(){a("/phone"),n.push("/phone")},children:[(0,bl.jsx)(xd,{className:"w-5 h-5"})," ",s("DIALER.NAVBAR_HISTORY")]}),(0,bl.jsxs)(pm,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone/contacts"===o&&"text-[#347DD9]"),onClick:function(){a("/phone/contacts"),n.push("/phone/contacts")},children:[(0,bl.jsx)(Dd,{className:"w-5 h-5"})," ",s("DIALER.NAVBAR_CONTACTS")]}),(0,bl.jsxs)(pm,{className:"flex flex-col items-center py-2 text-sm ".concat("/phone/dial"===o&&"text-[#347DD9]"),onClick:function(){a("/phone/dial"),n.push("/phone/dial")},children:[(0,bl.jsx)(Fd,{className:"w-5 h-5"})," ",s("DIALER.NAVBAR_DIAL")]})]})},Nm={onChange:function(){},value:"",placeholder:"Search..."},Pm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nm,n=e.value,r=e.onChange,i=e.placeholder,o=(0,t.useContext)(zl),a=o.theme;return(0,bl.jsx)("div",{className:"rounded-lg mx-3",children:(0,bl.jsxs)("div",{className:"".concat("dark"===a?"bg-[#1C1C1E]":"bg-gray-300"," flex items-center rounded-lg"),children:[(0,bl.jsx)(Jl,{className:"text-gray-500 ml-2 w-5 h-5"}),(0,bl.jsx)(Em,{value:n,onChange:r,placeholder:i,className:"dark"===a?"bg-[#1C1C1E]":"bg-gray-300",inputProps:{"aria-label":"search"}})]})})},Im=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=(0,t.useState)(e),i=Mn(r,2),o=i[0],a=i[1];return(0,t.useEffect)((function(){var t=setTimeout((function(){a(e)}),n);return function(){clearTimeout(t)}}),[e,n]),o},jm=function(){var e=Mn(yl(),1)[0],n=Wc(Wd.filterInput),r=Mn((0,t.useState)(""),2),i=r[0],o=r[1],a=Im(i,500);return(0,t.useEffect)((function(){n(a)}),[a,n]),(0,bl.jsx)("div",{children:(0,bl.jsx)(Pm,{placeholder:e("CONTACTS.PLACEHOLDER_SEARCH_CONTACTS"),onChange:function(e){return o(e.target.value)},value:i})})},Dm=function(){var e=Zd(),n=ie(),r=(0,t.useContext)(zl).theme,i=cd().initializeCall;return(0,bl.jsxs)("div",{className:"mt-5",children:[(0,bl.jsx)(jm,{}),(0,bl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(e).sort().map((function(t){return(0,bl.jsxs)("div",{className:"relative",children:[(0,bl.jsx)("div",{className:"sticky top-0 pt-4 px-6 py-1 text-sm font-medium ".concat("dark"===r?"bg-black text-gray-400":"bg-[#F2F2F6] text-gray-600"),children:(0,bl.jsx)("h3",{children:t})}),(0,bl.jsx)("ul",{className:"relative divide-y ".concat("dark"===r?"divide-gray-700":"divide-gray-200"),children:e[t].map((function(e){return(0,bl.jsxs)(bh,{as:"li",className:"".concat("dark"===r?"bg-black":"bg-[#F2F2F6]"," w-full cursor-pointer"),children:[(0,bl.jsx)(bh.Button,{className:"w-full",children:(0,bl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===r?"hover:bg-gray-900":"hover:bg-gray-200"),children:[(0,bl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,bl.jsx)("img",{className:"h-10 w-10 ".concat("dark"===r?"bg-gray-700":"bg-gray-300"," rounded-full"),src:e.avatar,alt:""}):(0,bl.jsx)("div",{className:"h-10 w-10 ".concat("dark"===r?"bg-gray-700":"bg-gray-300"," rounded-full")})}),(0,bl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,bl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===r?"text-gray-100":"text-gray-600"),children:e.display})]})]})}),(0,bl.jsx)(fm,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)(bh.Items,{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return t=e.number,Kc({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),void i(t);var t},children:[(0,bl.jsx)(Rd,{className:"mx-3 h-5 w-5"})," Appeler"]})}),(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return t=e.number,Kc({action:"Routing to Message",level:1,data:{phoneNumber:t}}),void n.push("/messages/new?phoneNumber=".concat(t));var t},children:[(0,bl.jsx)(yd,{className:"mx-3 h-5 w-5"})," Message"]})}),(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-500",onClick:function(){return t=e.id,void n.push("/contacts/".concat(t));var t},children:[(0,bl.jsx)(Ad,{className:"mx-3 h-5 w-5"})," \xc9diter"]})})]})})]},e.id)}))})]},t)}))})]})},Fm=function(){var e=XS("DIALER");return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e}),(0,bl.jsx)(od,{className:"mt-5 h-[710px]",children:(0,bl.jsxs)(ne,{children:[(0,bl.jsx)(X,{path:"/phone/dial",children:(0,bl.jsx)(Om,{})}),(0,bl.jsx)(X,{exact:!0,path:"/phone",children:(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:(0,bl.jsx)(ym,{})})}),(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:(0,bl.jsx)(X,{path:"/phone/contacts",component:Dm})})]})}),(0,bl.jsx)(Rm,{})]})})},zm=function(e){var n=Object.assign({},e),r=(0,t.useContext)(zl).theme;return(0,bl.jsx)("div",(0,bn.Z)((0,bn.Z)({className:"flex flex-col justify-center items-center ".concat("dark"===r?"bg-[#1C1C1E] text-[#347DD9]":"bg-white text-gray-700"," rounded-xl p-3 cursor-pointer")},n),{},{children:n.children}))},Um=function(){var e=XS("CONTACTS"),n=ie(),r=(0,t.useContext)(zl).theme,i=ae().id,o=km({referal:"/contacts"}),a=o.addNumber,s=o.referal,u=o.avatar,c=o.name,l=qd().getContact,d=function(){var e=wl().addAlert,n=Mn(yl(),1)[0],r=qd(),i=r.addLocalContact,o=r.updateLocalContact,a=r.deleteLocalContact,s=ie();return{addNewContact:(0,t.useCallback)((function(t,r){var o=t.display,a=t.number,u=t.avatar;el(Vd.ADD_CONTACT,{display:o,number:a,avatar:u}).then((function(t){if("ok"!==t.status)return e({message:n("CONTACTS.FEEDBACK.ADD_FAILED"),type:"error"});i(t.data),e({message:n("CONTACTS.FEEDBACK.ADD_SUCCESS"),type:"success"}),s.replace(r)}))}),[e,i,s,n]),updateContact:(0,t.useCallback)((function(t){var r=t.id,i=t.display,a=t.number,u=t.avatar;el(Vd.UPDATE_CONTACT,{id:r,display:i,number:a,avatar:u}).then((function(t){if("ok"!==t.status)return e({message:n("CONTACTS.FEEDBACK.UPDATE_FAILED"),type:"error"});o({id:r,display:i,number:a,avatar:u}),e({message:n("CONTACTS.FEEDBACK.UPDATE_SUCCESS"),type:"success"}),s.goBack()}))}),[e,s,n,o]),deleteContact:(0,t.useCallback)((function(t){var r=t.id;el(Vd.DELETE_CONTACT,{id:r}).then((function(t){if("ok"!==t.status)return e({message:n("CONTACTS.FEEDBACK.DELETE_FAILED"),type:"error"});s.goBack(),a(r),e({message:n("CONTACTS.FEEDBACK.DELETE_SUCCESS"),type:"success"})}))}),[e,a,s,n])}}(),f=d.updateContact,p=d.addNewContact,h=d.deleteContact,m=l(parseInt(i)),v=Mn((0,t.useState)((function(){return(null===m||void 0===m?void 0:m.display)||""})),2),g=v[0],y=v[1],b=Mn((0,t.useState)((function(){return(null===m||void 0===m?void 0:m.number)||""})),2),x=b[0],_=b[1],w=Mn((0,t.useState)((function(){return(null===m||void 0===m?void 0:m.avatar)||""})),2),E=w[0],S=w[1],T=cd().initializeCall,M=Mn(yl(),1)[0];return(0,t.useEffect)((function(){a&&_(a),u&&S(u),c&&y(c)}),[a,E,u,c]),(0,bl.jsx)(fm,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e,children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){return n.goBack()},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"}),"Fermer"]})}),(0,bl.jsxs)(od,{className:"text-white mt-10 mx-4 mb-4",children:[(0,bl.jsx)("div",{className:"flex justify-center",children:(0,bl.jsx)("div",{className:"".concat("dark"===r?"bg-gray-700":"bg-gray-300"," bg-cover bg-center h-20 w-20 my-1 rounded-full"),style:{backgroundImage:"url(".concat(E,")")}})}),(0,bl.jsxs)("div",{className:"mt-4 grid gap-3 ".concat(m?"grid-cols-4":"grid-cols-3"),children:[(0,bl.jsxs)(zm,{onClick:function(){Kc({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),T(m.number)},children:[(0,bl.jsx)(Rd,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm",children:"Appeler"})]}),(0,bl.jsxs)(zm,{onClick:function(){n.push("/messages/new?phoneNumber=".concat(m.number))},children:[(0,bl.jsx)(yd,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm",children:"Message"})]}),m?(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsxs)(zm,{onClick:function(){f({id:m.id,number:x,avatar:E,display:g})},children:[(0,bl.jsx)(Ad,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm",children:"\xc9diter"})]}),(0,bl.jsxs)("div",{className:"flex flex-col justify-center items-center ".concat("dark"===r?"bg-[#1C1C1E]":"bg-white"," text-red-500 rounded-xl p-3 cursor-pointer"),onClick:function(){h({id:m.id})},children:[(0,bl.jsx)(Id,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm",children:"Supprimer"})]})]}):(0,bl.jsxs)(zm,{onClick:function(){p({display:g,number:x,avatar:E},s)},children:[(0,bl.jsx)(Yl,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm",children:"Ajouter"})]})]}),(0,bl.jsxs)("div",{className:"mt-6",children:[(0,bl.jsxs)("div",{className:"".concat("dark"===r?"bg-[#1C1C1E]":"bg-[#F2F2F6]"," rounded-lg my-2"),children:[(0,bl.jsx)("p",{className:"text-sm text-[#347DD9] pl-5 pt-2",children:M("CONTACTS.FORM_NAME")}),(0,bl.jsx)(Em,{placeholder:M("CONTACTS.FORM_NAME"),value:g,onChange:function(e){e.currentTarget.value.length!==Bd.display&&y(e.target.value)}})]}),(0,bl.jsxs)("div",{className:"".concat("dark"===r?"bg-[#1C1C1E]":"bg-[#F2F2F6]"," rounded-lg my-2"),children:[(0,bl.jsx)("p",{className:"text-sm text-[#347DD9] pl-5 pt-2",children:M("CONTACTS.FORM_NUMBER")}),(0,bl.jsx)(Em,{placeholder:M("CONTACTS.FORM_NUMBER"),value:x,onChange:function(e){e.currentTarget.value.length!==Bd.number&&_(e.target.value)}})]})]})]})]})})},Bm=function(){var e=XS("CONTACTS"),n=oe().pathname,r=ie();return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[70%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[70%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e,action:!n.match(/contacts\/-?\d/)&&(0,bl.jsx)(Yl,{className:"h-6 w-6 cursor-pointer",onClick:function(){return r.push("/contacts/-1")}}),children:(0,bl.jsx)("div",{})}),(0,bl.jsx)(od,{children:(0,bl.jsxs)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:[(0,bl.jsx)(X,{path:"/contacts/",exact:!0,component:Dm}),(0,bl.jsx)(X,{path:"/contacts/:id",exact:!0,component:Um})]})})]})})},Vm=function(e){var n=Object.assign({},e),r=(0,t.useContext)(zl).theme;return(0,bl.jsx)("div",{className:"mx-2 my-4 ".concat("dark"===r?"bg-[#1C1C1E]":"bg-white"," shadow overflow-hidden rounded-[.8rem]"),children:(0,bl.jsx)("ul",{className:"divide-y ".concat("dark"===r?"divide-[#3D3D3F]":"divide-[#ECECED]"),children:n.children})})},Gm=function(e){var n=Object.assign({},e),r=(0,t.useContext)(zl).theme;return(0,bl.jsx)("li",(0,bn.Z)((0,bn.Z)({className:"".concat(n.onClick&&"cursor-pointer"," py-2 px-4 flex justify-between items-center ").concat("dark"===r?"hover:bg-[#27272A] text-white":"hover:bg-gray-50 text-black"," text-sm")},n),{},{children:n.children}))},Hm=function(e){var t=e.icon,n=e.color;return(0,bl.jsx)("div",{className:"text-white ".concat(n," h-8 w-8 p-1 rounded-md"),children:t})},Wm=function(e){var t=e.open,n=e.onClose,r=e.options;return(0,bl.jsx)(fm,{appear:!0,show:t,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:"Configuration",isBigHeader:!1,children:n&&(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:n,children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"}),"Fermer"]})}),(0,bl.jsx)(od,{className:"mt-10 mb-4",children:(0,bl.jsx)(Vm,{children:r.map((function(e,t){return(0,bl.jsxs)(Gm,{selected:e.selected,button:!0,onClick:function(t){e.onClick(t,e),n()},children:[(0,bl.jsx)(Hm,{color:"transparent",icon:e.icon}),(0,bl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:e.label}),(0,bl.jsx)(pm,{className:"flex items-center",children:(0,bl.jsx)(Gl,{className:"text-white text-opacity-25 w-5 h-5"})})]},e.key||e.label)}))})})]})})},Zm=function(e,t){return function(n){return{selected:e.value===n.value,onClick:function(){return t(n)},key:n.value,label:n.label}}},qm=function(e){var n=Mn((0,t.useState)(!1),2),r=n[0],i=n[1],o=Mn((0,t.useState)(e||[]),2),a=o[0],s=o[1],u=function(){return i(!1)};return[function(e){s(e),i(!0)},u,function(){return(0,bl.jsx)(Wm,{open:r,onClose:u,options:a})},r]},Ym=Uc({key:"config",default:yn}),$m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym,t=Hc(e),n=Mn(t,2),r=n[0],i=n[1],o=function(e,t){i((function(n){return(0,bn.Z)((0,bn.Z)({},n),{},(0,An.Z)({},e,t))}))};return[r,o]},Xm=function(e){var t=e.options,n=e.color,r=e.label,i=e.value,o=e.onClick,a=e.icon;return(0,bl.jsxs)(Gm,{onClick:function(){return null===o||void 0===o?void 0:o(t)},children:[(0,bl.jsx)(Hm,{color:n,icon:a}),(0,bl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:r}),(0,bl.jsxs)(pm,{className:"flex items-center",children:[i||void 0,o?(0,bl.jsx)(Gl,{className:"text-gray-200 w-5 h-5"}):void 0]})]})},Jm=function(e){var n=e.iconStart,r=e.iconEnd,i=e.value,o=e.onCommit,a=(0,t.useContext)(zl).theme;return(0,bl.jsxs)(Gm,{children:[(0,bl.jsx)("div",{className:"text-gray-300 w-6 h-6",children:n}),(0,bl.jsx)("input",{type:"range",min:0,max:100,defaultValue:i,onChange:o,className:"w-full mx-2 h-1.5 appearance-none ".concat("dark"===a?"bg-white":"bg-gray-700"," bg-opacity-20 rounded-full cursor-pointer")}),(0,bl.jsx)("div",{className:"text-gray-300 w-6 h-6",children:r})]})},Km=function(e){var n=e.label,r=e.color,i=e.value,o=e.onClick,a=e.icon,s=(0,t.useContext)(zl).theme;return(0,bl.jsxs)(Gm,{children:[(0,bl.jsx)(Hm,{color:r,icon:a}),(0,bl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:n}),(0,bl.jsx)("div",{children:(0,bl.jsx)(qh,{checked:i,onChange:function(){return o(i)},className:"".concat(i?"bg-blue-600":"dark"===s?"bg-gray-500":"bg-gray-300"," inline-flex items-center h-6 rounded-full w-11"),children:(0,bl.jsx)("span",{className:"transform transition ease-in-out duration-300 ".concat(i?"translate-x-6":"translate-x-1"," inline-block w-5 h-5 bg-white rounded-full")})})})]})},Qm=n(7943),ev=n.n(Qm),tv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ev()(e.pathname+e.search),r=n.query;return"".concat(e.pathname,"/?").concat(Cm().stringify((0,bn.Z)((0,bn.Z)({},r),{},(0,An.Z)({},t,void 0))))},nv=function(e){var n=e.children,r=(e.open,e.handleClose),i=e.onSubmit,o=e.title,a=e.content,s=(0,t.useContext)(zl).theme;return(0,bl.jsxs)("div",{className:"".concat("dark"===s?"bg-black bg-opacity-75 text-white":"bg-white bg-opacity-75 text-black"," text-center rounded-[.8rem] mx-10"),children:[(0,bl.jsxs)("div",{className:"pt-5 px-5",children:[(0,bl.jsx)("div",{className:"font-bold",children:o}),(0,bl.jsx)("div",{className:"text-[.9rem] py-2",children:a}),(0,bl.jsx)("div",{className:"py-2",children:n})]}),(0,bl.jsxs)("div",{className:"border-t border-white border-opacity-30",children:[(0,bl.jsx)(pm,{className:"w-2/4 p-2 text-center text-red-500",onClick:r,children:"Annuler"}),(0,bl.jsx)(pm,{className:"w-2/4 p-2 text-center text-blue-500 border-l border-white border-opacity-30",onClick:i,children:"Valider"})]})]})},rv=function(e){return"media/backgrounds/".concat(e)},iv=function(){var e=Mn(kl(),2),n=e[0],r=e[1],i=Mn((0,t.useState)(!1),2),o=i[0],a=i[1],s=Mn(Cl(),2),u=s[0],c=s[1],l=Mn(yl(),1)[0],d=Mn((0,t.useState)(u.wallpaper.value?u.wallpaper.value:""),2),f=d[0],p=d[1],h=wl().addAlert,m=Mn($m(),1)[0],v=function(e){return/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|png|jpeg|gif)/g.test(e)},g=function(e){void 0!==e||v(f)?(!function(e,t){c((0,bn.Z)((0,bn.Z)({},u),{},(0,An.Z)({},e,t)))}("wallpaper",{label:e.label||l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),value:e.value||f}),h({message:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_SUCCESS"),type:"success"}),r(!1),a(!1)):h({message:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_ERROR"),type:"error"})};return(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsx)(fm,{appear:!0,show:n,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:"Fond d'\xe9cran",isBigHeader:!1,children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){return r(!1)},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"}),"Fermer"]})}),(0,bl.jsxs)(od,{className:"mt-8 mb-4 h-[780px] overflow-scroll",children:[(0,bl.jsx)(Vm,{children:(0,bl.jsx)(Xm,{label:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),onClick:function(){return a(!0)},icon:(0,bl.jsx)(Nd,{}),color:"bg-[#8E8E92]"})}),(0,bl.jsx)("div",{className:"grid gap-2 grid-cols-2 mx-2",children:m.wallpapers&&m.wallpapers.map((function(e){return(0,bl.jsx)("div",{className:"bg-cover bg-center w-5/6 aspect-[9/19] justify-self-center rounded-lg cursor-pointer",style:{backgroundImage:"url(".concat(rv(e.value),")")},onClick:function(){return g(e)}},e.value)}))})]})]})}),(0,bl.jsx)(fm,{appear:!0,show:o,className:"absolute top-[45%] z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"scale-0",enterTo:"scale-100",leave:"transition ease-in-out duration-300 transform",leaveFrom:"scale-100",leaveTo:"scale-0",children:(0,bl.jsx)(nv,{open:o,handleClose:function(){return a(!1)},onSubmit:g,title:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_TITLE"),content:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_CONTENT"),children:(0,bl.jsx)(Em,{value:f,onChange:function(e){return!v(f)&&p(e.currentTarget.value)},placeholder:l("SETTINGS.OPTIONS.CUSTOM_WALLPAPER.DIALOG_PLACEHOLDER")})})})]})},ov=function(){var e=XS("SETTINGS"),n=Mn($m(),1)[0],r=ud(),i=Vc(sd.avatar),o=Mn(Cl(),2),a=o[0],s=o[1],u=Mn(yl(),1)[0],c=Mn(kl(),2)[1],l=wl().addAlert,d=km(),f=oe(),p=f.pathname,h=f.search,m=ie(),v=function(){var e=Mn(yl(),1)[0],n=wl().addAlert;return{updateProfilePicture:(0,t.useCallback)((function(t){var r=t.number,i=t.url;el(Jc.UPDATE_PICTURE,{number:r,url:i}).then((function(t){if("ok"!==t.status)return n({message:e("CONTACTS.FEEDBACK.ADD_FAILED"),type:"error"});n({message:e("CONTACTS.FEEDBACK.ADD_SUCCESS"),type:"success"})}))}),[n,e])}}(),g=v.updateProfilePicture,y=Zc(Ml),b=(0,t.useContext)(zl),x=b.theme,_=b.updateTheme,w=function(e,t){s((0,bn.Z)((0,bn.Z)({},a),{},(0,An.Z)({},e,t))),"theme"===e&&_(t.value)},E=n.themes.map(Zm(a.theme,(function(e){return w("theme",e)}))),S=n.zoomOptions.map(Zm(a.zoom,(function(e){return w("zoom",e)}))),T=n.ringtones.map(Zm(a.ringtone,(function(e){return w("ringtone",e)}))),M=n.notiSounds.map(Zm(a.notiSound,(function(e){return w("notiSound",e)}))),A=[{selected:!1,onClick:function(){return y(),void l({message:u("SETTINGS.MESSAGES.SETTINGS_RESET"),type:"success"})},key:"RESET_SETTINGS",label:u("SETTINGS.OPTIONS.RESET_SETTINGS")}],C=(0,t.useCallback)((function(){m.push("/photo?".concat(Cm().stringify({referal:encodeURIComponent(p+h)})))}),[m,p,h]),k=Mn(qm(),4),L=k[0],O=k[1],R=k[2],N=k[3];return(0,t.useEffect)((function(){d.image&&(g({number:r,url:d.image}),m.replace(tv({pathname:p,search:h},"image")))}),[d.image,g,r,m,p,h]),(0,bl.jsxs)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_20%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_20%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:[(0,bl.jsx)(R,{}),(0,bl.jsx)(iv,{}),(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e,isBigHeader:!0}),(0,bl.jsxs)(od,{className:"mt-14 mb-4",backdrop:N,onClickBackdrop:O,children:[(0,bl.jsx)(Vm,{children:(0,bl.jsxs)(Gm,{children:[(0,bl.jsx)("div",{className:"".concat("dark"===x?"bg-gray-700":"bg-gray-100"," bg-cover bg-center h-20 w-20 my-1 rounded-full"),style:{backgroundImage:"url(".concat(i,")")}}),(0,bl.jsxs)(pm,{className:"flex items-center ".concat("dark"===x?"text-white":"text-black"," text-sm"),onClick:C,children:[u("MARKETPLACE.CHOOSE_IMAGE"),(0,bl.jsx)(bd,{className:"text-gray-200 w-6 h-6"})]})]})}),(0,bl.jsx)(Vm,{children:(0,bl.jsx)(Xm,{label:u("SETTINGS.PHONE_NUMBER"),value:r,icon:(0,bl.jsx)(Rd,{}),color:"bg-[#65C466]"})}),(0,bl.jsxs)(Vm,{children:[(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.RINGTONE"),value:a.ringtone.label,options:T,onClick:L,icon:(0,bl.jsx)(Ud,{}),color:"bg-[#ee1039]"}),(0,bl.jsx)(Jm,{label:u("SETTINGS.OPTIONS.RINGTONE_VOLUME"),iconStart:(0,bl.jsx)(zd,{}),iconEnd:(0,bl.jsx)(Ud,{}),value:a.ringtoneVol,onCommit:function(e){return w("ringtoneVol",parseInt(e.target.value))}})]}),(0,bl.jsxs)(Vm,{children:[(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.NOTIFICATION"),value:a.notiSound.label,options:M,onClick:L,icon:(0,bl.jsx)(vd,{}),color:"bg-[#EA4E3D]"}),(0,bl.jsx)(Jm,{label:u("SETTINGS.OPTIONS.NOTIFICATION_VOLUME"),iconStart:(0,bl.jsx)(zd,{}),iconEnd:(0,bl.jsx)(Ud,{}),value:a.notiSoundVol,onCommit:function(e){return w("notiSoundVol",parseInt(e.target.value))}})]}),(0,bl.jsxs)(Vm,{children:[(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.THEME"),value:a.theme.label,options:E,onClick:L,icon:(0,bl.jsx)(Cd,{}),color:"bg-[#8E8E92]"}),(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.WALLPAPER"),value:a.wallpaper.label,onClick:c,icon:(0,bl.jsx)(Nd,{}),color:"bg-[#8E8E92]"}),(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.ZOOM"),value:a.zoom.label,options:S,onClick:L,icon:(0,bl.jsx)(hd,{}),color:"bg-[#5756CE]"})]}),(0,bl.jsxs)(Vm,{children:[(0,bl.jsx)(Km,{label:u("SETTINGS.OPTIONS.STREAMER_MODE.DESCRIPTION"),icon:(0,bl.jsx)(Sd,{}),color:"bg-[#c41515]",value:a.streamerMode,onClick:function(e){return w("streamerMode",!e)}}),(0,bl.jsx)(Xm,{label:u("SETTINGS.OPTIONS.RESET_SETTINGS"),icon:(0,bl.jsx)(Id,{}),color:"bg-[#f11f1f]",onClick:L,options:A})]})]})]})]})};!function(e){e.FETCH_MESSAGE_CONVERSATIONS="npwd:fetchMessageGroups",e.FETCH_MESSAGE_GROUPS_SUCCESS="npwd:fetchMessageGroupsSuccess",e.FETCH_MESSAGE_GROUPS_FAILED="npwd:fetchMessageGroupsFailed",e.CREATE_MESSAGE_CONVERSATION="npwd:createMessageGroup",e.CREATE_MESSAGE_CONVERSATION_SUCCESS="npwd:createMessageConversationSuccess",e.CREATE_MESSAGE_GROUP_SUCCESS="npwd:createMessageGroupSuccess",e.CREATE_MESSAGE_GROUP_FAILED="npwd:createMessageGroupFailed",e.SEND_MESSAGE="npwd:sendMessage",e.SEND_MESSAGE_SUCCESS="npwd:sendMessageSuccess",e.SEND_MESSAGE_FAILED="npwd:sendMessageFailed",e.DELETE_MESSAGE="npwd:deleteMessage",e.FETCH_MESSAGES="npwd:fetchMessages",e.FETCH_MESSAGES_SUCCESS="npwd:fetchMessagesSuccess",e.FETCH_MESSAGES_FAILED="npwd:fetchMessagesFailed",e.FETCH_INITIAL_MESSAGES="npwd:fetchInitialMessages",e.ACTION_RESULT="npwd:setMessagesAlert",e.CREATE_MESSAGE_BROADCAST="createMessagesBroadcast",e.SET_MESSAGE_READ="npwd:setReadMessages",e.DELETE_CONVERSATION="nwpd:deleteConversation",e.GET_POSITION="nwpd:getCurrentPosition",e.GET_DESTINATION="nwpd:getCurrentDestination",e.SET_WAYPOINT="nwpd:setWaypoint"}(Lm||(Lm={}));var av=[{conversation_id:"4444+5555",avatar:"https://i.imgur.com/GCBVgXD.jpeg",phoneNumber:"215-8139",unread:0,display:"Taso"},{conversation_id:"4444+7777",avatar:"",phoneNumber:"603-275-8373",unread:3,display:"Chip"}],sv={data:[{id:1,author:"215-8139",message:"Hello",conversation_id:"4444+5555"},{id:2,author:"215-8139",message:"Hi asljdf klasdfjkasjdf sdfjf asdf djkjas k kksdfjjsl ks kldfs d fd asd asdfjasdjfjasdkljjfklasjldfjlj asdf sadfdsdkafjkljsdklfjklfjdf"},{id:3,author:"111-1134",message:"Hello",conversation_id:"4444+5555"},{id:4,author:"111-1134",message:"Hello Rocky",conversation_id:"4444+7777"},{id:5,author:"215-8139",message:"https://i.tasoagc.dev/LtuA.png"},{id:6,author:"215-8139",message:"vec2(355.555,-8754.54)"}],status:"ok"},uv=Uc({key:"currentGroupId",default:null}),cv={messageCoversations:Uc({key:"messageConversations",default:Bc({key:"defaultMessageConversation",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(Lm.FETCH_MESSAGE_CONVERSATIONS,void 0,Qc(av));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),filterValue:Uc({key:"defaultFilterValue",default:""}),filteredMessageConversations:Bc({key:"defaultFilteredMessageConversations",get:function(e){var t=e.get,n=t(cv.filterValue),r=t(cv.messageCoversations);if(!n)return r;var i=new RegExp(n,"gi");return r.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.display)||void 0===t?void 0:t.match(i))||e.phoneNumber.match(i)}))}}),messages:Uc({key:"messages",default:[]}),activeMessageConversation:Uc({key:"activeMessageGroup",default:null}),showNewMessageGroup:Uc({key:"showNewMessageGroup",default:!1}),createMessageGroupResult:Uc({key:"createMessageGroupResult",default:null}),imageModal:Uc({key:"useImageModal",default:!1}),unreadMessagesCount:Uc({key:"unreadMessagesCount",default:0}),selectedMessage:Uc({key:"selectedMessage",default:null}),checkedConversations:Uc({key:"checkedConversation",default:[]}),isEditing:Uc({key:"messageIsEditing",default:!1})},lv=function(){return Wc(cv.messages)},dv=function(){var e=Gc(cv.messages).state,n=Gc(cv.messageCoversations),r=n.state,i=n.contents,o=Wc(cv.messageCoversations),a=lv();return{updateLocalConversations:(0,t.useCallback)((function(e){o((function(t){return[e].concat(En(t))}))}),[o]),removeLocalConversation:(0,t.useCallback)((function(e){"hasValue"===r&&i.length&&o((function(t){return En(t).filter((function(t){return!e.includes(t.conversation_id)}))}))}),[o,r,i]),updateLocalMessages:(0,t.useCallback)((function(t){"hasValue"===e&&a((function(e){return[].concat(En(e),[{message:t.message,conversation_id:t.conversation_id,author:t.author,id:t.id}])}))}),[e,a]),deleteLocalMessage:(0,t.useCallback)((function(e){a((function(t){return En(t).filter((function(t){return t.id!==e}))}))}),[a])}},fv=function(){var e=wl().addAlert,n=Mn(yl(),1)[0],r=dv(),i=r.updateLocalMessages,o=r.deleteLocalMessage,a=r.updateLocalConversations,s=r.removeLocalConversation,u=ie(),c=Gc(cv.messageCoversations),l=c.state,d=c.contents,f=qd(),p=f.getPictureByNumber,h=f.getDisplayByNumber,m=lv(),v=(0,t.useCallback)((function(t){var r=t.conversationId,o=t.message;el(Lm.SEND_MESSAGE,{conversationId:r,message:o}).then((function(t){if("ok"!==t.status)return e({message:n("MESSAGES.FEEDBACK.NEW_MESSAGE_FAILED"),type:"error"});i(t.data)}))}),[i,n,e]),g=(0,t.useCallback)((function(t){el(Lm.DELETE_MESSAGE,t).then((function(r){if("ok"!==r.status)return e({message:n("MESSAGES.FEEDBACK.DELETE_MESSAGE_FAILED"),type:"error"});o(t.id)}))}),[o,e,n]),y=(0,t.useCallback)((function(t){"hasValue"===l&&el(Lm.CREATE_MESSAGE_CONVERSATION,{targetNumber:t}).then((function(r){if("ok"!==r.status)return u.push("/messages"),e({message:n("MESSAGES.FEEDBACK.CONVERSATION_CREATE_ONE_NUMBER_FAILED",{number:t}),type:"error"});if(d.find((function(e){return e.conversation_id===r.data.conversation_id})))return u.push("/messages"),e({message:n("MESSAGES.FEEDBACK.MESSAGE_CONVERSATION_DUPLICATE"),type:"error"});var i=h(r.data.phoneNumber),o=p(r.data.phoneNumber);a({phoneNumber:r.data.phoneNumber,conversation_id:r.data.conversation_id,display:i,unread:0,avatar:o}),u.push("/messages/conversations/".concat(r.data.conversation_id))}))}),[u,a,e,n,h,p,d,l]);return{sendMessage:v,deleteMessage:g,deleteConversation:(0,t.useCallback)((function(t){el(Lm.DELETE_CONVERSATION,{conversationsId:t}).then((function(r){if("ok"!==r.status)return e({message:n("MESSAGES.DELETE_CONVERSATION_FAILED"),type:"error"});s(t)}))}),[e,n,s]),addConversation:y,fetchMessages:(0,t.useCallback)((function(t,r){el(Lm.FETCH_MESSAGES,{conversationId:t,page:r},sv).then((function(t){if("ok"!==t.status)return e({message:n("MESSAGES.FEEDBACK.FETCHED_MESSAGES_FAILED"),type:"error"}),u.push("/messages");m(t.data)}))}),[m,e,n,u])}},pv=function(e){var n=e.phoneNumber,r=ie(),i=(0,t.useContext)(zl).theme,o=Mn((0,t.useState)(""),2)[1],a=Mn((0,t.useState)(""),2)[1],s=qd().getContactByNumber,u=Zd(),c=fv().addConversation;(0,t.useEffect)((function(){if(n){var e=s(n);e?(o(e),c(n)):a(n)}}),[n,s,c]);return(0,bl.jsxs)("div",{className:"mt-10",children:[(0,bl.jsx)(Qd,{title:"Contacts",children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){r.push("/messages")},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"})," Fermer"]})}),(0,bl.jsx)(od,{children:(0,bl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(u).sort().map((function(e){return(0,bl.jsxs)("div",{className:"relative",children:[(0,bl.jsx)("div",{className:"sticky top-0 pt-4 px-6 py-1 text-sm font-medium ".concat("dark"===i?"bg-black text-gray-400":"bg-[#F2F2F6] text-gray-600"),children:(0,bl.jsx)("h3",{children:e})}),(0,bl.jsx)("ul",{className:"relative divide-y ".concat("dark"===i?"divide-gray-700":"divide-gray-200"),children:u[e].map((function(e){return(0,bl.jsx)("li",{className:"".concat("dark"===i?"bg-black":"bg-[#F2F2F6]"," w-full cursor-pointer"),onClick:function(){return c(e.number)},children:(0,bl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===i?"hover:bg-gray-900":"hover:bg-gray-200"),children:[(0,bl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,bl.jsx)("img",{className:"h-10 w-10 ".concat("dark"===i?"bg-gray-700":"bg-gray-300"," rounded-full"),src:e.avatar,alt:""}):(0,bl.jsx)("div",{className:"h-10 w-10 ".concat("dark"===i?"bg-gray-700":"bg-gray-300"," rounded-full")})}),(0,bl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,bl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===i?"text-gray-100":"text-gray-600"),children:e.display})]}),(0,bl.jsx)(Gl,{className:"h-5 w-5 text-gray-300"})]})},e.id)}))})]},e)}))})})]})},hv=function(){var e=km().phoneNumber;return(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:(0,bl.jsx)(pv,{phoneNumber:e})})},mv=function(){var e=ie(),n=Gc(cv.messageCoversations),r=n.state,i=n.contents,o=Mn(Vc($c([cv.activeMessageConversation])),1)[0],a=Wc(uv),s=Wc(cv.activeMessageConversation),u=(0,t.useCallback)((function(e){if("hasValue"===r&&i.length)return i&&i.find((function(t){return t.conversation_id===e}))}),[i,r]),c=(0,t.useCallback)((function(e){var t=u(e);return s(t),t}),[s,u]),l=(0,t.useCallback)((function(t){null!==t&&void 0!==t&&t.conversation_id&&e&&(a(t.conversation_id),e.push("/messages/conversations/".concat(t.conversation_id)))}),[a,e]);return{activeMessageConversation:o,setActiveMessageConversation:c,getMessageConversationById:u,goToConversation:l,conversations:i}},vv=function(){var e=Mn(yl(),1)[0],n=(0,t.useContext)(zl).theme,r=mv(),i=r.conversations,o=r.goToConversation,a=Vc(cv.filteredMessageConversations),s=Mn(Hc(cv.filterValue),2),u=s[0],c=s[1];return i?(0,bl.jsxs)("div",{className:"mt-5",children:[(0,bl.jsx)(Pm,{value:u,onChange:function(e){return c(e.target.value)},placeholder:e("MESSAGES.SEARCH_PLACEHOLDER")}),(0,bl.jsx)("nav",{className:"h-[780px] pb-10 my-2 overflow-y-auto","aria-label":"Directory",children:(0,bl.jsx)("ul",{className:"relative divide-y ".concat("dark"===n?"divide-gray-700":"divide-gray-200"),children:a.map((function(e){return(0,bl.jsx)("li",{className:"".concat("dark"===n?"bg-black":"bg-[#F2F2F6]"," w-full cursor-pointer"),onClick:function(){return o(e)},children:(0,bl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===n?"hover:bg-gray-900":"hover:bg-gray-200"),children:[(0,bl.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,bl.jsx)("img",{className:"h-10 w-10 ".concat("dark"===n?"bg-gray-700":"bg-gray-100"," rounded-full"),src:e.avatar,alt:""}):(0,bl.jsx)("div",{className:"h-10 w-10 ".concat("dark"===n?"bg-gray-700":"bg-gray-100"," rounded-full")})}),(0,bl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,bl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===n?"text-gray-100":"text-gray-600"),children:e.display||e.phoneNumber})]})]})},e.conversation_id)}))})})]}):(0,bl.jsx)("p",{children:"No messages"})},gv=function(e){var n=e.messageConversationId,r=e.onAddImageClick,i=Mn(yl(),1)[0],o=(0,t.useContext)(zl).theme,a=Mn((0,t.useState)(""),2),s=a[0],u=a[1],c=fv().sendMessage,l=function(){var e=Rn(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.trim()){e.next=4;break}return e.next=3,c({conversationId:n,message:s});case 3:u("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Rn(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||t.shiftKey){e.next=3;break}return e.next=3,l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?(0,bl.jsxs)("div",{className:"flex",children:[(0,bl.jsx)("button",{onClick:r,children:(0,bl.jsx)(ql,{className:"h-5 w-5 mx-2 ".concat("dark"===o?"text-white":"text-black")})}),(0,bl.jsx)(Em,{onKeyPress:d,value:s,onChange:function(e){return u(e.target.value)},placeholder:i("MESSAGES.NEW_MESSAGE")}),(0,bl.jsx)("button",{className:"bg-[#32CA5B] rounded-full mx-2 ",onClick:l,children:(0,bl.jsx)(Ql,{className:"w-5 h-5 mx-2 text-white"})})]}):null},yv=function(e){var t=e.src,n=e.alt;return(0,bl.jsx)("img",{src:t,alt:n})},bv=function(e){var n=e.isOpen,r=e.messageGroupId,i=e.onClose,o=e.image,a=ie(),s=Mn(yl(),1)[0],u=oe(),c=u.pathname,l=u.search,d=wl().addAlert,f=Mn((0,t.useState)(null),2),p=f[0],h=f[1],m=fv().sendMessage,v=(0,t.useCallback)((function(){h(null),a.replace(tv({pathname:c,search:l},"image"))}),[a,c,l]),g=(0,t.useCallback)((function(e){m({conversationId:r,message:e}),i()}),[m,r,i]),y=(0,t.useCallback)((function(e){g(e),v()}),[v,g]);return(0,t.useEffect)((function(){o&&h(o)}),[o]),(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsx)(fm,{show:n,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)("ul",{className:"absolute z-30 left-5 bottom-32 w-80 mt-2 origin-bottom-left bg-black bg-opacity-80 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){el(Lm.GET_POSITION,{}).then((function(e){m({conversationId:r,message:"vec2(".concat(e.data.x,",").concat(e.data.y,")")})}))},children:[(0,bl.jsx)(Md,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.POSITION_OPTION")]})}),(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){el(Lm.GET_DESTINATION,{}).then((function(e){0!==e.data.x&&0!==e.data.y?m({conversationId:r,message:"vec2(".concat(e.data.x,",").concat(e.data.y,")")}):d({message:s("MESSAGES.FEEDBACK.NEW_MESSAGE_FAILED"),type:"error"})}))},children:[(0,bl.jsx)(Md,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.DESTINATION_OPTION")]})}),(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:function(){a.push("/photo?".concat(Cm().stringify({referal:encodeURIComponent(c+l)})))},children:[(0,bl.jsx)(Nd,{className:"w-5 h-5 mx-3"})," ",s("MESSAGES.MEDIA_OPTION")]})}),(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:i,children:[(0,bl.jsx)(ed,{className:"h-5 w-5 mx-3"})," Fermer"]})})]})}),(0,bl.jsx)(fm,{appear:!0,show:null!==p,children:(0,bl.jsx)(Yp,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:v,children:(0,bl.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,bl.jsx)(fm.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,bl.jsx)(Yp.Overlay,{className:"fixed inset-0"})}),(0,bl.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:" \u200b "}),(0,bl.jsx)(fm.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,bl.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,bl.jsx)(Yp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Do you want to share this image?"}),(0,bl.jsx)("div",{className:"mt-2",children:(0,bl.jsx)("p",{className:"text-sm text-gray-500",children:(0,bl.jsx)(yv,{src:p,alt:"Share gallery image preview"})})}),(0,bl.jsxs)("div",{className:"mt-4",children:[(0,bl.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:v,children:"Fermer"}),(0,bl.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return y(p)},children:"Partager"})]})]})})]})})})]})},xv=function(e){var n=e.children,r=Mn(Cl(),1)[0],i=Mn((0,t.useState)(!1),2),o=i[0],a=i[1],s=Mn((0,t.useState)(!1),2)[1],u=Mn(yl(),1)[0];(0,t.useEffect)((function(){!0===r.streamerMode&&a(!0),s(!0)}),[r.streamerMode]);return(0,bl.jsxs)("div",{className:"relative",onClick:function(){return a(!1)},children:[o&&(0,bl.jsx)("div",{className:"h-full flex justify-center items-center",children:u("GENERIC_CLICK_TO_REVEAL")}),(0,bl.jsx)("div",{className:"".concat(o&&"relative opacity-50 blur-md"),children:n})]})},_v=function(e){var n=e.open,r=e.handleClose,i=Mn(yl(),1)[0],o=fv().deleteMessage,a=Vc(cv.selectedMessage),s=(0,t.useCallback)((function(){o(a)}),[o,a]);return(0,bl.jsx)(fm,{show:n,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)("ul",{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-red-400 px-2 py-2 hover:text-red-500",onClick:s,children:[(0,bl.jsx)(Id,{className:"mx-3 h-5 w-5"})," ",i("MESSAGES.FEEDBACK.DELETE_MESSAGE")]})}),(0,bl.jsx)("li",{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-gray-300 px-2 py-2 hover:text-gray-400",onClick:r,children:[(0,bl.jsx)(ed,{className:"mx-3 h-5 w-5"})," Fermer"]})})]})})},wv=function(e){return/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|png|jpeg|gif)/g.test(e)},Ev=function(e){return/vec2\((-?[0-9.]+),(-?[0-9.]+)\)/g.test(e)},Sv=function(e){var n=e.message,r=Mn((0,t.useState)(!1),2),i=r[0],o=r[1],a=(0,t.useContext)(zl).theme,s=Wc(cv.selectedMessage),u=ud(),c=n.author===u;return(0,bl.jsxs)("div",{className:"flex ".concat(c&&"justify-end"),children:[(0,bl.jsxs)("div",{className:"flex justify-between w-3/4 rounded-2xl ".concat(c?"bg-[#32CA5B] text-white":"dark"===a?"bg-[#26252A] text-white":"bg-[#E9E9EB] text-dark"," p-3 m-2"),children:[(0,bl.jsxs)("div",{children:[wv(n.message)&&(0,bl.jsx)(xv,{children:(0,bl.jsx)("img",{src:n.message,className:"rounded-lg",alt:"message multimedia"})}),Ev(n.message)&&(0,bl.jsxs)("span",{className:"flex items-center cursor-pointer",onClick:function(){var e=/vec2\((-?[0-9.]+),(-?[0-9.]+)\)/g.exec(n.message);el(Lm.SET_WAYPOINT,{x:e[1],y:e[2]})},children:[(0,bl.jsx)(Md,{className:"h-5 w-5 mr-2"}),"Position"]}),!wv(n.message)&&!Ev(n.message)&&(0,bl.jsx)(bl.Fragment,{children:n.message})]}),c&&(0,bl.jsx)(Zl,{className:"h-5 w-5 cursor-pointer",onClick:function(){o(!0),s(n)}})]}),(0,bl.jsx)(_v,{open:i,handleClose:function(){return o(!1)}})]})},Tv=function(e,t){return Tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Tv(e,t)};var Mv=function(){return Mv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mv.apply(this,arguments)};var Av="Pixel",Cv="Percent",kv={unit:Cv,value:.8};function Lv(e){return"number"===typeof e?{unit:Cv,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Av,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Cv,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),kv):(console.warn("scrollThreshold should be string or number"),kv)}var Ov,Rv=function(e){function n(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function u(){var u=this,c=Date.now()-a,l=arguments;function d(){a=Date.now(),n.apply(u,l)}function f(){i=void 0}o||(r&&!i&&d(),s(),void 0===r&&c>e?d():!0!==t&&(i=setTimeout(r?f:d,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),o=!0},u}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}Tv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?Mv(Mv({},t),{prevDataLength:e.dataLength}):null},n.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Lv(t);return r.unit===Av?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},n.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Lv(t);return r.unit===Av?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},n.prototype.render=function(){var e=this,n=Mv({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return t.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},t.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:n},this.props.pullDownToRefresh&&t.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},t.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(t.Component),Nv=Rv,Pv="message-modal-conversation",Iv=function(e){var n=e.activeMessageGroup,r=e.messages,i=Mn((0,t.useState)(!1),2),o=i[0],a=i[1],s=km(),u=(null===s||void 0===s?void 0:s.image)||null,c=Vc(uv),l=wl().addAlert,d=ie(),f=lv(),p=Mn(yl(),1)[0],h=Mn((0,t.useState)(1),2),m=h[0],v=h[1],g=Mn((0,t.useState)(!!r.length),2),y=g[0],b=g[1],x=(0,qd().getContactByNumber)(n.phoneNumber),_=(0,t.useCallback)((function(){el(Lm.FETCH_MESSAGES,{conversationId:c,page:m}).then((function(e){if("ok"!==e.status)return l({message:p("MESSAGES.FEEDBACK.FETCHED_MESSAGES_FAILED"),type:"error"}),d.push("/messages");0!==e.data.length?(b(!0),v((function(e){return e+1})),f((function(t){return[].concat(En(e.data),En(t))}))):b(!1)}))}),[l,c,f,d,p,m,v]);return(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsxs)("div",{children:[(0,bl.jsx)(bv,{image:u,onClose:function(){return a(!1)},isOpen:o,messageGroupId:n.conversation_id}),(0,bl.jsx)("div",{id:Pv,style:{flex:1,display:"flex",overflowY:"auto"},children:(0,bl.jsx)("div",{style:{display:"flex",flexDirection:"column",minHeight:"min-content",width:"100%"},children:(0,bl.jsx)("div",{className:"flex flex-col h-[675px] overflow-y-auto",children:(0,bl.jsx)(Nv,{next:_,scrollableTarget:"scrollableDiv",hasMore:y,inverse:!0,loader:(0,bl.jsx)(rd,{}),dataLength:r.length,children:r.map((function(e){return(0,bl.jsx)(Sv,{message:e},e.id)}))})})})})]}),(0,bl.jsx)(gv,{messageGroupName:(null===x||void 0===x?void 0:x.display)||n.phoneNumber,messageConversationId:n.conversation_id,onAddImageClick:function(){return a(!0)}})]})},jv=function(){var e=ie(),n=oe().pathname,r=ae().groupId,i=mv(),o=i.activeMessageConversation,a=i.setActiveMessageConversation,s=fv(),u=s.fetchMessages,c=s.deleteConversation,l=cd().initializeCall,d=qd(),f=d.getContactByNumber,p=d.getDisplayByNumber,h=Mn(Hc(cv.messages),2),m=h[0],v=h[1],g=Mn((0,t.useState)(!1),2),y=g[0],b=g[1];(0,t.useEffect)((function(){u(r,0)}),[r,u]),(0,t.useEffect)((function(){o&&m?setTimeout((function(){b(!0)}),600):b(!1)}),[o,m]);if((0,t.useEffect)((function(){r&&a(r)}),[r,a]),(0,t.useEffect)((function(){if(y){var e=document.getElementById(Pv);e&&(e.scrollTop=e.scrollHeight)}}),[y]),!o)return(0,bl.jsx)("div",{});var x=p(o.phoneNumber)||o.phoneNumber,_="".concat(x.slice(0,80).trim(),"...");x=x.length>80?_:x;var w=o.phoneNumber;return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:x,isBigHeader:!1,action:(0,bl.jsxs)("div",{className:"flex",children:[(0,bl.jsx)(pm,{className:"mx-3",children:(0,bl.jsx)(Id,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:function(){return c([o.conversation_id])}})}),p(w)===w&&(0,bl.jsx)(pm,{className:"mx-3",children:(0,bl.jsx)(jd,{className:"h-6 w-6 cursor-pointer",onClick:function(){return function(t){var r=f(t),i=encodeURIComponent(n);return r?e.push("/contacts/".concat(r.id,"/?referal=").concat(i)):e.push("/contacts/-1/?addNumber=".concat(t,"&referal=").concat(i))}(w)}})}),(0,bl.jsx)(Rd,{className:"h-6 w-6 cursor-pointer",onClick:function(){return l(w)}})]}),children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){v(null),e.push("/messages")},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"})," Fermer"]})}),(0,bl.jsx)(od,{className:"mt-8 mb-4 h-[800px] overflow-scroll",children:y&&o&&(0,bl.jsx)(Iv,{messages:m,activeMessageGroup:o})})]})})},Dv=function(){var e=XS("MESSAGES"),n=ie();return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[45%_90%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[45%_90%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e,action:(0,bl.jsx)(X,{exact:!0,path:"/messages",children:(0,bl.jsx)(Yl,{className:"h-6 w-6 cursor-pointer",onClick:function(){return n.push("/messages/new")}})}),children:(0,bl.jsx)("div",{})}),(0,bl.jsx)(od,{children:(0,bl.jsxs)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:[(0,bl.jsxs)(ne,{children:[(0,bl.jsx)(X,{path:"/messages/conversations/:groupId",children:(0,bl.jsx)(jv,{})}),(0,bl.jsx)(X,{exact:!0,path:"/messages",children:(0,bl.jsx)(vv,{})})]}),(0,bl.jsx)(ne,{children:(0,bl.jsx)(X,{exact:!0,path:["/messages/new/:phoneNumber","/messages/new"],children:(0,bl.jsx)(hv,{})})})]})})]})})};!function(e){e.ADD_NOTE="npwd:addNote",e.FETCH_ALL_NOTES="npwd:fetchAllNotes",e.DELETE_NOTE="npwd:deleteNote",e.UPDATE_NOTE="npwd:updateNote",e.ADD_NOTE_EXPORT="npwd:addNoteExport"}(Ov||(Ov={}));var Fv,zv={noteItems:Uc({key:"noteItem",default:Bc({key:"defaultNoteItems",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(Ov.FETCH_ALL_NOTES);case 3:return t=e.sent,Kc({action:"FetchNotes",data:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})}),selectedNote:Uc({key:"selectedNote",default:null}),modalVisibile:Uc({key:"noteModalVisible",default:!1})},Uv=function(){return Wc(zv.selectedNote)},Bv=function(){return Wc(zv.modalVisibile)},Vv=function(){return Hc(zv.modalVisibile)},Gv=function(){return Vc(zv.noteItems)},Hv=function(){var e=Gv(),t=Uv(),n=Mn(yl(),1)[0],r=Bv();return e&&e.length?(0,bl.jsx)(Vm,{children:e.map((function(e,n){return(0,bl.jsxs)(Gm,{onClick:function(){return function(e){t(e),r(!0)}(e)},children:[(0,bl.jsx)("p",{className:"flex-grow ml-4 py-2",children:e.title}),(0,bl.jsx)(pm,{className:"flex items-center",children:(0,bl.jsx)(Gl,{className:"text-white text-opacity-25 w-5 h-5"})})]},e.id)}))}):(0,bl.jsx)("div",{className:"flex flex-col justify-center items-center text-white h-full",children:n("NOTES.FEEDBACK.NO_NOTES")})},Wv=function(){var e=Wc(zv.noteItems);return{deleteLocalNote:(0,t.useCallback)((function(t){e((function(e){return En(e).filter((function(e){return e.id!==t}))}))}),[e]),addLocalNote:(0,t.useCallback)((function(t){e((function(e){return[t].concat(En(e))}))}),[e]),updateLocalNote:(0,t.useCallback)((function(t){e((function(e){var n=e.findIndex((function(e){return e.id===t.id})),r=En(e);return r[n]=t,r}))}),[e])}},Zv=function(){var e=function(){var e=wl().addAlert,n=Mn(yl(),1)[0],r=Wv(),i=r.addLocalNote,o=r.deleteLocalNote,a=r.updateLocalNote,s=(0,t.useCallback)(function(){var t=Rn(Zn().mark((function t(r){var o,a,s;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.title,a=r.content,t.next=3,el(Ov.ADD_NOTE,{title:o,content:a});case 3:if("ok"===(s=t.sent).status){t.next=6;break}return t.abrupt("return",e({message:n("NOTES.FEEDBACK.ADD_FAILED"),type:"error"}));case 6:i(s.data),e({message:n("NOTES.FEEDBACK.ADD_SUCCESS"),type:"success"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,i,n]),u=(0,t.useCallback)(function(){var t=Rn(Zn().mark((function t(r){var i;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,el(Ov.DELETE_NOTE,r);case 2:if("ok"===(i=t.sent).status){t.next=5;break}return t.abrupt("return",e({message:n("NOTES.FEEDBACK.DELETE_FAILED"),type:"error"}));case 5:o(i.data.id),e({message:n("NOTES.FEEDBACK.DELETE_SUCCESS"),type:"success"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,o,n]),c=(0,t.useCallback)(function(){var t=Rn(Zn().mark((function t(r){var i,o,s;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.id,o=r.content,s=r.title,t.next=3,el(Ov.UPDATE_NOTE,{id:i,content:o,title:s});case 3:if("ok"===t.sent.status){t.next=6;break}return t.abrupt("return",e({message:n("NOTES.FEEDBACK.UPDATE_FAILED"),type:"error"}));case 6:a({id:i,title:s,content:o}),e({message:n("NOTES.FEEDBACK.UPDATE_SUCCESS"),type:"success"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,n,a]);return{addNewNote:s,deleteNote:u,updateNote:c}}(),n=e.addNewNote,r=e.deleteNote,i=e.updateNote,o=Mn(Vv(),2),a=o[0],s=o[1],u=Mn(yl(),1)[0],c=Mn(Hc(zv.selectedNote),1)[0],l=Mn((0,t.useState)(""),2),d=l[0],f=l[1],p=Mn((0,t.useState)(""),2),h=p[0],m=p[1],v=!Boolean(null===c||void 0===c?void 0:c.id);(0,t.useEffect)((function(){null!==c&&(m(c.content),f(c.title))}),[c]);var g=(0,bl.jsxs)(bh,{as:"div",className:"relative inline-block text-left",children:[(0,bl.jsx)(bh.Button,{children:(0,bl.jsx)(Wl,{className:"h-6 w-6"})}),(0,bl.jsx)(fm,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)(bh.Items,{className:"absolute right-0 w-56 mt-2 origin-top-right bg-black bg-opacity-70 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",disabled:d.length<=0,onClick:v?function(){n({title:d,content:h}).then((function(){s(!1)})).catch(console.error)}:function(){i({id:c.id,title:d,content:h}).then((function(){s(!1)})).catch(console.error)},children:[(0,bl.jsx)(Xl,{className:"mx-3 h-5 w-5"})," Sauvegarder"]})}),!v&&(0,bl.jsx)(bh.Item,{children:(0,bl.jsxs)(pm,{className:"flex items-center w-full text-red-400 px-2 py-2 hover:text-red-500",onClick:function(){r({id:c.id}).then((function(){s(!1)})).catch(console.error)},children:[(0,bl.jsx)(Kl,{className:"mx-3 h-5 w-5"})," Supprimer"]})})]})})]});return null===c?null:(0,bl.jsx)(fm,{appear:!0,show:a,as:"div",className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:u("APPS_NOTES"),isBigHeader:!1,action:g,children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){s(!1)},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"}),"Fermer"]})}),(0,bl.jsxs)(od,{className:"mt-10 mx-4 mb-4",children:[(0,bl.jsx)(Em,{placeholder:u("GENERIC.TITLE"),value:d,onChange:function(e){f(e.target.value),e.target.focus()}}),(0,bl.jsx)(Sm,{placeholder:u("GENERIC.CONTENT"),rows:22,value:h,onChange:function(e){m(e.target.value)}})]})]})})},qv=function(){var e=XS("NOTES"),n=Gv(),r=Uv(),i=Mn(Vv(),1)[0],o=Bv(),a=(0,t.useContext)(zl).theme,s=km({title:"",content:""}),u=s.title,c=s.content;return(0,t.useEffect)((function(){u||c?(o(!0),r({title:u,content:c})):(o(!1),r(null))}),[o,u,c,r]),(0,bl.jsxs)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[35%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[35%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:[(0,bl.jsx)(Zv,{}),(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e}),(0,bl.jsx)(od,{className:"flex-grow mt-6 mb-4",children:(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:(0,bl.jsx)(X,{path:"/notes",component:Hv})})}),(0,bl.jsx)(fm,{appear:!0,show:!i,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,bl.jsxs)("div",{className:"grid grid-cols-3 items-center font-light text-sm mx-5 mb-10 z-0",children:[(0,bl.jsxs)("p",{className:"col-start-2 ".concat("dark"===a?"text-white":"text-black"," text-center"),children:[n.length," note",n.length>1&&"s"]}),(0,bl.jsx)(Ad,{className:"text-yellow-500 place-self-end cursor-pointer w-10 h-10",onClick:function(){r({title:"",content:""}),o(!0)}})]})})]})]})};!function(e){e.ENTER_CAMERA="phone:camera:enter",e.TAKE_PHOTO="phone:camera:take",e.TOGGLE_CAMERA="phone:camera:toggle",e.EXIT_CAMERA="phone:camera:exit",e.TOGGLE_CONTROL_CAMERA="phone:camera:toggleControl",e.CAMERA_EXITED="npwd:cameraExited",e.TAKE_PHOTO_SUCCESS="npwd:TakePhotoSuccess",e.UPLOAD_PHOTO="npwd:UploadPhoto",e.FETCH_PHOTOS="npwd:FetchPhotos",e.DELETE_PHOTO="npwd:deletePhoto"}(Fv||(Fv={}));var Yv={photos:Uc({key:"galleryPhotos",default:Bc({key:"defaultGalleryPhotos",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(Fv.FETCH_PHOTOS);case 3:return t=e.sent,Kc({action:"PhotosFetched",data:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),e.next=12;break;case 12:return console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()})})},$v=function(){return Vc(Yv.photos)},Xv=function(){var e=Wc(Yv.photos);return{takePhoto:(0,t.useCallback)((function(t){e((function(e){return[t].concat(En(e))}))}),[e]),deletePhoto:(0,t.useCallback)((function(t){e((function(e){return En(e).filter((function(e){return e.image!==t}))}))}),[e])}};function Jv(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(Jv.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var Kv,Qv=100,eg=1e3,tg=1001,ng=1002,rg=1003,ig=1004,og=1005,ag=1006,sg=1008,ug=1009,cg=1012,lg=1015,dg=1016,fg=1020,pg=1022,hg=1023,mg=1026,vg=1027,gg=2300,yg=2301,bg=2302,xg=2400,_g=2401,wg=2402,Eg=3e3,Sg={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Sg.DEG2RAD},radToDeg:function(e){return e*Sg.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Tg(e,t){this.x=e||0,this.y=t||0}function Mg(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Ag(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function Cg(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function kg(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Tg.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Tg.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new Tg,t=new Tg;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(Mg.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,d,f,p,h,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=d,v[3]=f,v[7]=p,v[11]=h,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Mg).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new Cg;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var d=o*c,f=o*l,p=a*c,h=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=f+p*u,t[5]=d-h*u,t[9]=-a*s,t[2]=h-d*u,t[6]=p+f*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,v=s*l,g=u*c,y=u*l;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*c,v=s*l,g=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=g+v*a,t[1]=v+g*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){d=o*c,f=o*l,p=a*c,h=a*l;t[0]=s*c,t[4]=p*u-f,t[8]=d*u+h,t[1]=s*l,t[5]=h*u+d,t[9]=f*u-p,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=_*l+x,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=x*l+_,t[10]=b-w*l}else if("XZY"===e.order){b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=x*l-_,t[2]=_*l-x,t[6]=a*c,t[10]=w*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new Cg(0,0,0),t=new Cg(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new Cg,t=new Cg,n=new Cg;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],d=n[9],f=n[13],p=n[2],h=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],S=r[12],T=r[1],M=r[5],A=r[9],C=r[13],k=r[2],L=r[6],O=r[10],R=r[14],N=r[3],P=r[7],I=r[11],j=r[15];return i[0]=o*_+a*T+s*k+u*N,i[4]=o*w+a*M+s*L+u*P,i[8]=o*E+a*A+s*O+u*I,i[12]=o*S+a*C+s*R+u*j,i[1]=c*_+l*T+d*k+f*N,i[5]=c*w+l*M+d*L+f*P,i[9]=c*E+l*A+d*O+f*I,i[13]=c*S+l*C+d*R+f*j,i[2]=p*_+h*T+m*k+v*N,i[6]=p*w+h*M+m*L+v*P,i[10]=p*E+h*A+m*O+v*I,i[14]=p*S+h*C+m*R+v*j,i[3]=g*_+y*T+b*k+x*N,i[7]=g*w+y*M+b*L+x*P,i[11]=g*E+y*A+b*O+x*I,i[15]=g*S+y*C+b*R+x*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new Cg;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],d=e[10],f=e[14];return e[3]*(+i*s*l-r*u*l-i*a*d+n*u*d+r*a*f-n*s*f)+e[7]*(+t*s*f-t*u*d+i*o*d-r*o*f+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*d+r*o*l-n*o*d+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],d=r[7],f=r[8],p=r[9],h=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=p*y*d-g*h*d+g*l*m-c*y*m-p*l*b+c*h*b,_=v*h*d-f*y*d-v*l*m+u*y*m+f*l*b-u*h*b,w=f*g*d-v*p*d+v*c*m-u*g*m-f*c*b+u*p*b,E=v*p*l-f*g*l-v*c*h+u*g*h+f*c*y-u*p*y,S=i*x+o*_+a*w+s*E;if(0===S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var M=1/S;return n[0]=x*M,n[1]=(g*h*s-p*y*s-g*a*m+o*y*m+p*a*b-o*h*b)*M,n[2]=(c*y*s-g*l*s+g*a*d-o*y*d-c*a*b+o*l*b)*M,n[3]=(p*l*s-c*h*s-p*a*d+o*h*d+c*a*m-o*l*m)*M,n[4]=_*M,n[5]=(f*y*s-v*h*s+v*a*m-i*y*m-f*a*b+i*h*b)*M,n[6]=(v*l*s-u*y*s-v*a*d+i*y*d+u*a*b-i*l*b)*M,n[7]=(u*h*s-f*l*s+f*a*d-i*h*d-u*a*m+i*l*m)*M,n[8]=w*M,n[9]=(v*p*s-f*g*s-v*o*m+i*g*m+f*o*b-i*p*b)*M,n[10]=(u*g*s-v*c*s+v*o*d-i*g*d-u*o*b+i*c*b)*M,n[11]=(f*c*s-u*p*s-f*o*d+i*p*d+u*o*m-i*c*m)*M,n[12]=E*M,n[13]=(f*g*a-v*p*a+v*o*h-i*g*h-f*o*y+i*p*y)*M,n[14]=(v*c*a-u*g*a-v*o*l+i*g*l+u*o*y-i*c*y)*M,n[15]=(u*p*a-f*c*a+f*o*l-i*p*l-u*o*h+i*c*h)*M,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,c=o+o,l=a+a,d=i*u,f=i*c,p=i*l,h=o*c,m=o*l,v=a*l,g=s*u,y=s*c,b=s*l,x=n.x,_=n.y,w=n.z;return r[0]=(1-(h+v))*x,r[1]=(f+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(f-b)*_,r[5]=(1-(d+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(p+y)*w,r[9]=(m-g)*w,r[10]=(1-(d+h))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new Cg,t=new Mg;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,d=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),d=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,d=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(Ag,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],d=i[o+0],f=i[o+1],p=i[o+2],h=i[o+3];if(l!==h||s!==d||u!==f||c!==p){var m=1-a,v=s*d+u*f+c*p+l*h,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*g;if(s=s*m+d*_,u=u*m+f*_,c=c*m+p*_,l=l*m+h*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(Ag.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(Ag.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),d=s(n/2),f=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l-d*f*p):"YXZ"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l+d*f*p):"ZXY"===o?(this._x=d*c*l-u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l-d*f*p):"ZYX"===o?(this._x=d*c*l-u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l+d*f*p):"YZX"===o?(this._x=d*c*l+u*f*p,this._y=u*f*l+d*c*p,this._z=u*c*p-d*f*l,this._w=u*c*l-d*f*p):"XZY"===o&&(this._x=d*c*l-u*f*p,this._y=u*f*l-d*c*p,this._z=u*c*p+d*f*l,this._w=u*c*l+d*f*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],d=n[10],f=r+s+d;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>d?(t=2*Math.sqrt(1+r-s-d),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>d?(t=2*Math.sqrt(1+s-r-d),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+d-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new Cg;return function(n,r){return void 0===t&&(t=new Cg),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Sg.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize()}var c=Math.sqrt(s),l=Math.atan2(c,a),d=Math.sin((1-t)*l)/c,f=Math.sin(t*l)/c;return this._w=o*d+this._w*f,this._x=n*d+this._x*f,this._y=r*d+this._y*f,this._z=i*d+this._z*f,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Cg.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new Ag;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new Ag;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=u*s+d*-i+c*-a-l*-o,this.y=c*s+d*-o+l*-i-u*-a,this.z=l*s+d*-a+u*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new Mg;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new Cg,t=new Cg;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new Cg;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new Cg;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Sg.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(kg.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new Cg;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],d=n[2],f=n[5],p=n[8],h=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*h+a*g+s*x,i[3]=o*m+a*y+s*_,i[6]=o*v+a*b+s*w,i[1]=u*h+c*g+l*x,i[4]=u*m+c*y+l*_,i[7]=u*v+c*b+l*w,i[2]=d*h+f*g+p*x,i[5]=d*m+f*y+p*_,i[8]=d*v+f*b+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],d=n[7],f=n[8],p=f*u-c*d,h=c*l-f*s,m=d*s-u*l,v=i*p+o*h+a*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=p*y,r[1]=(a*d-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=h*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-d*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Lg={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Kv&&(Kv=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Kv.width=e.width,Kv.height=e.height;var n=Kv.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Kv}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Og=0;function Rg(e,t,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:Og++}),this.uuid=Sg.generateUUID(),this.name="",this.image=void 0!==e?e:Rg.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Rg.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:tg,this.wrapT=void 0!==r?r:tg,this.magFilter=void 0!==i?i:ag,this.minFilter=void 0!==o?o:sg,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:hg,this.type=void 0!==s?s:ug,this.offset=new Tg(0,0),this.repeat=new Tg(1,1),this.center=new Tg(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kg,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:Eg,this.version=0,this.onUpdate=null}function Ng(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function Pg(e,t,n){this.width=e,this.height=t,this.scissor=new Ng(0,0,e,t),this.scissorTest=!1,this.viewport=new Ng(0,0,e,t),n=n||{},this.texture=new Rg(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:ag,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Ig(e,t,n){Pg.call(this,e,t,n),this.samples=4}function jg(e,t,n){Pg.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Dg(e,t,n,r,i,o,a,s,u,c,l,d){Rg.call(this,null,o,a,s,u,c,r,i,l,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:rg,this.minFilter=void 0!==c?c:rg,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Fg(e,t){this.min=void 0!==e?e:new Cg(1/0,1/0,1/0),this.max=void 0!==t?t:new Cg(-1/0,-1/0,-1/0)}function zg(e,t){this.center=void 0!==e?e:new Cg,this.radius=void 0!==t?t:0}function Ug(e,t){this.normal=void 0!==e?e:new Cg(1,0,0),this.constant=void 0!==t?t:0}function Bg(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Ug,void 0!==t?t:new Ug,void 0!==n?n:new Ug,void 0!==r?r:new Ug,void 0!==i?i:new Ug,void 0!==o?o:new Ug]}Rg.DEFAULT_IMAGE=void 0,Rg.DEFAULT_MAPPING=300,Rg.prototype=Object.assign(Object.create(Jv.prototype),{constructor:Rg,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Sg.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Lg.getDataURL(r[o]))}else i=Lg.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eg:e.x=e.x-Math.floor(e.x);break;case tg:e.x=e.x<0?0:1;break;case ng:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case eg:e.y=e.y-Math.floor(e.y);break;case tg:e.y=e.y<0?0:1;break;case ng:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Rg.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ng.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],d=s[1],f=s[5],p=s[9],h=s[2],m=s[6],v=s[10];if(Math.abs(c-d)<o&&Math.abs(l-h)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(l+h)<a&&Math.abs(p+m)<a&&Math.abs(u+f+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(v+1)/2,x=(c+d)/4,_=(l+h)/4,w=(p+m)/4;return g>y&&g>b?g<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=_/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<o?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((m-p)*(m-p)+(l-h)*(l-h)+(d-c)*(d-c));return Math.abs(E)<.001&&(E=1),this.x=(m-p)/E,this.y=(l-h)/E,this.z=(d-c)/E,this.w=Math.acos((u+f+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new Ng,t=new Ng),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Pg.prototype=Object.assign(Object.create(Jv.prototype),{constructor:Pg,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ig.prototype=Object.assign(Object.create(Pg.prototype),{constructor:Ig,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Pg.prototype.copy.call(this,e),this.samples=e.samples,this}}),jg.prototype=Object.create(Pg.prototype),jg.prototype.constructor=jg,jg.prototype.isWebGLRenderTargetCube=!0,Dg.prototype=Object.create(Rg.prototype),Dg.prototype.constructor=Dg,Dg.prototype.isDataTexture=!0,Object.assign(Fg.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],d=e[s+2];c<t&&(t=c),l<n&&(n=l),d<r&&(r=d),c>i&&(i=c),l>o&&(o=l),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),d=e.getZ(s);c<t&&(t=c),l<n&&(n=l),d<r&&(r=d),c>i&&(i=c),l>o&&(o=l),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Cg;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Cg),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Cg),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new Cg;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,n=a.length;t<n;t++)r.copy(a[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Cg),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new Cg;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new Cg,t=new Cg,n=new Cg,r=new Cg,i=new Cg,o=new Cg,a=new Cg,s=new Cg,u=new Cg,c=new Cg;function l(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){a.fromArray(r,i);var s=u.x*Math.abs(a.x)+u.y*Math.abs(a.y)+u.z*Math.abs(a.z),c=e.dot(a),l=t.dot(a),d=n.dot(a);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),e.subVectors(a.a,s),t.subVectors(a.b,s),n.subVectors(a.c,s),r.subVectors(t,e),i.subVectors(n,t),o.subVectors(e,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(d)&&(!!l(d=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,i),l(d=[c.x,c.y,c.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Cg),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Cg;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new Cg;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new zg),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new Cg,new Cg,new Cg,new Cg,new Cg,new Cg,new Cg,new Cg];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(zg.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new Fg;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Cg),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Fg),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(Ug.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new Cg,t=new Cg;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Cg),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new Cg;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new Cg);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Cg),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new Cg,t=new kg;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(Bg.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,l-s,h-d,y-m).normalize(),t[1].setComponents(a+r,l+s,h+d,y+m).normalize(),t[2].setComponents(a+i,l+u,h+f,y+v).normalize(),t[3].setComponents(a-i,l-u,h-f,y-v).normalize(),t[4].setComponents(a-o,l-c,h-p,y-g).normalize(),t[5].setComponents(a+o,l+c,h+p,y+g).normalize(),this},intersectsObject:function(){var e=new zg;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new zg;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new Cg;return function(t){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(e.x=i.normal.x>0?t.max.x:t.min.x,e.y=i.normal.y>0?t.max.y:t.min.y,e.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Vg={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function Gg(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Hg(e){for(var t={},n=0;n<e.length;n++){var r=Gg(e[n]);for(var i in r)t[i]=r[i]}return t}var Wg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zg(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(Zg.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Sg.euclideanModulo(t,1),n=Sg.clamp(n,0,1),r=Sg.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(c=Wg[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),u=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;switch(n=u<=.5?c/(a+s):c/(2-a-s),a){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=Sg.lerp(e.h,t.h,r),o=Sg.lerp(e.s,t.s,r),a=Sg.lerp(e.l,t.l,r);return this.setHSL(i,o,a),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var qg={common:{diffuse:{value:new Zg(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new kg},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Tg(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zg(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Zg(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new kg}},sprite:{diffuse:{value:new Zg(15658734)},opacity:{value:1},center:{value:new Tg(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new kg}}},Yg={basic:{uniforms:Hg([qg.common,qg.specularmap,qg.envmap,qg.aomap,qg.lightmap,qg.fog]),vertexShader:Vg.meshbasic_vert,fragmentShader:Vg.meshbasic_frag},lambert:{uniforms:Hg([qg.common,qg.specularmap,qg.envmap,qg.aomap,qg.lightmap,qg.emissivemap,qg.fog,qg.lights,{emissive:{value:new Zg(0)}}]),vertexShader:Vg.meshlambert_vert,fragmentShader:Vg.meshlambert_frag},phong:{uniforms:Hg([qg.common,qg.specularmap,qg.envmap,qg.aomap,qg.lightmap,qg.emissivemap,qg.bumpmap,qg.normalmap,qg.displacementmap,qg.gradientmap,qg.fog,qg.lights,{emissive:{value:new Zg(0)},specular:{value:new Zg(1118481)},shininess:{value:30}}]),vertexShader:Vg.meshphong_vert,fragmentShader:Vg.meshphong_frag},standard:{uniforms:Hg([qg.common,qg.envmap,qg.aomap,qg.lightmap,qg.emissivemap,qg.bumpmap,qg.normalmap,qg.displacementmap,qg.roughnessmap,qg.metalnessmap,qg.fog,qg.lights,{emissive:{value:new Zg(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Vg.meshphysical_vert,fragmentShader:Vg.meshphysical_frag},matcap:{uniforms:Hg([qg.common,qg.bumpmap,qg.normalmap,qg.displacementmap,qg.fog,{matcap:{value:null}}]),vertexShader:Vg.meshmatcap_vert,fragmentShader:Vg.meshmatcap_frag},points:{uniforms:Hg([qg.points,qg.fog]),vertexShader:Vg.points_vert,fragmentShader:Vg.points_frag},dashed:{uniforms:Hg([qg.common,qg.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vg.linedashed_vert,fragmentShader:Vg.linedashed_frag},depth:{uniforms:Hg([qg.common,qg.displacementmap]),vertexShader:Vg.depth_vert,fragmentShader:Vg.depth_frag},normal:{uniforms:Hg([qg.common,qg.bumpmap,qg.normalmap,qg.displacementmap,{opacity:{value:1}}]),vertexShader:Vg.normal_vert,fragmentShader:Vg.normal_frag},sprite:{uniforms:Hg([qg.sprite,qg.fog]),vertexShader:Vg.sprite_vert,fragmentShader:Vg.sprite_frag},background:{uniforms:{uvTransform:{value:new kg},t2D:{value:null}},vertexShader:Vg.background_vert,fragmentShader:Vg.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vg.cube_vert,fragmentShader:Vg.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vg.equirect_vert,fragmentShader:Vg.equirect_frag},distanceRGBA:{uniforms:Hg([qg.common,qg.displacementmap,{referencePosition:{value:new Cg},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vg.distanceRGBA_vert,fragmentShader:Vg.distanceRGBA_frag},shadow:{uniforms:Hg([qg.lights,qg.fog,{color:{value:new Zg(0)},opacity:{value:1}}]),vertexShader:Vg.shadow_vert,fragmentShader:Vg.shadow_frag}};function $g(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Xg(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function Jg(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new Cg,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Zg,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function Kg(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Kg.DefaultOrder}function Qg(){this.mask=1}Yg.physical={uniforms:Hg([Yg.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Vg.meshphysical_vert,fragmentShader:Vg.meshphysical_frag},Object.assign(Jg.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Kg.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Kg.DefaultOrder="XYZ",Object.defineProperties(Kg.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Kg.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Sg.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],d=i[2],f=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new Mg;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new Ag;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Cg(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Qg.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var ey=0;function ty(){Object.defineProperty(this,"id",{value:ey++}),this.uuid=Sg.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ty.DefaultUp.clone();var e=new Cg,t=new Kg,n=new Ag,r=new Cg(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Mg},normalMatrix:{value:new kg}}),this.matrix=new Mg,this.matrixWorld=new Mg,this.matrixAutoUpdate=ty.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Qg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ty.DefaultUp=new Cg(0,1,0),ty.DefaultMatrixAutoUpdate=!0,ty.prototype=Object.assign(Object.create(Jv.prototype),{constructor:ty,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new Ag;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new Ag;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new Cg(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new Cg(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new Cg(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new Cg;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new Cg(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new Cg(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new Cg(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new Mg;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new Ag,t=new Mg,n=new Cg,r=new Cg;return function(i,o,a){i.isVector3?n.copy(i):n.set(i,o,a);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Cg),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new Cg,t=new Cg;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new Ag),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new Cg,t=new Ag;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new Cg),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Cg),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,u=a.length;s<u;s++){var c=a[s];i(e.shapes,c)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,u=this.material.length;s<u;s++)l.push(i(e.materials,this.material[s]));r.material=l}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),f=m(e.materials),p=m(e.textures),h=m(e.images);a=m(e.shapes);d.length>0&&(n.geometries=d),f.length>0&&(n.materials=f),p.length>0&&(n.textures=p),h.length>0&&(n.images=h),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var ny=0;function ry(){Object.defineProperty(this,"id",{value:ny+=2}),this.uuid=Sg.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function iy(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function oy(e,t,n){iy.call(this,new Int8Array(e),t,n)}function ay(e,t,n){iy.call(this,new Uint8Array(e),t,n)}function sy(e,t,n){iy.call(this,new Uint8ClampedArray(e),t,n)}function uy(e,t,n){iy.call(this,new Int16Array(e),t,n)}function cy(e,t,n){iy.call(this,new Uint16Array(e),t,n)}function ly(e,t,n){iy.call(this,new Int32Array(e),t,n)}function dy(e,t,n){iy.call(this,new Uint32Array(e),t,n)}function fy(e,t,n){iy.call(this,new Float32Array(e),t,n)}function py(e,t,n){iy.call(this,new Float64Array(e),t,n)}function hy(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function my(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}ry.prototype=Object.assign(Object.create(Jv.prototype),{constructor:ry,isGeometry:!0,applyMatrix:function(e){for(var t=(new kg).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new Mg;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Mg;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Mg;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Mg;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Mg;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ty;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=0,l=0;c<i.length;c+=3,l+=2)t.vertices.push((new Cg).fromArray(i,c)),void 0!==a&&t.colors.push((new Zg).fromArray(a,c));function d(e,n,r,i){var c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],l=new Jg(e,n,r,void 0===o?[]:[(new Cg).fromArray(o,3*e),(new Cg).fromArray(o,3*n),(new Cg).fromArray(o,3*r)],c,i);t.faces.push(l),void 0!==s&&t.faceVertexUvs[0].push([(new Tg).fromArray(s,2*e),(new Tg).fromArray(s,2*n),(new Tg).fromArray(s,2*r)]),void 0!==u&&t.faceVertexUvs[1].push([(new Tg).fromArray(u,2*e),(new Tg).fromArray(u,2*n),(new Tg).fromArray(u,2*r)])}var f=e.groups;if(f.length>0)for(c=0;c<f.length;c++)for(var p=f[c],h=p.start,m=(l=h,h+p.count);l<m;l+=3)void 0!==n?d(n[l],n[l+1],n[l+2],p.materialIndex):d(l,l+1,l+2,p.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)d(n[c],n[c+1],n[c+2]);else for(c=0;c<i.length/3;c+=3)d(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new Cg;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Mg;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Cg,t=new Cg,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new Cg;if(e){var s,u,c,l=new Cg,d=new Cg;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],l.subVectors(c,u),d.subVectors(s,u),l.cross(d),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new ry;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new Cg,c={a:new Cg,b:new Cg,c:new Cg},a.push(u),s.push(c)}var u,c,l=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=l.faceNormals[n],c=l.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Fg),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zg),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],d=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new kg).getNormalMatrix(t));for(var p=0,h=a.length;p<h;p++){var m=a[p].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(p=0,h=f.length;p<h;p++)d.push(f[p].clone());for(p=0,h=u.length;p<h;p++){var v,g,y,b=u[p],x=b.vertexNormals,_=b.vertexColors;(v=new Jg(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var w=0,E=x.length;w<E;w++)g=x[w].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(w=0,E=_.length;w<E;w++)y=_[w],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+n,s.push(v)}for(p=0,h=l.length;p<h;p++){var S=l[p],T=[];if(void 0!==S){for(w=0,E=S.length;w<E;w++)T.push(S[w].clone());c.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var h=f[n];for(this.faces.splice(h,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(h,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new Cg(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],u={},c=[],l={},d=[],f={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],h=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,h),b=E(b,4,m),b=E(b,5,v),b=E(b,6,g),b=E(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),h){var x=this.faceVertexUvs[0][i];a.push(M(x[0]),M(x[1]),M(x[2]))}if(m&&a.push(S(p.normal)),v){var _=p.vertexNormals;a.push(S(_[0]),S(_[1]),S(_[2]))}if(g&&a.push(T(p.color)),y){var w=p.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]||(l[t]=c.length,c.push(e.getHex())),l[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==f[t]||(f[t]=d.length/2,d.push(e.x,e.y)),f[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new ry).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var d=l[r],f=[];for(o=0,a=d.length;o<a;o++){var p=d[o];f.push(p.clone())}this.faceVertexUvs[t].push(f)}}var h=e.morphTargets;for(t=0,n=h.length;t<n;t++){var m={};if(m.name=h[t].name,void 0!==h[t].vertices)for(m.vertices=[],r=0,i=h[t].vertices.length;r<i;r++)m.vertices.push(h[t].vertices[r].clone());if(void 0!==h[t].normals)for(m.normals=[],r=0,i=h[t].normals.length;r<i;r++)m.normals.push(h[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(iy.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(iy.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Zg),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Tg),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Cg),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Ng),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),oy.prototype=Object.create(iy.prototype),oy.prototype.constructor=oy,ay.prototype=Object.create(iy.prototype),ay.prototype.constructor=ay,sy.prototype=Object.create(iy.prototype),sy.prototype.constructor=sy,uy.prototype=Object.create(iy.prototype),uy.prototype.constructor=uy,cy.prototype=Object.create(iy.prototype),cy.prototype.constructor=cy,ly.prototype=Object.create(iy.prototype),ly.prototype.constructor=ly,dy.prototype=Object.create(iy.prototype),dy.prototype.constructor=dy,fy.prototype=Object.create(iy.prototype),fy.prototype.constructor=fy,py.prototype=Object.create(iy.prototype),py.prototype.constructor=py,Object.assign(hy.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var l,d=e.morphNormals,f=d.length;if(f>0){l=[];for(c=0;c<f;c++)l[c]={name:d[c].name,data:[]};this.morphTargets.normal=l}var p=e.skinIndices,h=e.skinWeights,m=p.length===r.length,v=h.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<n.length;c++){var g=n[c];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x,_=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(x=i[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Tg,new Tg,new Tg));if(!0===a)void 0!==(x=i[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Tg,new Tg,new Tg));for(var E=0;E<u;E++){var S=s[E].vertices;t[E].data.push(S[g.a],S[g.b],S[g.c])}for(E=0;E<f;E++){var T=d[E].vertexNormals[c];l[E].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(h[g.a],h[g.b],h[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var vy=1;function gy(){Object.defineProperty(this,"id",{value:vy+=2}),this.uuid=Sg.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function yy(e,t,n,r,i,o){ry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new by(e,t,n,r,i,o)),this.mergeVertices()}function by(e,t,n,r,i,o){gy.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],u=[],c=[],l=[],d=0,f=0;function p(e,t,n,r,i,o,p,h,m,v,g){var y,b,x=o/m,_=p/v,w=o/2,E=p/2,S=h/2,T=m+1,M=v+1,A=0,C=0,k=new Cg;for(b=0;b<M;b++){var L=b*_-E;for(y=0;y<T;y++){var O=y*x-w;k[e]=O*r,k[t]=L*i,k[n]=S,u.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=h>0?1:-1,c.push(k.x,k.y,k.z),l.push(y/m),l.push(1-b/v),A+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var R=d+y+T*b,N=d+y+T*(b+1),P=d+(y+1)+T*(b+1),I=d+(y+1)+T*b;s.push(R,N,I),s.push(N,P,I),C+=6}a.addGroup(f,C,g),f+=C,d+=A}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new fy(u,3)),this.addAttribute("normal",new fy(c,3)),this.addAttribute("uv",new fy(l,2))}function xy(e,t,n,r){ry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new _y(e,t,n,r)),this.mergeVertices()}function _y(e,t,n,r){gy.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,d=c+1,f=e/u,p=t/c,h=[],m=[],v=[],g=[];for(o=0;o<d;o++){var y=o*p-s;for(i=0;i<l;i++){var b=i*f-a;m.push(b,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var x=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),E=i+1+l*o;h.push(x,_,E),h.push(_,w,E)}this.setIndex(h),this.addAttribute("position",new fy(m,3)),this.addAttribute("normal",new fy(v,3)),this.addAttribute("uv",new fy(g,2))}gy.prototype=Object.assign(Object.create(Jv.prototype),{constructor:gy,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(my(e)>65535?dy:cy)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new iy(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new kg).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new Mg;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Mg;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Mg;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Mg;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Mg;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ty;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new Cg;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new fy(3*t.vertices.length,3),r=new fy(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new fy(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new fy(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new hy).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new iy(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new iy(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new iy(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new iy(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new iy(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[a],c=0,l=u.length;c<l;c++){var d=u[c],f=new fy(3*d.data.length,3);f.name=d.name,s.push(f.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new fy(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var h=new fy(4*e.skinWeights.length,4);this.addAttribute("skinWeight",h.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Fg);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new Fg,t=new Cg;return function(){null===this.boundingSphere&&(this.boundingSphere=new zg);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new iy(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,u,c=t.normal.array,l=new Cg,d=new Cg,f=new Cg,p=new Cg,h=new Cg;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],u=3*m[i+2],l.fromArray(n,a),d.fromArray(n,s),f.fromArray(n,u),p.subVectors(f,d),h.subVectors(l,d),p.cross(h),c[a]+=p.x,c[a+1]+=p.y,c[a+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[u]+=p.x,c[u+1]+=p.y,c[u+2]+=p.z}else for(i=0,o=n.length;i<o;i+=9)l.fromArray(n,i),d.fromArray(n,i+3),f.fromArray(n,i+6),p.subVectors(f,d),h.subVectors(l,d),p.cross(h),c[i]=p.x,c[i+1]=p.y,c[i+2]=p.z,c[i+3]=p.x,c[i+4]=p.y,c[i+5]=p.z,c[i+6]=p.x,c[i+7]=p.y,c[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,u=o.itemSize*t;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new Cg;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,u=t.length;s<u;s++){o=t[s]*r;for(var c=0;c<r;c++)i[a++]=n[o++]}return new iy(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new gy,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.addAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],u=a[i],c=0,l=u.length;c<l;c++){o=e(u[c],n);s.push(o)}t.morphAttributes[i]=s}for(var d=this.groups,f=(c=0,d.length);c<f;c++){var p=d[c];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new gy).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var d=l[n];this.addGroup(d.start,d.count,d.materialIndex)}var f=e.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),yy.prototype=Object.create(ry.prototype),yy.prototype.constructor=yy,by.prototype=Object.create(gy.prototype),by.prototype.constructor=by,xy.prototype=Object.create(ry.prototype),xy.prototype.constructor=xy,_y.prototype=Object.create(gy.prototype),_y.prototype.constructor=_y;var wy=0;function Ey(){Object.defineProperty(this,"id",{value:wy++}),this.uuid=Sg.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Qv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function Sy(e){Ey.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ty(e,t){this.origin=void 0!==e?e:new Cg,this.direction=void 0!==t?t:new Cg}function My(e,t,n){this.a=void 0!==e?e:new Cg,this.b=void 0!==t?t:new Cg,this.c=void 0!==n?n:new Cg}function Ay(e){Ey.call(this),this.type="MeshBasicMaterial",this.color=new Zg(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Cy(e,t){ty.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new gy,this.material=void 0!==t?t:new Ay({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function ky(e,t,n,r){var i,o,a=new Zg(0),s=0,u=null,c=0;function l(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),l(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){l(a,s=e)},render:function(t,r,d,f){var p=r.background;if(null===p?(l(a,s),u=null,c=0):p&&p.isColor&&(l(p,1),f=!0,u=null,c=0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===o&&((o=new Cy(new by(1,1,1),new Sy({type:"BackgroundCubeMaterial",uniforms:Gg(Yg.cube.uniforms),vertexShader:Yg.cube.vertexShader,fragmentShader:Yg.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var h=p.isWebGLRenderTargetCube?p.texture:p;o.material.uniforms.tCube.value=h,o.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,u===p&&c===h.version||(o.material.needsUpdate=!0,u=p,c=h.version),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new Cy(new _y(2,2),new Sy({type:"BackgroundMaterial",uniforms:Gg(Yg.background.uniforms),vertexShader:Yg.background.vertexShader,fragmentShader:Yg.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&c===p.version||(i.material.needsUpdate=!0,u=p,c=p.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Ly(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}function Oy(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),l=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),h=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=l>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:h,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:o?e.getParameter(36183):0}}function Ry(){var e=this,t=null,n=0,r=!1,i=!1,o=new Ug,a=new kg,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,r,i){var u=null!==t?t.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,d=n.matrixWorldInverse;a.getNormalMatrix(d),(null===c||c.length<l)&&(c=new Float32Array(l));for(var f=0,p=r;f!==u;++f,p+=4)o.copy(t[f]).applyMatrix4(d,a),o.normal.toArray(c,p),c[p+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=u,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,o,a,l,d,f){if(!r||null===e||0===e.length||i&&!a)i?c(null):u();else{var p=i?0:n,h=4*p,m=d.clippingState||null;s.value=m,m=c(e,l,h,f);for(var v=0;v!==h;++v)m[v]=t[v];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function Ny(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Py(e,t,n){var r={},i={};function o(e){var a=e.target,s=r[a.id];for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);a.removeEventListener("dispose",o),delete r[a.id];var c=i[s.id];c&&(t.remove(c),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new gy).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,u=a.length;s<u;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,o=[],a=e.index,s=e.attributes;if(null!==a)for(var u=0,c=(r=a.array).length;u<c;u+=3){var l=r[u+0],d=r[u+1],f=r[u+2];o.push(l,d,d,f,f,l)}else for(u=0,c=(r=s.position.array).length/3-1;u<c;u+=3){l=u+0,d=u+1,f=u+2;o.push(l,d,d,f,f,l)}return n=new(my(o)>65535?dy:cy)(o,1),t.update(n,34963),i[e.id]=n,n}}}function Iy(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,u,c){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,u*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}function jy(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Dy(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Fy(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,u=s.length,c=t[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];t[i.id]=c}var d=o.morphTargets&&i.morphAttributes.position,f=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<u;l++){0!==(p=c[l])[1]&&(d&&i.removeAttribute("morphTarget"+l),f&&i.removeAttribute("morphNormal"+l))}for(l=0;l<u;l++){(p=c[l])[0]=l,p[1]=s[l]}for(c.sort(Dy),l=0;l<8;l++){var p;if(p=c[l]){var h=p[0],m=p[1];if(m){d&&i.addAttribute("morphTarget"+l,d[h]),f&&i.addAttribute("morphNormal"+l,f[h]),n[l]=m;continue}}n[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function zy(e,t){var n={};return{update:function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},dispose:function(){n={}}}}function Uy(e,t,n,r,i,o,a,s,u,c){e=void 0!==e?e:[],t=void 0!==t?t:301,Rg.call(this,e,t,n,r,i,o,a,s,u,c),this.flipY=!1}function By(e,t,n,r){Rg.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=rg,this.minFilter=rg,this.generateMipmaps=!1,this.flipY=!1}Ey.prototype=Object.assign(Object.create(Jv.prototype),{constructor:Ey,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Sy.prototype=Object.create(Ey.prototype),Sy.prototype.constructor=Sy,Sy.prototype.isShaderMaterial=!0,Sy.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gg(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Sy.prototype.toJSON=function(e){var t=Ey.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Object.assign(Ty.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Cg),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new Cg;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Cg),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new Cg;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new Cg,t=new Cg,n=new Cg;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,d=.5*r.distanceTo(i),f=-this.direction.dot(t),p=n.dot(this.direction),h=-n.dot(t),m=n.lengthSq(),v=Math.abs(1-f*f);if(v>0)if(u=f*p-h,l=d*v,(s=f*h-p)>=0)if(u>=-l)if(u<=l){var g=1/v;c=(s*=g)*(s+f*(u*=g)+2*p)+u*(f*s+u+2*h)+m}else u=d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;else u=-d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;else u<=-l?c=-(s=Math.max(0,-(-f*d+p)))*s+(u=s>0?-d:Math.min(Math.max(-d,-h),d))*(u+2*h)+m:u<=l?(s=0,c=(u=Math.min(Math.max(-d,-h),d))*(u+2*h)+m):c=-(s=Math.max(0,-(f*d+p)))*s+(u=s>0?d:Math.min(Math.max(-d,-h),d))*(u+2*h)+m;else u=f>0?-d:d,c=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*h)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new Cg;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,d=this.origin;return u>=0?(n=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-d.z)*l,s=(e.max.z-d.z)*l):(a=(e.max.z-d.z)*l,s=(e.min.z-d.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new Cg;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new Cg,t=new Cg,n=new Cg,r=new Cg;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var d=c*this.direction.dot(n.crossVectors(e,n));if(d<0)return null;var f=c*this.direction.dot(t.cross(e));if(f<0)return null;if(d+f>l)return null;var p=-c*e.dot(r);return p<0?null:this.at(p/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(My,{getNormal:function(){var e=new Cg;return function(t,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Cg),i.subVectors(r,n),e.subVectors(t,n),i.cross(e);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new Cg,t=new Cg,n=new Cg;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var u=e.dot(e),c=e.dot(t),l=e.dot(n),d=t.dot(t),f=t.dot(n),p=u*d-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Cg),0===p)return s.set(-2,-1,-1);var h=1/p,m=(d*l-c*f)*h,v=(u*f-c*l)*h;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var e=new Cg;return function(t,n,r,i){return My.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new Cg;return function(t,n,r,i,o,a,s,u){return this.getBarycoord(t,n,r,i,e),u.set(0,0),u.addScaledVector(o,e.x),u.addScaledVector(a,e.y),u.addScaledVector(s,e.z),u}}()}),Object.assign(My.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new Cg,t=new Cg;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Cg),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return My.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Cg),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return My.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return My.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return My.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new Cg,t=new Cg,n=new Cg,r=new Cg,i=new Cg,o=new Cg;return function(a,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new Cg);var u,c,l=this.a,d=this.b,f=this.c;e.subVectors(d,l),t.subVectors(f,l),r.subVectors(a,l);var p=e.dot(r),h=t.dot(r);if(p<=0&&h<=0)return s.copy(l);i.subVectors(a,d);var m=e.dot(i),v=t.dot(i);if(m>=0&&v<=m)return s.copy(d);var g=p*v-m*h;if(g<=0&&p>=0&&m<=0)return u=p/(p-m),s.copy(l).addScaledVector(e,u);o.subVectors(a,f);var y=e.dot(o),b=t.dot(o);if(b>=0&&y<=b)return s.copy(f);var x=y*h-p*b;if(x<=0&&h>=0&&b<=0)return c=h/(h-b),s.copy(l).addScaledVector(t,c);var _=m*b-y*v;if(_<=0&&v-m>=0&&y-b>=0)return n.subVectors(f,d),c=(v-m)/(v-m+(y-b)),s.copy(d).addScaledVector(n,c);var w=1/(_+x+g);return u=x*w,c=g*w,s.copy(l).addScaledVector(e,u).addScaledVector(t,c)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Ay.prototype=Object.create(Ey.prototype),Ay.prototype.constructor=Ay,Ay.prototype.isMeshBasicMaterial=!0,Ay.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Cy.prototype=Object.assign(Object.create(ty.prototype),{constructor:Cy,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ty.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new Mg,t=new Ty,n=new zg,r=new Cg,i=new Cg,o=new Cg,a=new Cg,s=new Cg,u=new Cg,c=new Tg,l=new Tg,d=new Tg,f=new Cg,p=new Cg;function h(e,t,n,r,i,o,a,s){if(null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s)))return null;p.copy(s),p.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(p);return u<n.near||u>n.far?null:{distance:u,point:p.clone(),object:e}}function m(e,t,n,a,s,u,p,m,v){r.fromBufferAttribute(s,p),i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,v);var g=h(e,t,n,a,r,i,o,f);if(g){u&&(c.fromBufferAttribute(u,p),l.fromBufferAttribute(u,m),d.fromBufferAttribute(u,v),g.uv=My.getUV(f,r,i,o,c,l,d,new Tg));var y=new Jg(p,m,v);My.getNormal(r,i,o,y.normal),g.face=y}return g}return function(p,v){var g,y=this.geometry,b=this.material,x=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(x),!1!==p.ray.intersectsSphere(n)&&(e.getInverse(x),t.copy(p.ray).applyMatrix4(e),null===y.boundingBox||!1!==t.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var _,w,E,S,T,M,A,C,k,L=y.index,O=y.attributes.position,R=y.attributes.uv,N=y.groups,P=y.drawRange;if(null!==L)if(Array.isArray(b))for(S=0,M=N.length;S<M;S++)for(k=b[(C=N[S]).materialIndex],T=Math.max(C.start,P.start),A=Math.min(C.start+C.count,P.start+P.count);T<A;T+=3)_=L.getX(T),w=L.getX(T+1),E=L.getX(T+2),(g=m(this,k,p,t,O,R,_,w,E))&&(g.faceIndex=Math.floor(T/3),v.push(g));else for(S=Math.max(0,P.start),M=Math.min(L.count,P.start+P.count);S<M;S+=3)_=L.getX(S),w=L.getX(S+1),E=L.getX(S+2),(g=m(this,b,p,t,O,R,_,w,E))&&(g.faceIndex=Math.floor(S/3),v.push(g));else if(void 0!==O)if(Array.isArray(b))for(S=0,M=N.length;S<M;S++)for(k=b[(C=N[S]).materialIndex],T=Math.max(C.start,P.start),A=Math.min(C.start+C.count,P.start+P.count);T<A;T+=3)(g=m(this,k,p,t,O,R,_=T,w=T+1,E=T+2))&&(g.faceIndex=Math.floor(T/3),v.push(g));else for(S=Math.max(0,P.start),M=Math.min(O.count,P.start+P.count);S<M;S+=3)(g=m(this,b,p,t,O,R,_=S,w=S+1,E=S+2))&&(g.faceIndex=Math.floor(S/3),v.push(g))}else if(y.isGeometry){var I,j,D,F,z=Array.isArray(b),U=y.vertices,B=y.faces,V=y.faceVertexUvs[0];V.length>0&&(F=V);for(var G=0,H=B.length;G<H;G++){var W=B[G],Z=z?b[W.materialIndex]:b;if(void 0!==Z){if(I=U[W.a],j=U[W.b],D=U[W.c],!0===Z.morphTargets){var q=y.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var $=0,X=q.length;$<X;$++){var J=Y[$];if(0!==J){var K=q[$].vertices;r.addScaledVector(a.subVectors(K[W.a],I),J),i.addScaledVector(s.subVectors(K[W.b],j),J),o.addScaledVector(u.subVectors(K[W.c],D),J)}}r.add(I),i.add(j),o.add(D),I=r,j=i,D=o}if(g=h(this,Z,p,t,I,j,D,f)){if(F&&F[G]){var Q=F[G];c.copy(Q[0]),l.copy(Q[1]),d.copy(Q[2]),g.uv=My.getUV(f,I,j,D,c,l,d,new Tg)}g.face=W,g.faceIndex=G,v.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Uy.prototype=Object.create(Rg.prototype),Uy.prototype.constructor=Uy,Uy.prototype.isCubeTexture=!0,Object.defineProperty(Uy.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),By.prototype=Object.create(Rg.prototype),By.prototype.constructor=By,By.prototype.isDataTexture3D=!0;var Vy=new Rg,Gy=new By,Hy=new Uy;function Wy(){this.seq=[],this.map={}}var Zy=[],qy=[],Yy=new Float32Array(16),$y=new Float32Array(9),Xy=new Float32Array(4);function Jy(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Zy[i];if(void 0===o&&(o=new Float32Array(i),Zy[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Ky(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Qy(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function eb(e,t){var n=qy[t];void 0===n&&(n=new Int32Array(t),qy[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function tb(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function nb(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function rb(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ky(n,t))return;e.uniform2fv(this.addr,t),Qy(n,t)}}function ib(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ky(n,t))return;e.uniform3fv(this.addr,t),Qy(n,t)}}function ob(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ky(n,t))return;e.uniform4fv(this.addr,t),Qy(n,t)}}function ab(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ky(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Qy(n,t)}else{if(Ky(n,r))return;Xy.set(r),e.uniformMatrix2fv(this.addr,!1,Xy),Qy(n,r)}}function sb(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ky(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Qy(n,t)}else{if(Ky(n,r))return;$y.set(r),e.uniformMatrix3fv(this.addr,!1,$y),Qy(n,r)}}function ub(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ky(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Qy(n,t)}else{if(Ky(n,r))return;Yy.set(r),e.uniformMatrix4fv(this.addr,!1,Yy),Qy(n,r)}}function cb(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Vy,i)}function lb(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Gy,i)}function db(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Hy,i)}function fb(e,t){var n=this.cache;Ky(n,t)||(e.uniform2iv(this.addr,t),Qy(n,t))}function pb(e,t){var n=this.cache;Ky(n,t)||(e.uniform3iv(this.addr,t),Qy(n,t))}function hb(e,t){var n=this.cache;Ky(n,t)||(e.uniform4iv(this.addr,t),Qy(n,t))}function mb(e,t){var n=this.cache;Ky(n,t)||(e.uniform1fv(this.addr,t),Qy(n,t))}function vb(e,t){var n=this.cache;Ky(n,t)||(e.uniform1iv(this.addr,t),Qy(n,t))}function gb(e,t){var n=this.cache,r=Jy(t,this.size,2);Ky(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function yb(e,t){var n=this.cache,r=Jy(t,this.size,3);Ky(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function bb(e,t){var n=this.cache,r=Jy(t,this.size,4);Ky(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function xb(e,t){var n=this.cache,r=Jy(t,this.size,4);Ky(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function _b(e,t){var n=this.cache,r=Jy(t,this.size,9);Ky(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function wb(e,t){var n=this.cache,r=Jy(t,this.size,16);Ky(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Eb(e,t,n){var r=this.cache,i=t.length,o=eb(n,i);!1===Ky(r,o)&&(e.uniform1iv(this.addr,o),Qy(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||Vy,o[a])}function Sb(e,t,n){var r=this.cache,i=t.length,o=eb(n,i);!1===Ky(r,o)&&(e.uniform1iv(this.addr,o),Qy(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Hy,o[a])}function Tb(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return tb;case 35664:return rb;case 35665:return ib;case 35666:return ob;case 35674:return ab;case 35675:return sb;case 35676:return ub;case 35678:case 36198:return cb;case 35679:return lb;case 35680:return db;case 5124:case 35670:return nb;case 35667:case 35671:return fb;case 35668:case 35672:return pb;case 35669:case 35673:return hb}}(t.type)}function Mb(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return mb;case 35664:return gb;case 35665:return yb;case 35666:return bb;case 35674:return xb;case 35675:return _b;case 35676:return wb;case 35678:return Eb;case 35680:return Sb;case 5124:case 35670:return vb;case 35667:case 35671:return fb;case 35668:case 35672:return pb;case 35669:case 35673:return hb}}(t.type)}function Ab(e){this.id=e,Wy.call(this)}Mb.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Qy(t,e)},Ab.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var Cb=/([\w\d_]+)(\])?(\[|\.)?/g;function kb(e,t){e.seq.push(t),e.map[t.id]=t}function Lb(e,t,n){var r=e.name,i=r.length;for(Cb.lastIndex=0;;){var o=Cb.exec(r),a=Cb.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){kb(n,void 0===c?new Tb(s,e,t):new Mb(s,e,t));break}var l=n.map[s];void 0===l&&kb(n,l=new Ab(s)),n=l}}function Ob(e,t,n){Wy.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var o=e.getActiveUniform(t,i);Lb(o,e.getUniformLocation(t,o.name),this)}}function Rb(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}Ob.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},Ob.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Ob.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Ob.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var Nb=0;function Pb(e){switch(e){case Eg:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ib(e,t){var n=Pb(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function jb(e,t){var n=Pb(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Db(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Fb(e){return""!==e}function zb(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Ub(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Bb(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=Vg[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Bb(n)}))}function Vb(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}))}function Gb(e,t,n,r,i,o,a){var s=e.context,u=r.defines,c=i.vertexShader,l=i.fragmentShader,d="SHADOWMAP_TYPE_BASIC";1===o.shadowMapType?d="SHADOWMAP_TYPE_PCF":2===o.shadowMapType&&(d="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case 301:case 302:f="ENVMAP_TYPE_CUBE";break;case 306:case 307:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:h="ENVMAP_BLENDING_MULTIPLY";break;case 1:h="ENVMAP_BLENDING_MIX";break;case 2:h="ENVMAP_BLENDING_ADD"}}var m,v,g=e.gammaFactor>0?e.gammaFactor:1,y=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fb).join("\n")}(r.extensions,o,t),b=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),x=s.createProgram();if(r.isRawShaderMaterial?((m=[b].filter(Fb).join("\n")).length>0&&(m+="\n"),(v=[y,b].filter(Fb).join("\n")).length>0&&(v+="\n")):(m=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Fb).join("\n"),v=[y,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+p:"",o.envMap?"#define "+h:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?Vg.tonemapping_pars_fragment:"",0!==o.toneMapping?Db("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Vg.encodings_pars_fragment:"",o.mapEncoding?Ib("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Ib("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Ib("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ib("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?jb("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Fb).join("\n")),c=Ub(c=zb(c=Bb(c),o),o),l=Ub(l=zb(l=Bb(l),o),o),c=Vb(c),l=Vb(l),a.isWebGL2&&!r.isRawShaderMaterial){var _=!1,w=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(w)&&null!==l.match(w)&&(_=!0,c=c.replace(w,""),l=l.replace(w,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#version 300 es\n","#define varying in",_?"":"out highp vec4 pc_fragColor;",_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var E=v+l,S=Rb(s,35633,m+c),T=Rb(s,35632,E);s.attachShader(x,S),s.attachShader(x,T),void 0!==r.index0AttributeName?s.bindAttribLocation(x,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(x,0,"position"),s.linkProgram(x);var M,A,C=s.getProgramInfoLog(x).trim(),k=s.getShaderInfoLog(S).trim(),L=s.getShaderInfoLog(T).trim(),O=!0,R=!0;return!1===s.getProgramParameter(x,35714)?(O=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(x,35715),"gl.getProgramInfoLog",C,k,L)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==k&&""!==L||(R=!1),R&&(this.diagnostics={runnable:O,material:r,programLog:C,vertexShader:{log:k,prefix:m},fragmentShader:{log:L,prefix:v}}),s.deleteShader(S),s.deleteShader(T),this.getUniforms=function(){return void 0===M&&(M=new Ob(s,x,e)),M},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(s,x)),A},this.destroy=function(){s.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Nb++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=S,this.fragmentShader=T,this}function Hb(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Eg,n===Eg&&t&&(n=3007),n}this.getParameters=function(t,r,o,s,u,c,l){var d=i[t.type],f=l.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(l):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var h=e.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:a(h?h.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:a(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,o,a,s){for(var u,c=0,l=r.length;c<l;c++){var d=r[c];if(d.code===s){++(u=d).usedTimes;break}}return void 0===u&&(u=new Gb(e,t,s,i,o,a,n),r.push(u)),u},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Wb(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Zb(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function qb(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Yb(){var e=[],t=0,n=[],r=[];function i(n,r,i,o,a,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,program:i.program,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.program=i.program,u.groupOrder=o,u.renderOrder=n.renderOrder,u.z=a,u.group=s),t++,u}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,o,a,s,u){var c=i(e,t,o,a,s,u);(!0===o.transparent?r:n).push(c)},unshift:function(e,t,o,a,s,u){var c=i(e,t,o,a,s,u);(!0===o.transparent?r:n).unshift(c)},sort:function(){n.length>1&&n.sort(Zb),r.length>1&&r.sort(qb)}}}function $b(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i,o=e[n.id];return void 0===o?(i=new Yb,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===(i=o[r.id])&&(i=new Yb,o[r.id]=i),i},dispose:function(){e={}}}}function Xb(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Cg,color:new Zg,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Tg};break;case"SpotLight":n={position:new Cg,direction:new Cg,color:new Zg,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Tg};break;case"PointLight":n={position:new Cg,color:new Zg,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Tg,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Cg,skyColor:new Zg,groundColor:new Zg};break;case"RectAreaLight":n={color:new Zg,position:new Cg,halfWidth:new Cg,halfHeight:new Cg}}return e[t.id]=n,n}}}var Jb=0;function Kb(){var e=new Xb,t={id:Jb++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new Cg,r=new Mg,i=new Mg;return{setup:function(o,a,s){for(var u=0,c=0,l=0,d=0,f=0,p=0,h=0,m=0,v=s.matrixWorldInverse,g=0,y=o.length;g<y;g++){var b=o[g],x=b.color,_=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=x.r*_,c+=x.g*_,l+=x.b*_;else if(b.isDirectionalLight){if((T=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(v),T.shadow=b.castShadow,b.castShadow){var S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.directionalShadowMap[d]=E,t.directionalShadowMatrix[d]=b.shadow.matrix,t.directional[d]=T,d++}else if(b.isSpotLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),T.color.copy(x).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(v),T.coneCos=Math.cos(b.angle),T.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=T,p++}else if(b.isRectAreaLight){(T=e.get(b)).color.copy(x).multiplyScalar(_),T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),i.identity(),r.copy(b.matrixWorld),r.premultiply(v),i.extractRotation(r),T.halfWidth.set(.5*b.width,0,0),T.halfHeight.set(0,.5*b.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),t.rectArea[h]=T,h++}else if(b.isPointLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(v),T.color.copy(b.color).multiplyScalar(b.intensity),T.distance=b.distance,T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,T.shadowCameraNear=S.camera.near,T.shadowCameraFar=S.camera.far}t.pointShadowMap[f]=E,t.pointShadowMatrix[f]=b.shadow.matrix,t.point[f]=T,f++}else if(b.isHemisphereLight){var T;(T=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(v),T.direction.normalize(),T.skyColor.copy(b.color).multiplyScalar(_),T.groundColor.copy(b.groundColor).multiplyScalar(_),t.hemi[m]=T,m++}}t.ambient[0]=u,t.ambient[1]=c,t.ambient[2]=l,t.directional.length=d,t.spot.length=p,t.rectArea.length=h,t.point.length=f,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=d,t.hash.pointLength=f,t.hash.spotLength=p,t.hash.rectAreaLength=h,t.hash.hemiLength=m,t.hash.shadowsLength=a.length},state:t}}function Qb(){var e=new Kb,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function ex(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i;return void 0===e[n.id]?(i=new Qb,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(i=new Qb,e[n.id][r.id]=i):i=e[n.id][r.id],i},dispose:function(){e={}}}}function tx(e){Ey.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function nx(e){Ey.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Cg,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function rx(e,t,n){for(var r=new Bg,i=new Mg,o=new Tg,a=new Tg(n,n),s=new Cg,u=new Cg,c=new Array(4),l=new Array(4),d={},f={0:1,1:0,2:2},p=[new Cg(1,0,0),new Cg(-1,0,0),new Cg(0,0,1),new Cg(0,0,-1),new Cg(0,1,0),new Cg(0,-1,0)],h=[new Cg(0,1,0),new Cg(0,1,0),new Cg(0,1,0),new Cg(0,1,0),new Cg(0,0,1),new Cg(0,0,-1)],m=[new Ng,new Ng,new Ng,new Ng,new Ng,new Ng],v=0;4!==v;++v){var g=0!==(1&v),y=0!==(2&v),b=new tx({depthPacking:3201,morphTargets:g,skinning:y});c[v]=b;var x=new nx({morphTargets:g,skinning:y});l[v]=x}var _=this;function w(t,n,r,i,o,a){var s=t.geometry,u=null,p=c,h=t.customDepthMaterial;if(r&&(p=l,h=t.customDistanceMaterial),h)u=h;else{var m=!1;n.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var v=0;m&&(v|=1),t.isSkinnedMesh&&n.skinning&&(v|=2),u=p[v]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var g=u.uuid,y=n.uuid,b=d[g];void 0===b&&(b={},d[g]=b);var x=b[y];void 0===x&&(x=u.clone(),b[y]=x),u=x}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null!=n.shadowSide?n.shadowSide:f[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function E(n,i,o,a){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var s=t.update(n),c=n.material;if(Array.isArray(c))for(var l=s.groups,d=0,f=l.length;d<f;d++){var p=l[d],h=c[p.materialIndex];if(h&&h.visible){var m=w(n,h,a,u,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,p)}}else if(c.visible){m=w(n,c,a,u,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)E(v[g],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,c){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==t.length){var l,d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,v=t.length;f<v;f++){var g=t[f],y=g.shadow,b=g&&g.isPointLight;if(void 0!==y){var x=y.camera;if(o.copy(y.mapSize),o.min(a),b){var w=o.x,S=o.y;m[0].set(2*w,S,w,S),m[1].set(0,S,w,S),m[2].set(3*w,S,w,S),m[3].set(w,S,w,S),m[4].set(3*w,0,w,S),m[5].set(w,0,w,S),o.x*=4,o.y*=2}if(null===y.map){var T={minFilter:rg,magFilter:rg,format:hg};y.map=new Pg(o.x,o.y,T),y.map.texture.name=g.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var M=y.map,A=y.matrix;u.setFromMatrixPosition(g.matrixWorld),x.position.copy(u),b?(l=6,A.makeTranslation(-u.x,-u.y,-u.z)):(l=1,s.setFromMatrixPosition(g.target.matrixWorld),x.lookAt(s),x.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse)),e.setRenderTarget(M),e.clear();for(var C=0;C<l;C++){if(b){s.copy(x.position),s.add(p[C]),x.up.copy(h[C]),x.lookAt(s),x.updateMatrixWorld();var k=m[C];d.viewport(k)}i.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),r.setFromMatrix(i),E(n,c,x,b)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}_.needsUpdate=!1}}}function ix(e,t,n,r){var i=new function(){var t=!1,n=new Ng,r=null,i=new Ng(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?z(2929):U(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?z(2960):U(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}},s=e.getParameter(34921),u=new Uint8Array(s),c=new Uint8Array(s),l=new Uint8Array(s),d={},f=null,p=null,h=null,m=null,v=null,g=null,y=null,b=null,x=null,_=null,w=!1,E=null,S=null,T=null,M=null,A=null,C=e.getParameter(35661),k=!1,L=0,O=e.getParameter(7938);-1!==O.indexOf("WebGL")?(L=parseFloat(/^WebGL\ ([0-9])/.exec(O)[1]),k=L>=1):-1!==O.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(O)[1]),k=L>=2);var R=null,N={},P=new Ng,I=new Ng;function j(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var D={};function F(n,i){(u[n]=1,0===c[n]&&(e.enableVertexAttribArray(n),c[n]=1),l[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),l[n]=i)}function z(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function U(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}function B(t,r,i,o,a,s,u,c){if(0!==t){if(h||(z(3042),h=!0),5===t)a=a||r,s=s||i,u=u||o,r===v&&a===b||(e.blendEquationSeparate(n.convert(r),n.convert(a)),v=r,b=a),i===g&&o===y&&s===x&&u===_||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(u)),g=i,y=o,x=s,_=u),m=t,w=null;else if(t!==m||c!==w){if(v===Qv&&b===Qv||(e.blendEquation(32774),v=Qv,b=Qv),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,x=null,_=null,m=t,w=c}}else h&&(U(3042),h=!1)}function V(t){E!==t&&(t?e.frontFace(2304):e.frontFace(2305),E=t)}function G(t){0!==t?(z(2884),t!==S&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):U(2884),S=t}function H(t,n,r){t?(z(32823),M===n&&A===r||(e.polygonOffset(n,r),M=n,A=r)):U(32823)}function W(t){void 0===t&&(t=33984+C-1),R!==t&&(e.activeTexture(t),R=t)}return D[3553]=j(3553,3553,1),D[34067]=j(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),z(2929),o.setFunc(3),V(!1),G(1),z(2884),B(0),{buffers:{color:i,depth:o,stencil:a},initAttributes:function(){for(var e=0,t=u.length;e<t;e++)u[e]=0},enableAttribute:function(e){F(e,0)},enableAttributeAndDivisor:F,disableUnusedAttributes:function(){for(var t=0,n=c.length;t!==n;++t)c[t]!==u[t]&&(e.disableVertexAttribArray(t),c[t]=0)},enable:z,disable:U,getCompressedTextureFormats:function(){if(null===f&&(f=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)f.push(n[r]);return f},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:B,setMaterial:function(e,t){2===e.side?U(2884):z(2884);var n=1===e.side;t&&(n=!n),V(n),1===e.blending&&!1===e.transparent?B(0):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite),H(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:V,setCullFace:G,setLineWidth:function(t){t!==T&&(k&&e.lineWidth(t),T=t)},setPolygonOffset:H,setScissorTest:function(e){e?z(3089):U(3089)},activeTexture:W,bindTexture:function(t,n){null===R&&W();var r=N[R];void 0===r&&(r={type:void 0,texture:void 0},N[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||D[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===P.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),P.copy(t))},viewport:function(t){!1===I.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){for(var t=0;t<c.length;t++)1===c[t]&&(e.disableVertexAttribArray(t),c[t]=0);d={},f=null,R=null,N={},p=null,m=null,E=null,S=null,i.reset(),o.reset(),a.reset()}}}function ox(e,t,n,r,i,o,a){var s,u={};function c(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var o=n?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):s,a=t?Sg.floorPowerOfTwo:Math.floor;return o.width=a(i*e.width),o.height=a(i*e.height),o.getContext("2d").drawImage(e,0,0,o.width,o.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o.width+"x"+o.height+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function l(e){return Sg.isPowerOfTwo(e.width)&&Sg.isPowerOfTwo(e.height)}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==rg&&e.minFilter!==ag}function f(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function p(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function h(e){return e===rg||e===ig||e===og?9728:9729}function m(t){var n=t.target;n.removeEventListener("dispose",m),function(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}(n),n.isVideoTexture&&delete u[n.id],a.memory.textures--}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}function g(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=a.render.frame;u[t]!==n&&(u[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void b(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function y(n,a,s){var u;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),a.wrapS===tg&&a.wrapT===tg||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,h(a.magFilter)),e.texParameteri(n,10241,h(a.minFilter)),a.minFilter!==rg&&a.minFilter!==ag&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===lg&&null===t.get("OES_texture_float_linear"))return;if(a.type===dg&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function b(t,r,s){var u;u=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(u,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var h=function(e){return!i.isWebGL2&&(e.wrapS!==tg||e.wrapT!==tg||e.minFilter!==rg&&e.minFilter!==ag)}(r)&&!1===l(r.image),v=c(r.image,h,!1,i.maxTextureSize),g=l(v),b=o.convert(r.format),x=o.convert(r.type),_=p(b,x);y(u,r,g);var w,E=r.mipmaps;if(r.isDepthTexture){if(_=6402,r.type===lg){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");_=36012}else i.isWebGL2&&(_=33189);r.format===mg&&6402===_&&r.type!==cg&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=cg,x=o.convert(r.type)),r.format===vg&&(_=34041,r.type!==fg&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=fg,x=o.convert(r.type))),n.texImage2D(3553,0,_,v.width,v.height,0,b,x,null)}else if(r.isDataTexture){if(E.length>0&&g){for(var S=0,T=E.length;S<T;S++)w=E[S],n.texImage2D(3553,S,_,w.width,w.height,0,b,x,w.data);r.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else n.texImage2D(3553,0,_,v.width,v.height,0,b,x,v.data),t.__maxMipLevel=0;r.isCfxTexture&&(console.log("f?"),e.texParameterf(3553,10243,33071),e.texParameterf(3553,10243,33648),e.texParameterf(3553,10243,10497))}else if(r.isCompressedTexture){for(S=0,T=E.length;S<T;S++)w=E[S],r.format!==hg&&r.format!==pg?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(3553,S,_,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,_,w.width,w.height,0,b,x,w.data);t.__maxMipLevel=E.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,_,v.width,v.height,v.depth,0,b,x,v.data),t.__maxMipLevel=0;else if(E.length>0&&g){for(S=0,T=E.length;S<T;S++)w=E[S],n.texImage2D(3553,S,_,b,x,w);r.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else n.texImage2D(3553,0,_,b,x,v),t.__maxMipLevel=0;d(r,g)&&f(3553,r,v.width,v.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function x(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type),l=p(u,c);n.texImage2D(s,0,l,i.width,i.height,0,u,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function _(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=E(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=E(n);e.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=p(o.convert(n.texture.format),o.convert(n.texture.type));if(r){i=E(n);e.renderbufferStorageMultisample(36161,i,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function w(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===mg)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==vg)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),_(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),_(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function E(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}this.setTexture2D=g,this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?b(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,s){var u=r.get(t);if(6===t.image.length)if(t.version>0&&u.__version!==t.version){u.__image__webglTextureCube||(t.addEventListener("dispose",m),u.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var h=t&&t.isCompressedTexture,v=t.image[0]&&t.image[0].isDataTexture,g=[],b=0;b<6;b++)g[b]=h||v?v?t.image[b].image:t.image[b]:c(t.image[b],!1,!0,i.maxCubemapSize);var x=g[0],_=l(x),w=o.convert(t.format),E=o.convert(t.type),S=p(w,E);y(34067,t,_);for(b=0;b<6;b++)if(h)for(var T,M=g[b].mipmaps,A=0,C=M.length;A<C;A++)T=M[A],t.format!==hg&&t.format!==pg?n.getCompressedTextureFormats().indexOf(w)>-1?n.compressedTexImage2D(34069+b,A,S,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+b,A,S,T.width,T.height,0,w,E,T.data);else v?n.texImage2D(34069+b,0,S,g[b].width,g[b].height,0,w,E,g[b].data):n.texImage2D(34069+b,0,S,w,E,g[b]);u.__maxMipLevel=h?M.length-1:0,d(t,_)&&f(34067,t,x.width,x.height),u.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var s=r.get(t),u=r.get(t.texture);t.addEventListener("dispose",v),u.__webglTexture=e.createTexture(),a.memory.textures++;var c=!0===t.isWebGLRenderTargetCube,h=!0===t.isWebGLMultisampleRenderTarget,m=l(t);if(c){s.__webglFramebuffer=[];for(var g=0;g<6;g++)s.__webglFramebuffer[g]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),h)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var b=p(o.convert(t.texture.format),o.convert(t.texture.type)),S=E(t);e.renderbufferStorageMultisample(36161,S,b,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),_(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,u.__webglTexture),y(34067,t.texture,m);for(g=0;g<6;g++)x(s.__webglFramebuffer[g],t,36064,34069+g);d(t.texture,m)&&f(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,u.__webglTexture),y(3553,t.texture,m),x(s.__webglFramebuffer,t,36064,3553),d(t.texture,m)&&f(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&w(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(d(t,l(e))){var i=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),f(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function ax(e,t,n){return{convert:function(e){var r;if(e===eg)return 10497;if(e===tg)return 33071;if(e===ng)return 33648;if(e===rg)return 9728;if(e===ig)return 9984;if(e===og)return 9986;if(e===ag)return 9729;if(1007===e)return 9985;if(e===sg)return 9987;if(e===ug)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===cg)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(e===lg)return 5126;if(e===dg){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===e)return 6406;if(e===pg)return 6407;if(e===hg)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===mg)return 6402;if(e===vg)return 34041;if(1028===e)return 6403;if(e===Qv)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(204===e)return 770;if(205===e)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(e===fg){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function sx(){ty.call(this),this.type="Group"}function ux(){ty.call(this),this.type="Camera",this.matrixWorldInverse=new Mg,this.projectionMatrix=new Mg,this.projectionMatrixInverse=new Mg}function cx(e,t,n,r){ux.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function lx(e){cx.call(this),this.cameras=e||[]}tx.prototype=Object.create(Ey.prototype),tx.prototype.constructor=tx,tx.prototype.isMeshDepthMaterial=!0,tx.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},nx.prototype=Object.create(Ey.prototype),nx.prototype.constructor=nx,nx.prototype.isMeshDistanceMaterial=!0,nx.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},sx.prototype=Object.assign(Object.create(ty.prototype),{constructor:sx,isGroup:!0}),ux.prototype=Object.assign(Object.create(ty.prototype),{constructor:ux,isCamera:!0,copy:function(e,t){return ty.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Cg),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ty.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),cx.prototype=Object.assign(Object.create(ux.prototype),{constructor:cx,isPerspectiveCamera:!0,copy:function(e,t){return ux.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Sg.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Sg.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Sg.RAD2DEG*Math.atan(Math.tan(.5*Sg.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Sg.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ty.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),lx.prototype=Object.assign(Object.create(cx.prototype),{constructor:lx,isArrayCamera:!0});var dx,fx=new Cg,px=new Cg;function hx(e,t,n){fx.setFromMatrixPosition(t.matrixWorld),px.setFromMatrixPosition(n.matrixWorld);var r=fx.distanceTo(px),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],c=(i[9]-1)/i[5],l=(i[8]-1)/i[0],d=(o[8]+1)/o[0],f=a*l,p=a*d,h=r/(-l+d),m=h*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+h,g=s+h,y=f-m,b=p+(r-m),x=u*s/g*v,_=c*s/g*v;e.projectionMatrix.makePerspective(y,b,x,_,v,g)}function mx(e){var t=this,n=null,r=null,i=null,o=[],a=new Mg,s=new Mg,u=1,c="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var l=new Mg,d=new Ag,f=new Cg,p=new cx;p.bounds=new Ng(0,0,.5,1),p.layers.enable(1);var h=new cx;h.bounds=new Ng(.5,0,.5,1),h.layers.enable(2);var m,v,g=new lx([p,h]);function y(){return null!==n&&!0===n.isPresenting}function b(){if(y()){var r=n.getEyeParameters("left"),i=r.renderWidth*u,o=r.renderHeight*u;v=e.getPixelRatio(),m=e.getSize(),e.setDrawingBufferSize(2*i,o,1),w.start()}else t.enabled&&e.setDrawingBufferSize(m.width,m.height,v),w.stop()}g.layers.enable(1),g.layers.enable(2);var x=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new sx).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),w.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setFrameOfReferenceType=function(e){c=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===c?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===c){var u=n.stageParameters;u?a.fromArray(u.sittingToStandingTransform):a.makeTranslation(0,t,0)}var m=r.pose,v=null!==i?i:e;if(v.matrix.copy(a),v.matrix.decompose(v.position,v.quaternion,v.scale),null!==m.orientation&&(d.fromArray(m.orientation),v.quaternion.multiply(d)),null!==m.position&&(d.setFromRotationMatrix(a),f.fromArray(m.position),f.applyQuaternion(d),v.position.add(f)),v.updateMatrixWorld(),!1===n.isPresenting)return e;p.near=e.near,h.near=e.near,p.far=e.far,h.far=e.far,p.matrixWorldInverse.fromArray(r.leftViewMatrix),h.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(a),"stage"===c&&(p.matrixWorldInverse.multiply(s),h.matrixWorldInverse.multiply(s));var y=v.parent;null!==y&&(l.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(l),h.matrixWorldInverse.multiply(l)),p.matrixWorld.getInverse(p.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),h.projectionMatrix.fromArray(r.rightProjectionMatrix),hx(g,p,h);var b=n.getLayers();if(b.length){var w=b[0];null!==w.leftBounds&&4===w.leftBounds.length&&p.bounds.fromArray(w.leftBounds),null!==w.rightBounds&&4===w.rightBounds.length&&h.bounds.fromArray(w.rightBounds)}return function(){for(var e=0;e<o.length;e++){var t=o[e],n=_(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(a),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;x[e]!==n.buttons[i].pressed&&(x[e]=n.buttons[i].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return a},this.isPresenting=y;var w=new $g;this.setAnimationLoop=function(e){w.setAnimationLoop(e)},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function vx(e){var t=e.context,n=null,r=null,i=1,o=null,a="stage",s=null,u=[],c=[];function l(){return null!==r&&null!==o}var d=new cx;d.layers.enable(1),d.viewport=new Ng;var f=new cx;f.layers.enable(2),f.viewport=new Ng;var p=new lx([d,f]);function h(e){var t=u[c.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),y.stop()}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=u[e];return void 0===t&&((t=new sx).matrixAutoUpdate=!1,t.visible=!1,u[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){a=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",h),r.addEventListener("selectstart",h),r.addEventListener("selectend",h),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(a).then((function(t){o=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()})),c=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){c=r.getInputSources(),console.log(c);for(var e=0;e<u.length;e++){u[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(l()){var t=e.parent,n=p.cameras;v(p,t);for(var r=0;r<n.length;r++)v(n[r],t);e.matrixWorld.copy(p.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return hx(p,d,f),p}return e},this.isPresenting=l;var g=null;var y=new $g;y.setAnimationLoop((function(e,t){if(null!==(s=t.getDevicePose(o)))for(var n=r.baseLayer,i=t.views,a=0;a<i.length;a++){var l=i[a],d=n.getViewport(l),f=s.getViewMatrix(l),h=p.cameras[a];h.matrix.fromArray(f).getInverse(h.matrix),h.projectionMatrix.fromArray(l.projectionMatrix),h.viewport.set(d.x,d.y,d.width,d.height),0===a&&p.matrix.copy(h.matrix)}for(a=0;a<u.length;a++){var m=u[a],v=c[a];if(v){var y=t.getInputPose(v,o);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(e)})),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function gx(e){console.log("THREE.WebGLRenderer","101dev");var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",l=null,d=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,p,h,m,v,g,y,b,x,_,w,E,S,T,M,A,C,k,L=this,O=!1,R=null,N=null,P=null,I=-1,j={geometry:null,program:null,wireframe:!1},D=null,F=null,z=new Ng,U=new Ng,B=null,V=0,G=t.width,H=t.height,W=1,Z=new Ng(0,0,G,H),q=new Ng(0,0,G,H),Y=!1,$=new Bg,X=new Ry,J=!1,K=!1,Q=new Mg,ee=new Cg;function te(){return null===N?W:1}try{var ne={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c};if(t.addEventListener("webglcontextlost",ae,!1),t.addEventListener("webglcontextrestored",se,!1),null===(f=n||t.getContext("webgl",ne)||t.getContext("experimental-webgl",ne)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(xe){console.error("THREE.WebGLRenderer: "+xe.message)}function re(){p=new Ny(f),(h=new Oy(f,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),k=new ax(f,p,h),(m=new ix(f,p,k,h)).scissor(U.copy(q).multiplyScalar(W)),m.viewport(z.copy(Z).multiplyScalar(W)),v=new jy(f),g=new Wb,y=new ox(f,p,m,g,h,k,v),b=new Xg(f),x=new Py(f,b,v),_=new zy(x,v),M=new Fy(f),w=new Hb(L,p,h),E=new $b,S=new ex,T=new ky(L,m,_,s),A=new Ly(f,p,v,h),C=new Iy(f,p,v,h),v.programs=w.programs,L.context=f,L.capabilities=h,L.extensions=p,L.properties=g,L.renderLists=E,L.state=m,L.info=v}re();var ie=null;"undefined"!==typeof navigator&&(ie="xr"in navigator?new vx(L):new mx(L)),this.vr=ie;var oe=new rx(L,_,h.maxTextureSize);function ae(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function se(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,re()}function ue(e){var t=e.target;t.removeEventListener("dispose",ue),function(e){ce(e),g.remove(e)}(t)}function ce(e){var t=g.get(e).program;e.program=void 0,void 0!==t&&w.releaseProgram(t)}this.shadowMap=oe,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(e){void 0!==e&&(W=e,this.setSize(G,H,!1))},this.getSize=function(){return{width:G,height:H}},this.setSize=function(e,n,r){ie.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,H=n,t.width=e*W,t.height=n*W,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:G*W,height:H*W}},this.setDrawingBufferSize=function(e,n,r){G=e,H=n,W=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return z},this.setViewport=function(e,t,n,r){Z.set(e,H-t-r,n,r),m.viewport(z.copy(Z).multiplyScalar(W))},this.setScissor=function(e,t,n,r){q.set(e,H-t-r,n,r),m.scissor(U.copy(q).multiplyScalar(W))},this.setScissorTest=function(e){m.setScissorTest(Y=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ae,!1),t.removeEventListener("webglcontextrestored",se,!1),E.dispose(),S.dispose(),g.dispose(),_.dispose(),ie.dispose(),de.stop()},this.renderBufferImmediate=function(e,t){m.initAttributes();var n=g.get(e);e.hasPositions&&!n.position&&(n.position=f.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),e.hasColors&&!n.color&&(n.color=f.createBuffer());var r=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,e.positionArray,35048),m.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,e.normalArray,35048),m.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,e.uvArray,35048),m.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,e.colorArray,35048),m.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),m.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;m.setMaterial(r,a);var s=ve(e,t,r,i),u=!1;j.geometry===n.id&&j.program===s.id&&j.wireframe===(!0===r.wireframe)||(j.geometry=n.id,j.program=s.id,j.wireframe=!0===r.wireframe,u=!0),i.morphTargetInfluences&&(M.update(i,n,r,s),u=!0);var c,l=n.index,d=n.attributes.position,v=1;!0===r.wireframe&&(l=x.getWireframeAttribute(n),v=2);var g=A;null!==l&&(c=b.get(l),(g=C).setIndex(c)),u&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&!h.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var u=r[a];if(void 0!==u){var c=u.normalized,l=u.itemSize,d=b.get(u);if(void 0===d)continue;var v=d.buffer,g=d.type,y=d.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,_=x.stride,w=u.offset;x&&x.isInstancedInterleavedBuffer?(m.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=x.meshPerAttribute*x.count)):m.enableAttribute(s),f.bindBuffer(34962,v),f.vertexAttribPointer(s,l,g,c,_*y,w*y)}else u.isInstancedBufferAttribute?(m.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):m.enableAttribute(s),f.bindBuffer(34962,v),f.vertexAttribPointer(s,l,g,c,0,0)}else if(void 0!==o){var E=o[a];if(void 0!==E)switch(E.length){case 2:f.vertexAttrib2fv(s,E);break;case 3:f.vertexAttrib3fv(s,E);break;case 4:f.vertexAttrib4fv(s,E);break;default:f.vertexAttrib1fv(s,E)}}}}m.disableUnusedAttributes()}(r,s,n),null!==l&&f.bindBuffer(34963,c.buffer));var y=1/0;null!==l?y=l.count:void 0!==d&&(y=d.count);var _=n.drawRange.start*v,w=n.drawRange.count*v,E=null!==o?o.start*v:0,S=null!==o?o.count*v:1/0,T=Math.max(_,E),k=Math.min(y,_+w,E+S)-1,L=Math.max(0,k-T+1);if(0!==L){if(i.isMesh)if(!0===r.wireframe)m.setLineWidth(r.wireframeLinewidth*te()),g.setMode(1);else switch(i.drawMode){case 0:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(i.isLine){var O=r.linewidth;void 0===O&&(O=1),m.setLineWidth(O*te()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&g.renderInstances(n,T,L):g.render(T,L)}},this.compile=function(e,t){(d=S.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)me(t.material[n],e.fog,t);else me(t.material,e.fog,t)}))};var le=null;var de=new $g;function fe(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||$.intersectsSprite(e)){r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q);var i=_.update(e),o=e.material;l.push(e,i,o,n,ee.z,null)}}else if(e.isImmediateRenderObject)r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q),l.push(e,null,e.material,n,ee.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||$.intersectsObject(e))){r&&ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Q);i=_.update(e),o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],f=o[c.materialIndex];f&&f.visible&&l.push(e,i,f,n,ee.z,c)}else o.visible&&l.push(e,i,o,n,ee.z,null)}var p=e.children;for(s=0,u=p.length;s<u;s++)fe(p[s],t,n,r)}}function pe(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){F=n;for(var f=n.cameras,p=0,h=f.length;p<h;p++){var v=f[p];if(s.layers.test(v.layers)){if("viewport"in v)m.viewport(z.copy(v.viewport));else{var g=v.bounds,y=g.x*G,b=g.y*H,x=g.z*G,_=g.w*H;m.viewport(z.set(y,b,x,_).multiplyScalar(W))}d.setupLights(v),he(s,t,v,u,c,l)}}}else F=null,he(s,t,n,u,c,l)}}function he(e,t,n,r,i,o){if(e.onBeforeRender(L,t,n,r,i,o),d=S.get(t,F||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){m.setMaterial(i);var a=ve(n,t.fog,i,e);j.geometry=null,j.program=null,j.wireframe=!1,function(e,t){e.render((function(e){L.renderBufferImmediate(e,t)}))}(e,a)}else L.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(L,t,n,r,i,o),d=S.get(t,F||n)}function me(e,t,n){var r=g.get(e),i=d.state.lights,o=d.state.shadowsArray,a=r.lightsHash,s=i.state.hash,u=w.getParameters(e,i.state,o,t,X.numPlanes,X.numIntersection,n),c=w.getProgramCode(e,u),l=r.program,f=!0;if(void 0===l)e.addEventListener("dispose",ue);else if(l.code!==c)ce(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,f=!1;else{if(void 0!==u.shaderID)return;f=!1}if(f){if(u.shaderID){var p=Yg[u.shaderID];r.shader={name:e.type,uniforms:Gg(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,L),c=w.getProgramCode(e,u),l=w.acquireProgram(e,r.shader,u,c),r.program=l,e.program=l}var h=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<L.maxMorphTargets;m++)h["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<L.maxMorphNormals;m++)h["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=X.numPlanes,r.numIntersection=X.numIntersection,v.clippingPlanes=X.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=i.state.ambient,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=r.program.getUniforms(),b=Ob.seqWithValue(y.seq,v);r.uniformsList=b}function ve(e,t,n,r){V=0;var i=g.get(n),o=d.state.lights,a=i.lightsHash,s=o.state.hash;if(J&&(K||e!==D)){var u=e===D&&n.id===I;X.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,u)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===X.numPlanes&&i.numIntersection===X.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(me(n,t,r),n.needsUpdate=!1);var c,l,p=!1,v=!1,y=!1,b=i.program,x=b.getUniforms(),_=i.shader.uniforms;if(m.useProgram(b.program)&&(p=!0,v=!0,y=!0),n.id!==I&&(I=n.id,v=!0),p||D!==e){if(x.setValue(f,"projectionMatrix",e.projectionMatrix),h.logarithmicDepthBuffer&&x.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),D!==e&&(D=e,v=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var w=x.map.cameraPosition;void 0!==w&&w.setValue(f,ee.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&x.setValue(f,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){x.setOptional(f,r,"bindMatrix"),x.setOptional(f,r,"bindMatrixInverse");var E=r.skeleton;if(E){var S=E.bones;if(h.floatVertexTextures){if(void 0===E.boneTexture){var T=Math.sqrt(4*S.length);T=Sg.ceilPowerOfTwo(T),T=Math.max(T,4);var M=new Float32Array(T*T*4);M.set(E.boneMatrices);var A=new Dg(M,T,T,hg,lg);A.needsUpdate=!0,E.boneMatrices=M,E.boneTexture=A,E.boneTextureSize=T}x.setValue(f,"boneTexture",E.boneTexture),x.setValue(f,"boneTextureSize",E.boneTextureSize)}else x.setOptional(f,E,"boneMatrices")}}return v&&(x.setValue(f,"toneMappingExposure",L.toneMappingExposure),x.setValue(f,"toneMappingWhitePoint",L.toneMappingWhitePoint),n.lights&&(l=y,(c=_).ambientLightColor.needsUpdate=l,c.directionalLights.needsUpdate=l,c.pointLights.needsUpdate=l,c.spotLights.needsUpdate=l,c.rectAreaLights.needsUpdate=l,c.hemisphereLights.needsUpdate=l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(_,t),n.isMeshBasicMaterial?ge(_,n):n.isMeshLambertMaterial?(ge(_,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(_,n)):n.isMeshPhongMaterial?(ge(_,n),n.isMeshToonMaterial?function(e,t){ye(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(_,n):ye(_,n)):n.isMeshStandardMaterial?(ge(_,n),n.isMeshPhysicalMaterial?function(e,t){be(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(_,n):be(_,n)):n.isMeshMatcapMaterial?(ge(_,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDepthMaterial?(ge(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDistanceMaterial?(ge(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(_,n)):n.isMeshNormalMaterial?(ge(_,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(_,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(_,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*W,e.scale.value=.5*H,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isShadowMaterial&&(_.color.value=n.color,_.opacity.value=n.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=qg.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=qg.LTC_2),Ob.upload(f,i.uniformsList,_,L)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ob.upload(f,i.uniformsList,_,L),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(f,"center",r.center),x.setValue(f,"modelViewMatrix",r.modelViewMatrix),x.setValue(f,"normalMatrix",r.normalMatrix),x.setValue(f,"modelMatrix",r.matrixWorld),b}function ge(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=g.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function ye(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function be(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}de.setAnimationLoop((function(e){ie.isPresenting()||le&&le(e)})),"undefined"!==typeof window&&de.setContext(window),this.setAnimationLoop=function(e){le=e,ie.setAnimationLoop(e),de.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!O){j.geometry=null,j.program=null,j.wireframe=!1,I=-1,D=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ie.enabled&&(t=ie.getCamera(t)),(d=S.get(e,t)).init(),e.onBeforeRender(L,e,t,n),Q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),$.setFromMatrix(Q),K=this.localClippingEnabled,J=X.init(this.clippingPlanes,K,t),(l=E.get(e,t)).init(),fe(e,t,0,L.sortObjects),!0===L.sortObjects&&l.sort(),J&&X.beginShadows();var i=d.state.shadowsArray;oe.render(i,e,t),d.setupLights(t),J&&X.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),T.render(l,e,t,r);var o=l.opaque,a=l.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&pe(o,e,t,s),a.length&&pe(a,e,t,s)}else o.length&&pe(o,e,t),a.length&&pe(a,e,t);n&&(y.updateRenderTargetMipmap(n),y.updateMultisampleRenderTarget(n)),m.buffers.depth.setTest(!0),m.buffers.depth.setMask(!0),m.buffers.color.setMask(!0),m.setPolygonOffset(!1),e.onAfterRender(L,e,t),ie.enabled&&ie.submitFrame(),l=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=V;return e>=h.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+h.maxTextures),V+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),y.setTexture2D(t,n)}}(),this.setTexture3D=function(e,t){y.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),y.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?y.setTextureCube(t,n):y.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){R=e},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e){N=e,e&&void 0===g.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var t=R,n=!1;if(e){var r=g.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=e.isWebGLMultisampleRenderTarget?g.get(e).__webglMultisampledFramebuffer:r,z.copy(e.viewport),U.copy(e.scissor),B=e.scissorTest}else z.copy(Z).multiplyScalar(W),U.copy(q).multiplyScalar(W),B=Y;if(P!==t&&(f.bindFramebuffer(36160,t),P=t),m.viewport(z),m.scissor(U),m.setScissorTest(B),n){var i=g.get(e.texture);f.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=g.get(e).__webglFramebuffer;if(a){var s=!1;a!==P&&(f.bindFramebuffer(36160,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==hg&&k.convert(c)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(l!==ug&&k.convert(l)!==f.getParameter(35738)&&(l!==lg||!(h.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float")))&&(l!==dg||!(h.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&f.readPixels(t,n,r,i,k.convert(c),k.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(36160,P)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=k.convert(t.format);this.setTexture2D(t,0),f.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=k.convert(n.format),s=k.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?f.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):f.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function yx(e,t){this.name="",this.color=new Zg(e),this.density=void 0!==t?t:25e-5}function bx(e,t,n){this.name="",this.color=new Zg(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function xx(){ty.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function _x(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function wx(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Ex(e){Ey.call(this),this.type="SpriteMaterial",this.color=new Zg(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Sx(e){if(ty.call(this),this.type="Sprite",void 0===dx){dx=new gy;var t=new _x(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);dx.setIndex([0,1,2,0,2,3]),dx.addAttribute("position",new wx(t,3,0,!1)),dx.addAttribute("uv",new wx(t,2,3,!1))}this.geometry=dx,this.material=void 0!==e?e:new Ex,this.center=new Tg(.5,.5)}function Tx(){ty.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Mx(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Cy.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Mg,this.bindMatrixInverse=new Mg}function Ax(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Mg)}}function Cx(){ty.call(this),this.type="Bone"}function kx(e){Ey.call(this),this.type="LineBasicMaterial",this.color=new Zg(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Lx(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ty.call(this),this.type="Line",this.geometry=void 0!==e?e:new gy,this.material=void 0!==t?t:new kx({color:16777215*Math.random()})}function Ox(e,t){Lx.call(this,e,t),this.type="LineSegments"}function Rx(e,t){Lx.call(this,e,t),this.type="LineLoop"}function Nx(e){Ey.call(this),this.type="PointsMaterial",this.color=new Zg(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Px(e,t){ty.call(this),this.type="Points",this.geometry=void 0!==e?e:new gy,this.material=void 0!==t?t:new Nx({color:16777215*Math.random()})}function Ix(e,t,n,r,i,o,a,s,u){Rg.call(this,e,t,n,r,i,o,a,s,u),this.format=void 0!==a?a:pg,this.minFilter=void 0!==o?o:ag,this.magFilter=void 0!==i?i:ag,this.generateMipmaps=!1}function jx(e,t,n,r,i,o,a,s,u,c,l,d){Rg.call(this,null,o,a,s,u,c,r,i,l,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Dx(e,t,n,r,i,o,a,s,u){Rg.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function Fx(e,t,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:mg)!==mg&&c!==vg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===mg&&(n=cg),void 0===n&&c===vg&&(n=fg),Rg.call(this,null,r,i,o,a,s,c,n,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:rg,this.minFilter=void 0!==s?s:rg,this.flipY=!1,this.generateMipmaps=!1}function zx(){var e=new Uint8Array(3);Rg.call(this,null,void 0,void 0,void 0,void 0,void 0,1022,void 0,void 0,void 0),this.image={data:e,width:1,height:1},this.magFilter=rg,this.minFilter=rg,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Ux(e){gy.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,u,c,l,d=[],f=[0,0],p={},h=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(n=0;n<3;n++)s=v[h[n]],u=v[h[(n+1)%3]],f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===p[c=f[0]+","+f[1]]&&(p[c]={index1:f[0],index2:f[1]})}for(c in p)a=p[c],l=e.vertices[a.index1],d.push(l.x,l.y,l.z),l=e.vertices[a.index2],d.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry){var g,y,b,x,_,w,E;if(l=new Cg,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=_=(x=b[i]).start,r=_+x.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),u=y.getX(t+(n+1)%3),f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===p[c=f[0]+","+f[1]]&&(p[c]={index1:f[0],index2:f[1]});for(c in p)a=p[c],l.fromBufferAttribute(g,a.index1),d.push(l.x,l.y,l.z),l.fromBufferAttribute(g,a.index2),d.push(l.x,l.y,l.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)w=3*t+n,l.fromBufferAttribute(g,w),d.push(l.x,l.y,l.z),E=3*t+(n+1)%3,l.fromBufferAttribute(g,E),d.push(l.x,l.y,l.z)}this.addAttribute("position",new fy(d,3))}function Bx(e,t,n){ry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Vx(e,t,n)),this.mergeVertices()}function Vx(e,t,n){gy.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=1e-5,l=new Cg,d=new Cg,f=new Cg,p=new Cg,h=new Cg;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var v=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,v,d),a.push(d.x,d.y,d.z),g-c>=0?(e(g-c,v,f),p.subVectors(d,f)):(e(g+c,v,f),p.subVectors(f,d)),v-c>=0?(e(g,v-c,f),h.subVectors(d,f)):(e(g,v+c,f),h.subVectors(f,d)),l.crossVectors(p,h).normalize(),s.push(l.x,l.y,l.z),u.push(g,v)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,_=(r+1)*m+i;o.push(y,b,_),o.push(b,x,_)}this.setIndex(o),this.addAttribute("position",new fy(a,3)),this.addAttribute("normal",new fy(s,3)),this.addAttribute("uv",new fy(u,2))}function Gx(e,t,n,r){ry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Hx(e,t,n,r)),this.mergeVertices()}function Hx(e,t,n,r){gy.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var c=e.clone().lerp(n,i/a),l=t.clone().lerp(n,i/a),d=a-i;for(o=0;o<=d;o++)u[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/d)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2===0?(s(u[i][f+1]),s(u[i+1][f]),s(u[i][f])):(s(u[i][f+1]),s(u[i+1][f+1]),s(u[i+1][f]))}}function s(e){i.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function l(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new Cg,r=new Cg,i=new Cg,o=0;o<t.length;o+=3)u(t[o+0],n),u(t[o+1],r),u(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new Cg,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new Cg,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=l(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new Cg,t=new Cg,n=new Cg,r=new Cg,a=new Tg,s=new Tg,u=new Tg,d=0,f=0;d<i.length;d+=9,f+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),a.set(o[f+0],o[f+1]),s.set(o[f+2],o[f+3]),u.set(o[f+4],o[f+5]),r.copy(e).add(t).add(n).divideScalar(3);var p=l(r);c(a,f+0,e,p),c(s,f+2,t,p),c(u,f+4,n,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new fy(i,3)),this.addAttribute("normal",new fy(i.slice(),3)),this.addAttribute("uv",new fy(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Wx(e,t){ry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zx(e,t)),this.mergeVertices()}function Zx(e,t){Hx.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function qx(e,t){ry.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Yx(e,t)),this.mergeVertices()}function Yx(e,t){Hx.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $x(e,t){ry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Xx(e,t)),this.mergeVertices()}function Xx(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Hx.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Jx(e,t){ry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kx(e,t)),this.mergeVertices()}function Kx(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Hx.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Qx(e,t,n,r,i,o){ry.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new e_(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function e_(e,t,n,r,i){gy.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,u=new Cg,c=new Cg,l=new Tg,d=new Cg,f=[],p=[],h=[],m=[];function v(i){d=e.getPointAt(i/t,d);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=r;s++){var h=s/r*Math.PI*2,m=Math.sin(h),v=-Math.cos(h);c.x=v*a.x+m*l.x,c.y=v*a.y+m*l.y,c.z=v*a.z+m*l.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+n*c.x,u.y=d.y+n*c.y,u.z=d.z+n*c.z,f.push(u.x,u.y,u.z)}}!function(){for(a=0;a<t;a++)v(a);v(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)l.x=a/t,l.y=s/r,h.push(l.x,l.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new fy(f,3)),this.addAttribute("normal",new fy(p,3)),this.addAttribute("uv",new fy(h,2))}function t_(e,t,n,r,i,o,a){ry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new n_(e,t,n,r,i,o)),this.mergeVertices()}function n_(e,t,n,r,i,o){gy.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,u=[],c=[],l=[],d=[],f=new Cg,p=new Cg,h=new Cg,m=new Cg,v=new Cg,g=new Cg,y=new Cg;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(A(b,i,o,e,h),A(b+.01,i,o,e,m),g.subVectors(m,h),y.addVectors(m,h),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,_=-t*Math.cos(x),w=t*Math.sin(x);f.x=h.x+(_*y.x+w*v.x),f.y=h.y+(_*y.y+w*v.y),f.z=h.z+(_*y.z+w*v.z),c.push(f.x,f.y,f.z),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),d.push(a/n),d.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var E=(r+1)*(s-1)+(a-1),S=(r+1)*s+(a-1),T=(r+1)*s+a,M=(r+1)*(s-1)+a;u.push(E,S,M),u.push(S,T,M)}function A(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new fy(c,3)),this.addAttribute("normal",new fy(l,3)),this.addAttribute("uv",new fy(d,2))}function r_(e,t,n,r,i){ry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new i_(e,t,n,r,i)),this.mergeVertices()}function i_(e,t,n,r,i){gy.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],l=[],d=new Cg,f=new Cg,p=new Cg;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var h=a/r*i,m=o/n*Math.PI*2;f.x=(e+t*Math.cos(m))*Math.cos(h),f.y=(e+t*Math.cos(m))*Math.sin(h),f.z=t*Math.sin(m),u.push(f.x,f.y,f.z),d.x=e*Math.cos(h),d.y=e*Math.sin(h),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),l.push(a/r),l.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new fy(u,3)),this.addAttribute("normal",new fy(c,3)),this.addAttribute("uv",new fy(l,2))}yx.prototype.isFogExp2=!0,yx.prototype.clone=function(){return new yx(this.color,this.density)},yx.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},bx.prototype.isFog=!0,bx.prototype.clone=function(){return new bx(this.color,this.near,this.far)},bx.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},xx.prototype=Object.assign(Object.create(ty.prototype),{constructor:xx,copy:function(e,t){return ty.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ty.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(_x.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(_x.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(wx.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(wx.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Ex.prototype=Object.create(Ey.prototype),Ex.prototype.constructor=Ex,Ex.prototype.isSpriteMaterial=!0,Ex.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Sx.prototype=Object.assign(Object.create(ty.prototype),{constructor:Sx,isSprite:!0,raycast:function(){var e=new Cg,t=new Cg,n=new Cg,r=new Tg,i=new Tg,o=new Mg,a=new Cg,s=new Cg,u=new Cg,c=new Tg,l=new Tg,d=new Tg;function f(e,t,n,a,s,u){r.subVectors(e,n).addScalar(.5).multiply(a),void 0!==s?(i.x=u*r.x-s*r.y,i.y=s*r.x+u*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(o)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,h,m=this.material.rotation;0!==m&&(h=Math.cos(m),p=Math.sin(m));var v=this.center;f(a.set(-.5,-.5,0),n,v,t,p,h),f(s.set(.5,-.5,0),n,v,t,p,h),f(u.set(.5,.5,0),n,v,t,p,h),c.set(0,0),l.set(1,0),d.set(1,1);var g=r.ray.intersectTriangle(a,s,u,!1,e);if(null!==g||(f(s.set(-.5,.5,0),n,v,t,p,h),l.set(0,1),null!==(g=r.ray.intersectTriangle(a,u,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||i.push({distance:y,point:e.clone(),uv:My.getUV(e,a,s,u,c,l,d,new Tg),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return ty.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Tx.prototype=Object.assign(Object.create(ty.prototype),{constructor:Tx,copy:function(e){ty.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new Cg;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new Cg,t=new Cg;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=ty.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Mx.prototype=Object.assign(Object.create(Cy.prototype),{constructor:Mx,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Ng,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Cy.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Ax.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Mg;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new Mg,t=new Mg;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var u=n[a]?n[a].matrixWorld:t;e.multiplyMatrices(u,r[a]),e.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Ax(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Cx.prototype=Object.assign(Object.create(ty.prototype),{constructor:Cx,isBone:!0}),kx.prototype=Object.create(Ey.prototype),kx.prototype.constructor=kx,kx.prototype.isLineBasicMaterial=!0,kx.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Lx.prototype=Object.assign(Object.create(ty.prototype),{constructor:Lx,isLine:!0,computeLineDistances:function(){var e=new Cg,t=new Cg;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],o=1,a=r.count;o<a;o++)e.fromBufferAttribute(r,o-1),t.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=e.distanceTo(t);n.addAttribute("lineDistance",new fy(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var e=new Mg,t=new Ty,n=new zg;return function(r,i){var o=r.linePrecision,a=this.geometry,s=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=o,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var u=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,l=new Cg,d=new Cg,f=new Cg,p=new Cg,h=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var m=a.index,v=a.attributes.position.array;if(null!==m)for(var g=m.array,y=0,b=g.length-1;y<b;y+=h){var x=g[y],_=g[y+1];if(l.fromArray(v,3*x),d.fromArray(v,3*_),!(t.distanceSqToSegment(l,d,p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=v.length/3-1;y<b;y+=h){if(l.fromArray(v,3*y),d.fromArray(v,3*y+3),!(t.distanceSqToSegment(l,d,p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(a.isGeometry){var w=a.vertices,E=w.length;for(y=0;y<E-1;y+=h){var S;if(!(t.distanceSqToSegment(w[y],w[y+1],p,f)>c))p.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(p))<r.near||S>r.far||i.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return ty.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ox.prototype=Object.assign(Object.create(Lx.prototype),{constructor:Ox,isLineSegments:!0,computeLineDistances:function(){var e=new Cg,t=new Cg;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);n.addAttribute("lineDistance",new fy(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,o=0,a=s.length;o<a;o+=2)e.copy(s[o]),t.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t)}return this}}()}),Rx.prototype=Object.assign(Object.create(Lx.prototype),{constructor:Rx,isLineLoop:!0}),Nx.prototype=Object.create(Ey.prototype),Nx.prototype.constructor=Nx,Nx.prototype.isPointsMaterial=!0,Nx.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Px.prototype=Object.assign(Object.create(ty.prototype),{constructor:Px,isPoints:!0,raycast:function(){var e=new Mg,t=new Ty,n=new zg;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=u,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,d=new Cg,f=new Cg;if(a.isBufferGeometry){var p=a.index,h=a.attributes.position.array;if(null!==p)for(var m=p.array,v=0,g=m.length;v<g;v++){var y=m[v];d.fromArray(h,3*y),_(d,y)}else{v=0;for(var b=h.length/3;v<b;v++)d.fromArray(h,3*v),_(d,v)}}else{var x=a.vertices;for(v=0,b=x.length;v<b;v++)_(x[v],v)}}function _(e,n){var a=t.distanceSqToPoint(e);if(a<l){t.closestPointToPoint(e,f),f.applyMatrix4(s);var u=r.ray.origin.distanceTo(f);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(a),point:f.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ix.prototype=Object.assign(Object.create(Rg.prototype),{constructor:Ix,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),jx.prototype=Object.create(Rg.prototype),jx.prototype.constructor=jx,jx.prototype.isCompressedTexture=!0,Dx.prototype=Object.create(Rg.prototype),Dx.prototype.constructor=Dx,Dx.prototype.isCanvasTexture=!0,Fx.prototype=Object.create(Rg.prototype),Fx.prototype.constructor=Fx,Fx.prototype.isDepthTexture=!0,zx.prototype=Object.create(Rg.prototype),zx.prototype.constructor=zx,zx.prototype.isDataTexture=!0,zx.prototype.isCfxTexture=!0,Ux.prototype=Object.create(gy.prototype),Ux.prototype.constructor=Ux,Bx.prototype=Object.create(ry.prototype),Bx.prototype.constructor=Bx,Vx.prototype=Object.create(gy.prototype),Vx.prototype.constructor=Vx,Gx.prototype=Object.create(ry.prototype),Gx.prototype.constructor=Gx,Hx.prototype=Object.create(gy.prototype),Hx.prototype.constructor=Hx,Wx.prototype=Object.create(ry.prototype),Wx.prototype.constructor=Wx,Zx.prototype=Object.create(Hx.prototype),Zx.prototype.constructor=Zx,qx.prototype=Object.create(ry.prototype),qx.prototype.constructor=qx,Yx.prototype=Object.create(Hx.prototype),Yx.prototype.constructor=Yx,$x.prototype=Object.create(ry.prototype),$x.prototype.constructor=$x,Xx.prototype=Object.create(Hx.prototype),Xx.prototype.constructor=Xx,Jx.prototype=Object.create(ry.prototype),Jx.prototype.constructor=Jx,Kx.prototype=Object.create(Hx.prototype),Kx.prototype.constructor=Kx,Qx.prototype=Object.create(ry.prototype),Qx.prototype.constructor=Qx,e_.prototype=Object.create(gy.prototype),e_.prototype.constructor=e_,t_.prototype=Object.create(ry.prototype),t_.prototype.constructor=t_,n_.prototype=Object.create(gy.prototype),n_.prototype.constructor=n_,r_.prototype=Object.create(ry.prototype),r_.prototype.constructor=r_,i_.prototype=Object.create(gy.prototype),i_.prototype.constructor=i_;var o_=function(e,t,n){n=n||2;var r,i,o,a,s,u,c,l=t&&t.length,d=l?t[0]*n:e.length,f=a_(e,0,d,n,!0),p=[];if(!f)return p;if(l&&(f=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=a_(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(v_(a));for(s.sort(p_),i=0;i<s.length;i++)h_(s[i],n),n=s_(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var h=n;h<d;h+=n)(s=e[h])<r&&(r=s),(u=e[h+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return u_(f,p,n,r,i,c),p};function a_(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=S_(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=S_(o,e[o],e[o+1],a);return a&&x_(a,a.next)&&(T_(a),a=a.next),a}function s_(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!x_(r,r.next)&&0!==b_(r.prev,r,r.next))r=r.next;else{if(T_(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function u_(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=m_(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?l_(e,r,i,o):c_(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),T_(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?u_(e=d_(e,t,n),t,n,r,i,o,2):2===a&&f_(e,t,n,r,i,o):u_(s_(e),t,n,r,i,o,1);break}}}function c_(e){var t=e.prev,n=e,r=e.next;if(b_(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g_(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&b_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l_(e,t,n,r){var i=e.prev,o=e,a=e.next;if(b_(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=m_(s,u,t,n,r),f=m_(c,l,t,n,r),p=e.nextZ;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&g_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&b_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&g_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&b_(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function d_(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!x_(i,o)&&__(i,r,r.next,o)&&w_(i,o)&&w_(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),T_(r),T_(r.next),r=e=o),r=r.next}while(r!==e);return r}function f_(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&y_(a,s)){var u=E_(a,s);return a=s_(a,a.next),u=s_(u,u.next),u_(a,t,n,r,i,o),void u_(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function p_(e,t){return e.x-t.x}function h_(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,d=n.y,f=1/0;r=n.next;for(;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&g_(o<d?i:a,o,l,d,o<d?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&w_(r,e)&&(n=r,f=u),r=r.next;return n}(e,t),t){var n=E_(t,e);s_(n,n.next)}}function m_(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function v_(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function g_(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function y_(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&__(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&w_(e,t)&&w_(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function b_(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x_(e,t){return e.x===t.x&&e.y===t.y}function __(e,t,n,r){return!!(x_(e,t)&&x_(n,r)||x_(e,r)&&x_(n,t))||b_(e,t,n)>0!==b_(e,t,r)>0&&b_(n,r,e)>0!==b_(n,r,t)>0}function w_(e,t){return b_(e.prev,e,e.next)<0?b_(e,t,e.next)>=0&&b_(e,e.prev,t)>=0:b_(e,t,e.prev)<0||b_(e,e.next,t)<0}function E_(e,t){var n=new M_(e.i,e.x,e.y),r=new M_(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S_(e,t,n,r){var i=new M_(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function M_(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var A_={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return A_.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];C_(e),k_(n,e);var o=e.length;t.forEach(C_);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,k_(n,t[a]);var s=o_(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function C_(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function k_(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function L_(e,t){ry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new O_(e,t)),this.mergeVertices()}function O_(e,t){gy.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,u=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:l-2,f=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,h=void 0!==t.UVGenerator?t.UVGenerator:R_;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);var m,v,g,y,b,x,_,w,E=!1;p&&(m=p.getSpacedPoints(s),E=!0,c=!1,v=p.computeFrenetFrames(s,!1),g=new Cg,y=new Cg,b=new Cg),c||(f=0,l=0,d=0);var S=e.extractPoints(a),T=S.shape,M=S.holes;if(!A_.isClockWise(T))for(T=T.reverse(),_=0,w=M.length;_<w;_++)x=M[_],A_.isClockWise(x)&&(M[_]=x.reverse());var A=A_.triangulateShape(T,M),C=T;for(_=0,w=M.length;_<w;_++)x=M[_],T=T.concat(x);function k(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L,O,R,N,P,I,j=T.length,D=A.length;function F(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=a*a+s*s,d=a*c-s*u;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(l),p=Math.sqrt(u*u+c*c),h=t.x-s/f,m=t.y+a/f,v=((n.x-c/p-h)*c-(n.y+u/p-m)*u)/(a*c-s*u),g=(r=h+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new Tg(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?u>Number.EPSILON&&(y=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new Tg(r/o,i/o)}for(var z=[],U=0,B=C.length,V=B-1,G=U+1;U<B;U++,V++,G++)V===B&&(V=0),G===B&&(G=0),z[U]=F(C[U],C[V],C[G]);var H,W,Z=[],q=z.concat();for(_=0,w=M.length;_<w;_++){for(x=M[_],H=[],U=0,V=(B=x.length)-1,G=U+1;U<B;U++,V++,G++)V===B&&(V=0),G===B&&(G=0),H[U]=F(x[U],x[V],x[G]);Z.push(H),q=q.concat(H)}for(L=0;L<f;L++){for(R=L/f,N=l*Math.cos(R*Math.PI/2),O=d*Math.sin(R*Math.PI/2),U=0,B=C.length;U<B;U++)$((P=k(C[U],z[U],O)).x,P.y,-N);for(_=0,w=M.length;_<w;_++)for(x=M[_],H=Z[_],U=0,B=x.length;U<B;U++)$((P=k(x[U],H[U],O)).x,P.y,-N)}for(O=d,U=0;U<j;U++)P=c?k(T[U],q[U],O):T[U],E?(y.copy(v.normals[0]).multiplyScalar(P.x),g.copy(v.binormals[0]).multiplyScalar(P.y),b.copy(m[0]).add(y).add(g),$(b.x,b.y,b.z)):$(P.x,P.y,0);for(W=1;W<=s;W++)for(U=0;U<j;U++)P=c?k(T[U],q[U],O):T[U],E?(y.copy(v.normals[W]).multiplyScalar(P.x),g.copy(v.binormals[W]).multiplyScalar(P.y),b.copy(m[W]).add(y).add(g),$(b.x,b.y,b.z)):$(P.x,P.y,u/s*W);for(L=f-1;L>=0;L--){for(R=L/f,N=l*Math.cos(R*Math.PI/2),O=d*Math.sin(R*Math.PI/2),U=0,B=C.length;U<B;U++)$((P=k(C[U],z[U],O)).x,P.y,u+N);for(_=0,w=M.length;_<w;_++)for(x=M[_],H=Z[_],U=0,B=x.length;U<B;U++)P=k(x[U],H[U],O),E?$(P.x,P.y+m[s-1].y,m[s-1].x+N):$(P.x,P.y,u+N)}function Y(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,o=s+2*f;for(i=0;i<o;i++){var a=j*i,u=j*(i+1);J(t+n+a,t+r+a,t+r+u,t+n+u)}}}function $(e,t,n){o.push(e),o.push(t),o.push(n)}function X(e,t,i){K(e),K(t),K(i);var o=r.length/3,a=h.generateTopUV(n,r,o-3,o-2,o-1);Q(a[0]),Q(a[1]),Q(a[2])}function J(e,t,i,o){K(e),K(t),K(o),K(t),K(i),K(o);var a=r.length/3,s=h.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);Q(s[0]),Q(s[1]),Q(s[3]),Q(s[1]),Q(s[2]),Q(s[3])}function K(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function Q(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(c){var t=0,i=j*t;for(U=0;U<D;U++)X((I=A[U])[2]+i,I[1]+i,I[0]+i);for(i=j*(t=s+2*f),U=0;U<D;U++)X((I=A[U])[0]+i,I[1]+i,I[2]+i)}else{for(U=0;U<D;U++)X((I=A[U])[2],I[1],I[0]);for(U=0;U<D;U++)X((I=A[U])[0]+j*s,I[1]+j*s,I[2]+j*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Y(C,t),t+=C.length,_=0,w=M.length;_<w;_++)Y(x=M[_],t),t+=x.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new fy(r,3)),this.addAttribute("uv",new fy(i,2)),this.computeVertexNormals()}L_.prototype=Object.create(ry.prototype),L_.prototype.constructor=L_,L_.prototype.toJSON=function(){var e=ry.prototype.toJSON.call(this);return N_(this.parameters.shapes,this.parameters.options,e)},O_.prototype=Object.create(gy.prototype),O_.prototype.constructor=O_,O_.prototype.toJSON=function(){var e=gy.prototype.toJSON.call(this);return N_(this.parameters.shapes,this.parameters.options,e)};var R_={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],u=t[3*r+1],c=t[3*i],l=t[3*i+1];return[new Tg(o,a),new Tg(s,u),new Tg(c,l)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],u=t[3*n+2],c=t[3*r],l=t[3*r+1],d=t[3*r+2],f=t[3*i],p=t[3*i+1],h=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-l)<.01?[new Tg(a,1-u),new Tg(c,1-d),new Tg(f,1-h),new Tg(m,1-g)]:[new Tg(s,1-u),new Tg(l,1-d),new Tg(p,1-h),new Tg(v,1-g)]}};function N_(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function P_(e,t){ry.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new I_(e,t)),this.mergeVertices()}function I_(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ry;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),O_.call(this,r,t),this.type="TextBufferGeometry"}function j_(e,t,n,r,i,o,a){ry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new D_(e,t,n,r,i,o,a)),this.mergeVertices()}function D_(e,t,n,r,i,o,a){gy.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,c=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,d=[],f=new Cg,p=new Cg,h=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var y=[],b=u/n;for(s=0;s<=t;s++){var x=s/t;f.x=-e*Math.cos(r+x*i)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),g.push(x,1-b),y.push(l++)}d.push(y)}for(u=0;u<n;u++)for(s=0;s<t;s++){var _=d[u][s+1],w=d[u][s],E=d[u+1][s],S=d[u+1][s+1];(0!==u||o>0)&&h.push(_,w,S),(u!==n-1||c<Math.PI)&&h.push(w,E,S)}this.setIndex(h),this.addAttribute("position",new fy(m,3)),this.addAttribute("normal",new fy(v,3)),this.addAttribute("uv",new fy(g,2))}function F_(e,t,n,r,i,o){ry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new z_(e,t,n,r,i,o)),this.mergeVertices()}function z_(e,t,n,r,i,o){gy.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,u,c=[],l=[],d=[],f=[],p=e,h=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new Cg,v=new Tg;for(s=0;s<=r;s++){for(u=0;u<=n;u++)a=i+u/n*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),l.push(m.x,m.y,m.z),d.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y);p+=h}for(s=0;s<r;s++){var g=s*(n+1);for(u=0;u<n;u++){var y=a=u+g,b=a+n+1,x=a+n+2,_=a+1;c.push(y,b,_),c.push(b,x,_)}}this.setIndex(c),this.addAttribute("position",new fy(l,3)),this.addAttribute("normal",new fy(d,3)),this.addAttribute("uv",new fy(f,2))}function U_(e,t,n,r){ry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new B_(e,t,n,r)),this.mergeVertices()}function B_(e,t,n,r){gy.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Sg.clamp(r,0,2*Math.PI);var i,o,a,s=[],u=[],c=[],l=1/t,d=new Cg,f=new Tg;for(o=0;o<=t;o++){var p=n+o*l*r,h=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)d.x=e[a].x*h,d.y=e[a].y,d.z=e[a].x*m,u.push(d.x,d.y,d.z),f.x=o/t,f.y=a/(e.length-1),c.push(f.x,f.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var v=i=a+o*e.length,g=i+e.length,y=i+e.length+1,b=i+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new fy(u,3)),this.addAttribute("uv",new fy(c,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,_=new Cg,w=new Cg,E=new Cg;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)_.x=x[a+0],_.y=x[a+1],_.z=x[a+2],w.x=x[i+a+0],w.y=x[i+a+1],w.z=x[i+a+2],E.addVectors(_,w).normalize(),x[a+0]=x[i+a+0]=E.x,x[a+1]=x[i+a+1]=E.y,x[a+2]=x[i+a+2]=E.z}}function V_(e,t){ry.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new G_(e,t)),this.mergeVertices()}function G_(e,t){gy.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var u=0;u<e.length;u++)c(e[u]),this.addGroup(a,s,u),a+=s,s=0;function c(e){var a,u,c,l=r.length/3,d=e.extractPoints(t),f=d.shape,p=d.holes;for(!1===A_.isClockWise(f)&&(f=f.reverse()),a=0,u=p.length;a<u;a++)c=p[a],!0===A_.isClockWise(c)&&(p[a]=c.reverse());var h=A_.triangulateShape(f,p);for(a=0,u=p.length;a<u;a++)c=p[a],f=f.concat(c);for(a=0,u=f.length;a<u;a++){var m=f[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,u=h.length;a<u;a++){var v=h[a],g=v[0]+l,y=v[1]+l,b=v[2]+l;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new fy(r,3)),this.addAttribute("normal",new fy(i,3)),this.addAttribute("uv",new fy(o,2))}function H_(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function W_(e,t){gy.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Sg.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new ry).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,f=o.faces,p=0,h=f.length;p<h;p++)for(var m=f[p],v=0;v<3;v++)n=m[l[v]],r=m[l[(v+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:p,face2:void 0}:c[i].face2=p;for(i in c){var g=c[i];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=s){var y=d[g.index1];a.push(y.x,y.y,y.z),y=d[g.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new fy(a,3))}function Z_(e,t,n,r,i,o,a,s){ry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new q_(e,t,n,r,i,o,a,s)),this.mergeVertices()}function q_(e,t,n,r,i,o,a,s){gy.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],l=[],d=[],f=[],p=0,h=[],m=n/2,v=0;function g(n){var i,o,h,g=new Tg,y=new Cg,b=0,x=!0===n?e:t,_=!0===n?1:-1;for(o=p,i=1;i<=r;i++)l.push(0,m*_,0),d.push(0,_,0),f.push(.5,.5),p++;for(h=p,i=0;i<=r;i++){var w=i/r*s+a,E=Math.cos(w),S=Math.sin(w);y.x=x*S,y.y=m*_,y.z=x*E,l.push(y.x,y.y,y.z),d.push(0,_,0),g.x=.5*E+.5,g.y=.5*S*_+.5,f.push(g.x,g.y),p++}for(i=0;i<r;i++){var T=o+i,M=h+i;!0===n?c.push(M,M+1,T):c.push(M+1,M,T),b+=3}u.addGroup(v,b,!0===n?1:2),v+=b}!function(){var o,g,y=new Cg,b=new Cg,x=0,_=(t-e)/n;for(g=0;g<=i;g++){var w=[],E=g/i,S=E*(t-e)+e;for(o=0;o<=r;o++){var T=o/r,M=T*s+a,A=Math.sin(M),C=Math.cos(M);b.x=S*A,b.y=-E*n+m,b.z=S*C,l.push(b.x,b.y,b.z),y.set(A,_,C).normalize(),d.push(y.x,y.y,y.z),f.push(T,1-E),w.push(p++)}h.push(w)}for(o=0;o<r;o++)for(g=0;g<i;g++){var k=h[g][o],L=h[g+1][o],O=h[g+1][o+1],R=h[g][o+1];c.push(k,L,R),c.push(L,O,R),x+=6}u.addGroup(v,x,0),v+=x}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.addAttribute("position",new fy(l,3)),this.addAttribute("normal",new fy(d,3)),this.addAttribute("uv",new fy(f,2))}function Y_(e,t,n,r,i,o,a){Z_.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function $_(e,t,n,r,i,o,a){q_.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function X_(e,t,n,r){ry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new J_(e,t,n,r)),this.mergeVertices()}function J_(e,t,n,r){gy.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],u=[],c=[],l=new Cg,d=new Tg;for(s.push(0,0,0),u.push(0,0,1),c.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var f=n+o/t*r;l.x=e*Math.cos(f),l.y=e*Math.sin(f),s.push(l.x,l.y,l.z),u.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,c.push(d.x,d.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new fy(s,3)),this.addAttribute("normal",new fy(u,3)),this.addAttribute("uv",new fy(c,2))}P_.prototype=Object.create(ry.prototype),P_.prototype.constructor=P_,I_.prototype=Object.create(O_.prototype),I_.prototype.constructor=I_,j_.prototype=Object.create(ry.prototype),j_.prototype.constructor=j_,D_.prototype=Object.create(gy.prototype),D_.prototype.constructor=D_,F_.prototype=Object.create(ry.prototype),F_.prototype.constructor=F_,z_.prototype=Object.create(gy.prototype),z_.prototype.constructor=z_,U_.prototype=Object.create(ry.prototype),U_.prototype.constructor=U_,B_.prototype=Object.create(gy.prototype),B_.prototype.constructor=B_,V_.prototype=Object.create(ry.prototype),V_.prototype.constructor=V_,V_.prototype.toJSON=function(){var e=ry.prototype.toJSON.call(this);return H_(this.parameters.shapes,e)},G_.prototype=Object.create(gy.prototype),G_.prototype.constructor=G_,G_.prototype.toJSON=function(){var e=gy.prototype.toJSON.call(this);return H_(this.parameters.shapes,e)},W_.prototype=Object.create(gy.prototype),W_.prototype.constructor=W_,Z_.prototype=Object.create(ry.prototype),Z_.prototype.constructor=Z_,q_.prototype=Object.create(gy.prototype),q_.prototype.constructor=q_,Y_.prototype=Object.create(Z_.prototype),Y_.prototype.constructor=Y_,$_.prototype=Object.create(q_.prototype),$_.prototype.constructor=$_,X_.prototype=Object.create(ry.prototype),X_.prototype.constructor=X_,J_.prototype=Object.create(gy.prototype),J_.prototype.constructor=J_;var K_=Object.freeze({WireframeGeometry:Ux,ParametricGeometry:Bx,ParametricBufferGeometry:Vx,TetrahedronGeometry:Wx,TetrahedronBufferGeometry:Zx,OctahedronGeometry:qx,OctahedronBufferGeometry:Yx,IcosahedronGeometry:$x,IcosahedronBufferGeometry:Xx,DodecahedronGeometry:Jx,DodecahedronBufferGeometry:Kx,PolyhedronGeometry:Gx,PolyhedronBufferGeometry:Hx,TubeGeometry:Qx,TubeBufferGeometry:e_,TorusKnotGeometry:t_,TorusKnotBufferGeometry:n_,TorusGeometry:r_,TorusBufferGeometry:i_,TextGeometry:P_,TextBufferGeometry:I_,SphereGeometry:j_,SphereBufferGeometry:D_,RingGeometry:F_,RingBufferGeometry:z_,PlaneGeometry:xy,PlaneBufferGeometry:_y,LatheGeometry:U_,LatheBufferGeometry:B_,ShapeGeometry:V_,ShapeBufferGeometry:G_,ExtrudeGeometry:L_,ExtrudeBufferGeometry:O_,EdgesGeometry:W_,ConeGeometry:Y_,ConeBufferGeometry:$_,CylinderGeometry:Z_,CylinderBufferGeometry:q_,CircleGeometry:X_,CircleBufferGeometry:J_,BoxGeometry:yy,BoxBufferGeometry:by});function Q_(e){Ey.call(this),this.type="ShadowMaterial",this.color=new Zg(0),this.transparent=!0,this.setValues(e)}function ew(e){Sy.call(this,e),this.type="RawShaderMaterial"}function tw(e){Ey.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Zg(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function nw(e){tw.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function rw(e){Ey.call(this),this.type="MeshPhongMaterial",this.color=new Zg(16777215),this.specular=new Zg(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function iw(e){rw.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function ow(e){Ey.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function aw(e){Ey.call(this),this.type="MeshLambertMaterial",this.color=new Zg(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function sw(e){Ey.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Zg(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function uw(e){kx.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Q_.prototype=Object.create(Ey.prototype),Q_.prototype.constructor=Q_,Q_.prototype.isShadowMaterial=!0,Q_.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this},ew.prototype=Object.create(Sy.prototype),ew.prototype.constructor=ew,ew.prototype.isRawShaderMaterial=!0,tw.prototype=Object.create(Ey.prototype),tw.prototype.constructor=tw,tw.prototype.isMeshStandardMaterial=!0,tw.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},nw.prototype=Object.create(tw.prototype),nw.prototype.constructor=nw,nw.prototype.isMeshPhysicalMaterial=!0,nw.prototype.copy=function(e){return tw.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},rw.prototype=Object.create(Ey.prototype),rw.prototype.constructor=rw,rw.prototype.isMeshPhongMaterial=!0,rw.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},iw.prototype=Object.create(rw.prototype),iw.prototype.constructor=iw,iw.prototype.isMeshToonMaterial=!0,iw.prototype.copy=function(e){return rw.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},ow.prototype=Object.create(Ey.prototype),ow.prototype.constructor=ow,ow.prototype.isMeshNormalMaterial=!0,ow.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},aw.prototype=Object.create(Ey.prototype),aw.prototype.constructor=aw,aw.prototype.isMeshLambertMaterial=!0,aw.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},sw.prototype=Object.create(Ey.prototype),sw.prototype.constructor=sw,sw.prototype.isMeshMatcapMaterial=!0,sw.prototype.copy=function(e){return Ey.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},uw.prototype=Object.create(kx.prototype),uw.prototype.constructor=uw,uw.prototype.isLineDashedMaterial=!0,uw.prototype.copy=function(e){return kx.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var cw=Object.freeze({ShadowMaterial:Q_,SpriteMaterial:Ex,RawShaderMaterial:ew,ShaderMaterial:Sy,PointsMaterial:Nx,MeshPhysicalMaterial:nw,MeshStandardMaterial:tw,MeshPhongMaterial:rw,MeshToonMaterial:iw,MeshNormalMaterial:ow,MeshLambertMaterial:aw,MeshDepthMaterial:tx,MeshDistanceMaterial:nx,MeshBasicMaterial:Ay,MeshMatcapMaterial:sw,LineDashedMaterial:uw,LineBasicMaterial:kx,Material:Ey}),lw={arraySlice:function(e,t,n){return lw.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function dw(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function fw(e,t,n,r){dw.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function pw(e,t,n,r){dw.call(this,e,t,n,r)}function hw(e,t,n,r){dw.call(this,e,t,n,r)}function mw(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lw.convertArray(t,this.TimeBufferType),this.values=lw.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function vw(e,t,n){mw.call(this,e,t,n)}function gw(e,t,n,r){mw.call(this,e,t,n,r)}function yw(e,t,n,r){mw.call(this,e,t,n,r)}function bw(e,t,n,r){dw.call(this,e,t,n,r)}function xw(e,t,n,r){mw.call(this,e,t,n,r)}function _w(e,t,n,r){mw.call(this,e,t,n,r)}function ww(e,t,n,r){mw.call(this,e,t,n,r)}function Ew(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Sg.generateUUID(),this.duration<0&&this.resetDuration()}function Sw(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yw;case"vector":case"vector2":case"vector3":case"vector4":return ww;case"color":return gw;case"quaternion":return xw;case"bool":case"boolean":return vw;case"string":return _w}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];lw.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(dw.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(dw.prototype,{beforeStart_:dw.prototype.copySampleValue_,afterEnd_:dw.prototype.copySampleValue_}),fw.prototype=Object.assign(Object.create(dw.prototype),{constructor:fw,DefaultSettings_:{endingStart:xg,endingEnd:xg},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case _g:i=e,a=2*t-n;break;case wg:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case _g:o=e,s=2*n-t;break;case wg:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),h=p*p,m=h*p,v=-d*m+2*d*h-d*p,g=(1+d)*m+(-1.5-2*d)*h+(-.5+d)*p+1,y=(-1-f)*m+(1.5+f)*h+.5*p,b=f*m-f*h,x=0;x!==a;++x)i[x]=v*o[c+x]+g*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),pw.prototype=Object.assign(Object.create(dw.prototype),{constructor:pw,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,d=0;d!==a;++d)i[d]=o[u+d]*l+o[s+d]*c;return i}}),hw.prototype=Object.assign(Object.create(dw.prototype),{constructor:hw,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(mw,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:lw.convertArray(e.times,Array),values:lw.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(mw.prototype,{constructor:mw,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:yg,InterpolantFactoryMethodDiscrete:function(e){return new hw(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new pw(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new fw(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case gg:t=this.InterpolantFactoryMethodDiscrete;break;case yg:t=this.InterpolantFactoryMethodLinear;break;case bg:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return gg;case this.InterpolantFactoryMethodLinear:return yg;case this.InterpolantFactoryMethodSmooth:return bg}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=lw.arraySlice(n,i,o),this.values=lw.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&lw.isTypedArray(r)){a=0;for(var u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===bg,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,d=c+n,f=0;f!==n;++f){var p=t[c+f];if(p!==t[l+f]||p!==t[d+f]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var h=a*n,m=i*n;for(f=0;f!==n;++f)t[m+f]=t[h+f]}++i}}if(o>0){e[i]=e[o];for(h=o*n,m=i*n,f=0;f!==n;++f)t[m+f]=t[h+f];++i}return i!==e.length&&(this.times=lw.arraySlice(e,0,i),this.values=lw.arraySlice(t,0,i*n)),this}}),vw.prototype=Object.assign(Object.create(mw.prototype),{constructor:vw,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:gg,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),gw.prototype=Object.assign(Object.create(mw.prototype),{constructor:gw,ValueTypeName:"color"}),yw.prototype=Object.assign(Object.create(mw.prototype),{constructor:yw,ValueTypeName:"number"}),bw.prototype=Object.assign(Object.create(dw.prototype),{constructor:bw,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),c=s+a;s!==c;s+=4)Ag.slerpFlat(i,0,o,s-a,o,s,u);return i}}),xw.prototype=Object.assign(Object.create(mw.prototype),{constructor:xw,ValueTypeName:"quaternion",DefaultInterpolation:yg,InterpolantFactoryMethodLinear:function(e){return new bw(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),_w.prototype=Object.assign(Object.create(mw.prototype),{constructor:_w,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:gg,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ww.prototype=Object.assign(Object.create(mw.prototype),{constructor:ww,ValueTypeName:"vector"}),Object.assign(Ew,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Sw(n[i]).scale(r));return new Ew(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(mw.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=lw.getKeyframeOrder(s);s=lw.sortedArray(s,1,c),u=lw.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new yw(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new Ew(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=r[d=u[1]];c||(r[d]=c=[]),c.push(s)}}var l=[];for(var d in r)l.push(Ew.CreateFromMorphTargetSequence(d,r[d],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];lw.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)l[c[d].morphTargets[f]]=-1;for(var p in l){var h=[],m=[];for(f=0;f!==c[d].morphTargets.length;++f){var v=c[d];h.push(v.time),m.push(v.morphTarget===p?1:0)}r.push(new yw(".morphTargetInfluence["+p+"]",h,m))}o=l.length*(a||1)}else{var g=".bones["+t[u].name+"]";n(ww,g+".position",c,"pos",r),n(xw,g+".quaternion",c,"rot",r),n(ww,g+".scale",c,"scl",r)}}return 0===r.length?null:new Ew(i,o,r)}}),Object.assign(Ew.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var Tw={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Mw(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Aw=new Mw,Cw={};function kw(e){this.manager=void 0!==e?e:Aw}function Lw(e){this.manager=void 0!==e?e:Aw,this._parser=null}function Ow(e){this.manager=void 0!==e?e:Aw}function Rw(e){this.manager=void 0!==e?e:Aw}function Nw(e){this.manager=void 0!==e?e:Aw}function Pw(){this.type="Curve",this.arcLengthDivisions=200}function Iw(e,t,n,r,i,o,a,s){Pw.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function jw(e,t,n,r,i,o){Iw.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Dw(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var u=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,u*=a,c*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}Object.assign(kw.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Tw.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Cw[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],c=a[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var l,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);l="blob"===d?new Blob([f.buffer],{type:s}):f.buffer;break;case"document":var h=new DOMParser;l=h.parseFromString(c,s);break;case"json":l=JSON.parse(c);break;default:l=c}setTimeout((function(){t&&t(l),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Cw[e]=[],Cw[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;Tw.add(e,n);var r=Cw[e];if(delete Cw[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=Cw[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=Cw[e];delete Cw[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=Cw[e];delete Cw[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(e),m}Cw[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Aw}.prototype,{load:function(e,t,n,r){var i=this,o=new kw(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=Ew.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Aw,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new jx;a.image=o;var s=new kw(this.manager);function u(u){s.load(e[u],(function(e){var n=i._parser(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=ag),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,d=e.length;l<d;++l)u(l);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=ag),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a},setPath:function(e){return this.path=e,this}}),Object.assign(Lw.prototype,{load:function(e,t,n,r){var i=this,o=new Dg,a=new kw(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:tg,o.wrapT=void 0!==n.wrapT?n.wrapT:tg,o.magFilter=void 0!==n.magFilter?n.magFilter:ag,o.minFilter=void 0!==n.minFilter?n.minFilter:sg,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=ag),o.needsUpdate=!0,t&&t(o,n))}),n,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(Ow.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Tw.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),Tw.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Rw.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Uy,o=new Ow(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Nw.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Rg,o=new Ow(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?pg:hg,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Pw.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new Cg,a=[],s=[],u=[],c=new Cg,l=new Mg;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new Cg,u[0]=new Cg;var d=Number.MAX_VALUE,f=Math.abs(a[0].x),p=Math.abs(a[0].y),h=Math.abs(a[0].z);for(f<=d&&(d=f,o.set(1,0,0)),p<=d&&(d=p,o.set(0,1,0)),h<=d&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(Sg.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(Sg.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(l.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Iw.prototype=Object.create(Pw.prototype),Iw.prototype.constructor=Iw,Iw.prototype.isEllipseCurve=!0,Iw.prototype.getPoint=function(e,t){for(var n=t||new Tg,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),d=s-this.aX,f=u-this.aY;s=d*c-f*l+this.aX,u=d*l+f*c+this.aY}return n.set(s,u)},Iw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Iw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Iw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},jw.prototype=Object.create(Iw.prototype),jw.prototype.constructor=jw,jw.prototype.isArcCurve=!0;var Fw=new Cg,zw=new Dw,Uw=new Dw,Bw=new Dw;function Vw(e,t,n,r){Pw.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Gw(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Hw(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Ww(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function Zw(e,t,n,r){Pw.call(this),this.type="CubicBezierCurve",this.v0=e||new Tg,this.v1=t||new Tg,this.v2=n||new Tg,this.v3=r||new Tg}function qw(e,t,n,r){Pw.call(this),this.type="CubicBezierCurve3",this.v0=e||new Cg,this.v1=t||new Cg,this.v2=n||new Cg,this.v3=r||new Cg}function Yw(e,t){Pw.call(this),this.type="LineCurve",this.v1=e||new Tg,this.v2=t||new Tg}function $w(e,t){Pw.call(this),this.type="LineCurve3",this.v1=e||new Cg,this.v2=t||new Cg}function Xw(e,t,n){Pw.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Tg,this.v1=t||new Tg,this.v2=n||new Tg}function Jw(e,t,n){Pw.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Cg,this.v1=t||new Cg,this.v2=n||new Cg}function Kw(e){Pw.call(this),this.type="SplineCurve",this.points=e||[]}Vw.prototype=Object.create(Pw.prototype),Vw.prototype.constructor=Vw,Vw.prototype.isCatmullRomCurve3=!0,Vw.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new Cg,s=this.points,u=s.length,c=(u-(this.closed?0:1))*e,l=Math.floor(c),d=c-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/u)+1)*u:0===d&&l===u-1&&(l=u-2,d=1),this.closed||l>0?n=s[(l-1)%u]:(Fw.subVectors(s[0],s[1]).add(s[0]),n=Fw),r=s[l%u],i=s[(l+1)%u],this.closed||l+2<u?o=s[(l+2)%u]:(Fw.subVectors(s[u-1],s[u-2]).add(s[u-1]),o=Fw),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),f),h=Math.pow(r.distanceToSquared(i),f),m=Math.pow(i.distanceToSquared(o),f);h<1e-4&&(h=1),p<1e-4&&(p=h),m<1e-4&&(m=h),zw.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,p,h,m),Uw.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,p,h,m),Bw.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,p,h,m)}else"catmullrom"===this.curveType&&(zw.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),Uw.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),Bw.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(zw.calc(d),Uw.calc(d),Bw.calc(d)),a},Vw.prototype.copy=function(e){Pw.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Vw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Vw.prototype.fromJSON=function(e){Pw.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Cg).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Zw.prototype=Object.create(Pw.prototype),Zw.prototype.constructor=Zw,Zw.prototype.isCubicBezierCurve=!0,Zw.prototype.getPoint=function(e,t){var n=t||new Tg,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ww(e,r.x,i.x,o.x,a.x),Ww(e,r.y,i.y,o.y,a.y)),n},Zw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Zw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Zw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},qw.prototype=Object.create(Pw.prototype),qw.prototype.constructor=qw,qw.prototype.isCubicBezierCurve3=!0,qw.prototype.getPoint=function(e,t){var n=t||new Cg,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ww(e,r.x,i.x,o.x,a.x),Ww(e,r.y,i.y,o.y,a.y),Ww(e,r.z,i.z,o.z,a.z)),n},qw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},qw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},qw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Yw.prototype=Object.create(Pw.prototype),Yw.prototype.constructor=Yw,Yw.prototype.isLineCurve=!0,Yw.prototype.getPoint=function(e,t){var n=t||new Tg;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Yw.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Yw.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Yw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},$w.prototype=Object.create(Pw.prototype),$w.prototype.constructor=$w,$w.prototype.isLineCurve3=!0,$w.prototype.getPoint=function(e,t){var n=t||new Cg;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},$w.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},$w.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},$w.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},$w.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Xw.prototype=Object.create(Pw.prototype),Xw.prototype.constructor=Xw,Xw.prototype.isQuadraticBezierCurve=!0,Xw.prototype.getPoint=function(e,t){var n=t||new Tg,r=this.v0,i=this.v1,o=this.v2;return n.set(Hw(e,r.x,i.x,o.x),Hw(e,r.y,i.y,o.y)),n},Xw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Xw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Xw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Jw.prototype=Object.create(Pw.prototype),Jw.prototype.constructor=Jw,Jw.prototype.isQuadraticBezierCurve3=!0,Jw.prototype.getPoint=function(e,t){var n=t||new Cg,r=this.v0,i=this.v1,o=this.v2;return n.set(Hw(e,r.x,i.x,o.x),Hw(e,r.y,i.y,o.y),Hw(e,r.z,i.z,o.z)),n},Jw.prototype.copy=function(e){return Pw.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Jw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Jw.prototype.fromJSON=function(e){return Pw.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Kw.prototype=Object.create(Pw.prototype),Kw.prototype.constructor=Kw,Kw.prototype.isSplineCurve=!0,Kw.prototype.getPoint=function(e,t){var n=t||new Tg,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(Gw(a,s.x,u.x,c.x,l.x),Gw(a,s.y,u.y,c.y,l.y)),n},Kw.prototype.copy=function(e){Pw.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Kw.prototype.toJSON=function(){var e=Pw.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Kw.prototype.fromJSON=function(e){Pw.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Tg).fromArray(r))}return this};var Qw=Object.freeze({ArcCurve:jw,CatmullRomCurve3:Vw,CubicBezierCurve:Zw,CubicBezierCurve3:qw,EllipseCurve:Iw,LineCurve:Yw,LineCurve3:$w,QuadraticBezierCurve:Xw,QuadraticBezierCurve3:Jw,SplineCurve:Kw});function eE(){Pw.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function tE(e){eE.call(this),this.type="Path",this.currentPoint=new Tg,e&&this.setFromPoints(e)}function nE(e){tE.call(this,e),this.uuid=Sg.generateUUID(),this.type="Shape",this.holes=[]}function rE(e,t){ty.call(this),this.type="Light",this.color=new Zg(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function iE(e,t,n){rE.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ty.DefaultUp),this.updateMatrix(),this.groundColor=new Zg(t)}function oE(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Tg(512,512),this.map=null,this.matrix=new Mg}function aE(){oE.call(this,new cx(50,1,.5,500))}function sE(e,t,n,r,i,o){rE.call(this,e,t),this.type="SpotLight",this.position.copy(ty.DefaultUp),this.updateMatrix(),this.target=new ty,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new aE}function uE(e,t,n,r){rE.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new oE(new cx(90,1,.5,500))}function cE(e,t,n,r,i,o){ux.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function lE(){oE.call(this,new cE(-5,5,5,-5,.5,500))}function dE(e,t){rE.call(this,e,t),this.type="DirectionalLight",this.position.copy(ty.DefaultUp),this.updateMatrix(),this.target=new ty,this.shadow=new lE}function fE(e,t){rE.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function pE(e,t,n,r){rE.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function hE(e){this.manager=void 0!==e?e:Aw,this.textures={}}eE.prototype=Object.assign(Object.create(Pw.prototype),{constructor:eE,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Yw(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Pw.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Pw.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Pw.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Qw[r.type]).fromJSON(r))}return this}}),tE.prototype=Object.assign(Object.create(eE.prototype),{constructor:tE,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Yw(this.currentPoint.clone(),new Tg(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new Xw(this.currentPoint.clone(),new Tg(e,t),new Tg(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new Zw(this.currentPoint.clone(),new Tg(e,t),new Tg(n,r),new Tg(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new Kw([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new Iw(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)},copy:function(e){return eE.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=eE.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return eE.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),nE.prototype=Object.assign(Object.create(tE.prototype),{constructor:nE,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){tE.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=tE.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){tE.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new tE).fromJSON(r))}return this}}),rE.prototype=Object.assign(Object.create(ty.prototype),{constructor:rE,isLight:!0,copy:function(e){return ty.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ty.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),iE.prototype=Object.assign(Object.create(rE.prototype),{constructor:iE,isHemisphereLight:!0,copy:function(e){return rE.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(oE.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),aE.prototype=Object.assign(Object.create(oE.prototype),{constructor:aE,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Sg.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),sE.prototype=Object.assign(Object.create(rE.prototype),{constructor:sE,isSpotLight:!0,copy:function(e){return rE.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),uE.prototype=Object.assign(Object.create(rE.prototype),{constructor:uE,isPointLight:!0,copy:function(e){return rE.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),cE.prototype=Object.assign(Object.create(ux.prototype),{constructor:cE,isOrthographicCamera:!0,copy:function(e,t){return ux.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=d*(this.view.offsetY/c))-d*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ty.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),lE.prototype=Object.assign(Object.create(oE.prototype),{constructor:lE}),dE.prototype=Object.assign(Object.create(rE.prototype),{constructor:dE,isDirectionalLight:!0,copy:function(e){return rE.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),fE.prototype=Object.assign(Object.create(rE.prototype),{constructor:fE,isAmbientLight:!0}),pE.prototype=Object.assign(Object.create(rE.prototype),{constructor:pE,isRectAreaLight:!0,copy:function(e){return rE.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=rE.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(hE.prototype,{load:function(e,t,n,r){var i=this,o=new kw(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new cw[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new Zg).setHex(o.value);break;case"v2":r.uniforms[i].value=(new Tg).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new Cg).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new Ng).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new kg).fromArray(o.value);case"m4":r.uniforms[i].value=(new Mg).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Tg).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var mE=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function vE(e){this.manager=void 0!==e?e:Aw}Object.assign(vE.prototype,{load:function(e,t,n,r){var i=this,o=new kw(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new gy,n=e.data.index;if(void 0!==n){var r=new gE[n.type](n.array);t.setIndex(new iy(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o];r=new gE[a.type](a.array);t.addAttribute(o,new iy(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var l=s[u];t.addGroup(l.start,l.count,l.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var f=new Cg;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new zg(f,d.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var gE={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function yE(e){this.manager=void 0!==e?e:Aw,this.resourcePath=""}Object.assign(yE.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?mE(e):this.path;this.resourcePath=this.resourcePath||o;var a=new kw(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new nE).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new vE,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new K_[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new K_[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new K_[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new K_[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new K_[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new K_[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new K_[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new K_[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new K_[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new K_[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new K_[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new K_[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],c=0,l=s.shapes.length;c<l;c++){var d=t[s.shapes[c]];u.push(d)}a=new K_[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],c=0,l=s.shapes.length;c<l;c++){d=t[s.shapes[c]];u.push(d)}var f=s.options.extrudePath;void 0!==f&&(s.options.extrudePath=(new Qw[f.type]).fromJSON(f)),a=new K_[s.type](u,s.options);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new hE;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var u=[],c=0;c<s.materials.length;c++){var l=s.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),u.push(n[l.uuid])}r[s.uuid]=u}else r[s.uuid]=i.parse(s),n[s.uuid]=r[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Ew.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new Ow(new Mw(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=u.url;if(Array.isArray(c)){r[u.uuid]=[];for(var l=0,d=c.length;l<d;l++){var f=c[l],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;r[u.uuid].push(i(p))}}else{p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.resourcePath+u.url;r[u.uuid]=i(p)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Uy(t[s.image]):new Rg(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,xE)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],_E),a.wrapT=n(s.wrap[1],_E)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,wE)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,wE)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new xx,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Zg(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new bx(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new yx(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new cx(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new cE(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new fE(e.color,e.intensity);break;case"DirectionalLight":r=new dE(e.color,e.intensity);break;case"PointLight":r=new uE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new pE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new sE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new iE(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new Mx(a,s):new Cy(a,s);break;case"LOD":r=new Tx;break;case"Line":r=new Lx(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new Rx(i(e.geometry),o(e.material));break;case"LineSegments":r=new Ox(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new Px(i(e.geometry),o(e.material));break;case"Sprite":r=new Sx(o(e.material));break;case"Group":r=new sx;break;default:r=new ty}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,c=0;c<u.length;c++)r.add(this.parseObject(u[c],t,n));if("LOD"===e.type)for(var l=e.levels,d=0;d<l.length;d++){var f=l[d],p=r.getObjectByProperty("uuid",f.object);void 0!==p&&r.addLevel(p,f.distance)}return r}});var bE,xE={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},_E={RepeatWrapping:eg,ClampToEdgeWrapping:tg,MirroredRepeatWrapping:ng},wE={NearestFilter:rg,NearestMipMapNearestFilter:ig,NearestMipMapLinearFilter:og,LinearFilter:ag,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:sg};function EE(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Aw,this.options=void 0}function SE(){this.type="ShapePath",this.color=new Zg,this.subPaths=[],this.currentPath=null}function TE(e){this.type="Font",this.data=e}function ME(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,u,c,l,d,f,p,h=new SE;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,h.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,h.lineTo(a,s);break;case"q":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,d=m[v++]*t+r,h.quadraticCurveTo(l,d,u,c);break;case"b":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,d=m[v++]*t+r,f=m[v++]*t+n,p=m[v++]*t+r,h.bezierCurveTo(l,d,f,p,u,c)}}return{offsetX:o.ha*t,path:h}}}function AE(){}EE.prototype={constructor:EE,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Tw.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){Tw.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}))},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(SE.prototype,{moveTo:function(e,t){this.currentPath=new tE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new nE;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=A_.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new nE).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var d,f,p=[],h=[],m=[],v=0;h[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(d=(s=o[g]).getPoints()),(a=e?!a:a)?(!l&&h[v]&&v++,h[v]={s:new nE,p:d},h[v].s.curves=s.curves,l&&v++,m[v]=[]):m[v].push({h:s,p:d[0]});if(!h[0])return n(o);if(h.length>1){for(var b=!1,x=[],_=0,w=h.length;_<w;_++)p[_]=[];for(_=0,w=h.length;_<w;_++)for(var E=m[_],S=0;S<E.length;S++){for(var T=E[S],M=!0,A=0;A<h.length;A++)r(T.p,h[A].p)&&(_!==A&&x.push({froms:_,tos:A,hole:S}),M?(M=!1,p[A].push(T)):b=!0);M&&p[_].push(T)}x.length>0&&(b||(m=p))}g=0;for(var C=h.length;g<C;g++){u=h[g].s,c.push(u);for(var k=0,L=(f=m[g]).length;k<L;k++)u.holes.push(f[k].h)}return c}}),Object.assign(TE.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=o;else{var d=ME(l,i,s,u,n);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(function(e){this.manager=void 0!==e?e:Aw}.prototype,{load:function(e,t,n,r){var i=this,o=new kw(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new TE(e)},setPath:function(e){return this.path=e,this}}),AE.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(AE.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},t=new Zg,n=new Nw,r=new hE;return function(i,o,a){var s={};function u(e,t,r,i,u){var c,l=o+e,d=AE.Handlers.get(l);null!==d?c=d.load(l):(n.setCrossOrigin(a),c=n.load(l)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=eg),1!==t[1]&&(c.wrapT=eg)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=eg),"mirror"===i[0]&&(c.wrapS=ng),"repeat"===i[1]&&(c.wrapT=eg),"mirror"===i[1]&&(c.wrapT=ng)),void 0!==u&&(c.anisotropy=u);var f=Sg.generateUUID();return s[f]=c,f}var c={uuid:Sg.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var d=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"DbgName":c.name=d;break;case"blending":c.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(d).getHex();break;case"colorSpecular":c.specular=t.fromArray(d).getHex();break;case"colorEmissive":c.emissive=t.fromArray(d).getHex();break;case"specularCoef":c.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=u(d,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapEmissive":c.emissiveMap=u(d,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapLight":c.lightMap=u(d,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapAO":c.aoMap=u(d,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapBump":c.bumpMap=u(d,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=d;break;case"mapNormal":c.normalMap=u(d,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=d;break;case"mapSpecular":c.specularMap=u(d,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapMetalness":c.metalnessMap=u(d,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapRoughness":c.roughnessMap=u(d,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapAlpha":c.alphaMap=u(d,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"flipSided":c.side=1;break;case"doubleSided":c.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=d;break;case"vertexColors":!0===d&&(c.vertexColors=2),"face"===d&&(c.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,d)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(s),r.parse(c)}}()});var CE=function(){return void 0===bE&&(bE=new(window.AudioContext||window.webkitAudioContext)),bE};function kE(e){this.manager=void 0!==e?e:Aw}function LE(e,t,n,r){ty.call(this),this.type="CubeCamera";var i=90,o=new cx(i,1,e,t);o.up.set(0,-1,0),o.lookAt(new Cg(1,0,0)),this.add(o);var a=new cx(i,1,e,t);a.up.set(0,-1,0),a.lookAt(new Cg(-1,0,0)),this.add(a);var s=new cx(i,1,e,t);s.up.set(0,0,1),s.lookAt(new Cg(0,1,0)),this.add(s);var u=new cx(i,1,e,t);u.up.set(0,0,-1),u.lookAt(new Cg(0,-1,0)),this.add(u);var c=new cx(i,1,e,t);c.up.set(0,-1,0),c.lookAt(new Cg(0,0,1)),this.add(c);var l=new cx(i,1,e,t);l.up.set(0,-1,0),l.lookAt(new Cg(0,0,-1)),this.add(l),r=r||{format:pg,magFilter:ag,minFilter:ag},this.renderTarget=new jg(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,i=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,o,r),r.activeCubeFace=1,e.render(t,a,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,u,r),r.activeCubeFace=4,e.render(t,c,r),r.texture.generateMipmaps=i,r.activeCubeFace=5,e.render(t,l,r),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)o.activeCubeFace=a,e.setRenderTarget(o),e.clear(t,n,r);e.setRenderTarget(i)}}function OE(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function RE(){ty.call(this),this.type="AudioListener",this.context=CE(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function NE(e){ty.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function PE(e){NE.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function IE(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function jE(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(kE.prototype,{load:function(e,t,n,r){var i=new kw(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);CE().decodeAudioData(n,(function(e){t(e)}))}),n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cx,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cx,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var e,t,n,r,i,o,a,s,u=new Mg,c=new Mg;return function(l){if(e!==this||t!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){e=this,t=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var d,f,p=l.projectionMatrix.clone(),h=(s=this.eyeSep/2)*i/t,m=i*Math.tan(Sg.DEG2RAD*n*.5)/a;c.elements[12]=-s,u.elements[12]=s,d=-m*r+h,f=m*r+h,p.elements[0]=2*i/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(p),d=-m*r-h,f=m*r-h,p.elements[0]=2*i/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(u)}}()}),LE.prototype=Object.create(ty.prototype),LE.prototype.constructor=LE,Object.assign(OE.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),RE.prototype=Object.assign(Object.create(ty.prototype),{constructor:RE,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new Cg,t=new Ag,n=new Cg,r=new Cg,i=new OE;return function(o){ty.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),a.positionX){var u=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,u),a.positionY.linearRampToValueAtTime(e.y,u),a.positionZ.linearRampToValueAtTime(e.z,u),a.forwardX.linearRampToValueAtTime(r.x,u),a.forwardY.linearRampToValueAtTime(r.y,u),a.forwardZ.linearRampToValueAtTime(r.z,u),a.upX.linearRampToValueAtTime(s.x,u),a.upY.linearRampToValueAtTime(s.y,u),a.upZ.linearRampToValueAtTime(s.z,u)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),NE.prototype=Object.assign(Object.create(ty.prototype),{constructor:NE,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),PE.prototype=Object.assign(Object.create(NE.prototype),{constructor:PE,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new Cg,t=new Ag,n=new Cg,r=new Cg;return function(i){if(ty.prototype.updateMatrixWorld.call(this,i),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var o=this.panner;if(o.positionX){var a=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(e.x,a),o.positionY.linearRampToValueAtTime(e.y,a),o.positionZ.linearRampToValueAtTime(e.z,a),o.orientationX.linearRampToValueAtTime(r.x,a),o.orientationY.linearRampToValueAtTime(r.y,a),o.orientationZ.linearRampToValueAtTime(r.z,a)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(IE.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(jE.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){Ag.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var DE,FE,zE="\\[\\]\\.:\\/";function UE(e,t,n){var r=n||BE.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function BE(e,t,n){this.path=t,this.parsedPath=n||BE.parseTrackName(t),this.node=BE.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function VE(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:xg,endingEnd:xg},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function GE(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function HE(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function WE(){gy.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ZE(e,t,n){_x.call(this,e,t),this.meshPerAttribute=n||1}function qE(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),iy.call(this,e,t,n),this.meshPerAttribute=r||1}function YE(e,t){return e.distance-t.distance}function $E(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)$E(i[o],t,n,!0)}function XE(e,t){this.min=void 0!==e?e:new Tg(1/0,1/0),this.max=void 0!==t?t:new Tg(-1/0,-1/0)}function JE(e,t){this.start=void 0!==e?e:new Cg,this.end=void 0!==t?t:new Cg}function KE(e){ty.call(this),this.material=e,this.render=function(){}}function QE(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new gy,c=new fy(2*a*3,3);u.addAttribute("position",c),Ox.call(this,u,new kx({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function eS(e,t){ty.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new gy,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new fy(r,3));var u=new kx({fog:!1});this.cone=new Ox(n,u),this.add(this.cone),this.update()}function tS(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,tS(e.children[n]));return t}function nS(e){for(var t=tS(e),n=new gy,r=[],i=[],o=new Zg(0,0,1),a=new Zg(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new fy(r,3)),n.addAttribute("color",new fy(i,3));var c=new kx({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Ox.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function rS(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new D_(t,4,2),i=new Ay({wireframe:!0,fog:!1});Cy.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function iS(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new gy;n.addAttribute("position",new fy([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new kx({fog:!1});Lx.call(this,n,r);var i=new gy;i.addAttribute("position",new fy([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Cy(i,new Ay({side:THREE.BackSide,fog:!1}))),this.update()}function oS(e,t,n){ty.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Yx(t);r.rotateY(.5*Math.PI),this.material=new Ay({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new iy(o,3)),this.add(new Cy(r,this.material)),this.update()}function aS(e,t,n,r){e=e||10,t=t||10,n=new Zg(void 0!==n?n:4473924),r=new Zg(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,d=-a;c<=t;c++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var f=c===i?n:r;f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3}var p=new gy;p.addAttribute("position",new fy(s,3)),p.addAttribute("color",new fy(u,3));var h=new kx({vertexColors:2});Ox.call(this,p,h)}function sS(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Zg(void 0!==i?i:4473924),o=new Zg(void 0!==o?o:8947848);var a,s,u,c,l,d,f,p=[],h=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,p.push(0,0,0),p.push(a,0,s),f=1&c?i:o,h.push(f.r,f.g,f.b),h.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,d=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*d,s=Math.cos(u)*d,p.push(a,0,s),h.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*d,s=Math.cos(u)*d,p.push(a,0,s),h.push(f.r,f.g,f.b);var m=new gy;m.addAttribute("position",new fy(p,3)),m.addAttribute("color",new fy(h,3));var v=new kx({vertexColors:2});Ox.call(this,m,v)}function uS(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new gy,c=new fy(2*a*3,3);u.addAttribute("position",c),Ox.call(this,u,new kx({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function cS(e,t,n){ty.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new gy;r.addAttribute("position",new fy([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new kx({fog:!1});this.lightPlane=new Lx(r,i),this.add(this.lightPlane),(r=new gy).addAttribute("position",new fy([0,0,0,0,0,1],3)),this.targetLine=new Lx(r,i),this.add(this.targetLine),this.update()}function lS(e){var t=new gy,n=new kx({color:16777215,vertexColors:1}),r=[],i=[],o={},a=new Zg(16755200),s=new Zg(16711680),u=new Zg(43775),c=new Zg(16777215),l=new Zg(3355443);function d(e,t,n){f(e,n),f(t,n)}function f(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",u),d("u2","u3",u),d("u3","u1",u),d("c","t",c),d("p","c",l),d("cn1","cn2",l),d("cn3","cn4",l),d("cf1","cf2",l),d("cf3","cf4",l),t.addAttribute("position",new fy(r,3)),t.addAttribute("color",new fy(i,3)),Ox.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function dS(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new gy;i.setIndex(new iy(n,1)),i.addAttribute("position",new iy(r,3)),Ox.call(this,i,new kx({color:t})),this.matrixAutoUpdate=!1,this.update()}function fS(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new gy;i.setIndex(new iy(r,1)),i.addAttribute("position",new fy([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ox.call(this,i,new kx({color:n})),this.geometry.computeBoundingSphere()}function pS(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new gy;i.addAttribute("position",new fy([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Lx.call(this,i,new kx({color:r}));var o=new gy;o.addAttribute("position",new fy([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Cy(o,new Ay({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function hS(e,t,n,r,i,o){ty.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===DE&&((DE=new gy).addAttribute("position",new fy([0,0,0,0,1,0],3)),(FE=new q_(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Lx(DE,new kx({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Cy(FE,new Ay({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function mS(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new gy;n.addAttribute("position",new fy(t,3)),n.addAttribute("color",new fy([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new kx({vertexColors:2});Ox.call(this,n,r)}Object.assign(UE.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(BE,{Composite:UE,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new BE.Composite(e,t,n):new BE(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("[\\[\\]\\.:\\/]","g");return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^\\[\\]\\.:\\/]",t="[^"+zE.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),a=new RegExp("^"+n+r+i+o+"$"),s=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(BE.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=BE.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(BE.prototype,{_getValue_unbound:BE.prototype.getValue,_setValue_unbound:BE.prototype.setValue}),Object.assign(function(){this.uuid=Sg.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,c=0,l=arguments.length;c!==l;++c){var d=arguments[c],f=d.uuid,p=r[f];if(void 0===p){p=t++,r[f]=p,e.push(d);for(var h=0,m=s;h!==m;++h)a[h].push(new BE(d,i[h],o[h]))}else if(p<n){u=e[p];var v=--n,g=e[v];r[g.uuid]=p,e[p]=g,r[f]=v,e[v]=d;for(h=0,m=s;h!==m;++h){var y=a[h],b=y[v],x=y[p];y[p]=b,void 0===x&&(x=new BE(d,i[h],o[h])),y[v]=x}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=t){var l=t++,d=e[l];n[d.uuid]=c,e[c]=d,n[u]=l,e[l]=s;for(var f=0,p=i;f!==p;++f){var h=r[f],m=h[l],v=h[c];h[c]=m,h[l]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l)if(delete r[c],l<n){var d=--n,f=e[d],p=e[y=--t];r[f.uuid]=l,e[l]=f,r[p.uuid]=d,e[d]=p,e.pop();for(var h=0,m=o;h!==m;++h){var v=(b=i[h])[d],g=b[y];b[l]=v,b[d]=g,b.pop()}}else{var y;r[(p=e[y=--t]).uuid]=l,e[l]=p,e.pop();for(h=0,m=o;h!==m;++h){var b;(b=i[h])[l]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var d=c,f=s.length;d!==f;++d){var p=s[d];l[d]=new BE(p,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(VE.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,d=u.length;l!==d;++l)u[l].evaluate(a),c[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=_g,r.endingEnd=_g):(r.endingStart=e?this.zeroSlopeAtStart?_g:xg:wg,r.endingEnd=t?this.zeroSlopeAtEnd?_g:xg:wg)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),GE.prototype=Object.assign(Object.create(Jv.prototype),{constructor:GE,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var d=r[l],f=d.name,p=c[f];if(void 0!==p)o[l]=p;else{if(void 0!==(p=o[l])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var h=t&&t._propertyBindings[l].binding.parsedPath;++(p=new jE(BE.create(n,f,h),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,f),o[l]=p}a[l].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new pw(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ew.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new VE(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ew.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),HE.prototype.clone=function(){return new HE(void 0===this.value.clone?this.value:this.value.clone())},WE.prototype=Object.assign(Object.create(gy.prototype),{constructor:WE,isInstancedBufferGeometry:!0,copy:function(e){return gy.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),ZE.prototype=Object.assign(Object.create(_x.prototype),{constructor:ZE,isInstancedInterleavedBuffer:!0,copy:function(e){return _x.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),qE.prototype=Object.assign(Object.create(iy.prototype),{constructor:qE,isInstancedBufferAttribute:!0,copy:function(e){return iy.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new Ty(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return $E(e,this,r,t),r.sort(YE),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)$E(e[i],this,r,t);return r.sort(YE),r}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Sg.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(XE.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Tg;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Tg),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Tg),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Tg),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Tg),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Tg;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(JE.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Cg),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Cg),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Cg),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new Cg,t=new Cg;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e)/i;return r&&(o=Sg.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Cg),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),KE.prototype=Object.create(ty.prototype),KE.prototype.constructor=KE,KE.prototype.isImmediateRenderObject=!0,QE.prototype=Object.create(Ox.prototype),QE.prototype.constructor=QE,QE.prototype.update=function(){var e=new Cg,t=new Cg,n=new kg;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,d=u.length;l<d;l++)for(var f=u[l],p=0,h=f.vertexNormals.length;p<h;p++){var m=s[f[r[p]]],v=f.vertexNormals[p];e.copy(m).applyMatrix4(i),t.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry){var g=a.attributes.position,y=a.attributes.normal;for(c=0,p=0,h=g.count;p<h;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}o.needsUpdate=!0}}(),eS.prototype=Object.create(ty.prototype),eS.prototype.constructor=eS,eS.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},eS.prototype.update=function(){var e=new Cg;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),nS.prototype=Object.create(Ox.prototype),nS.prototype.constructor=nS,nS.prototype.updateMatrixWorld=function(){var e=new Cg,t=new Mg,n=new Mg;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u+1,e.x,e.y,e.z),u+=2)}o.getAttribute("position").needsUpdate=!0,ty.prototype.updateMatrixWorld.call(this,r)}}(),rS.prototype=Object.create(Cy.prototype),rS.prototype.constructor=rS,rS.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},rS.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},iS.prototype=Object.create(Lx.prototype),iS.prototype.constructor=iS,iS.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},iS.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},oS.prototype=Object.create(ty.prototype),oS.prototype.constructor=oS,oS.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},oS.prototype.update=function(){var e=new Cg,t=new Zg,n=new Zg;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),aS.prototype=Object.create(Ox.prototype),aS.prototype.constructor=aS,sS.prototype=Object.create(Ox.prototype),sS.prototype.constructor=sS,uS.prototype=Object.create(Ox.prototype),uS.prototype.constructor=uS,uS.prototype.update=function(){var e=new Cg,t=new Cg,n=new kg;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var d=s[c],f=d.normal;e.copy(a[d.a]).add(a[d.b]).add(a[d.c]).divideScalar(3).applyMatrix4(r),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}i.needsUpdate=!0}}(),cS.prototype=Object.create(ty.prototype),cS.prototype.constructor=cS,cS.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},cS.prototype.update=function(){var e=new Cg,t=new Cg,n=new Cg;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),lS.prototype=Object.create(Ox.prototype),lS.prototype.constructor=lS,lS.prototype.update=function(){var e,t,n=new Cg,r=new ux;function i(i,o,a,s){n.set(o,a,s).unproject(r);var u=t[i];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,d=u.length;l<d;l++)c.setXYZ(u[l],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),dS.prototype=Object.create(Ox.prototype),dS.prototype.constructor=dS,dS.prototype.update=function(){var e=new Fg;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),dS.prototype.setFromObject=function(e){return this.object=e,this.update(),this},dS.prototype.copy=function(e){return Ox.prototype.copy.call(this,e),this.object=e.object,this},dS.prototype.clone=function(){return(new this.constructor).copy(this)},fS.prototype=Object.create(Ox.prototype),fS.prototype.constructor=fS,fS.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ty.prototype.updateMatrixWorld.call(this,e))},pS.prototype=Object.create(Lx.prototype),pS.prototype.constructor=pS,pS.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),ty.prototype.updateMatrixWorld.call(this,e)},hS.prototype=Object.create(ty.prototype),hS.prototype.constructor=hS,hS.prototype.setDirection=function(){var e,t=new Cg;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),hS.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},hS.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},hS.prototype.copy=function(e){return ty.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},hS.prototype.clone=function(){return(new this.constructor).copy(this)},mS.prototype=Object.create(Ox.prototype),mS.prototype.constructor=mS;function vS(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Vw.call(this,e),this.type="catmullrom"}Pw.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Pw.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(eE.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new ry,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new Cg(i.x,i.y,i.z||0))}return t}}),Object.assign(tE.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(Vw.prototype),Object.create(Vw.prototype),vS.prototype=Object.create(Vw.prototype),Object.assign(vS.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),aS.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},nS.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(AE.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),mE(e)}}),Object.assign(yE.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(XE.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Fg.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),JE.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Sg,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Sg.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Sg.ceilPowerOfTwo(e)}}),Object.assign(kg.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Mg.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new Cg),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),Ug.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Ag.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ty.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(My.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(My,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),My.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),My.getNormal(e,t,n,r)}}),Object.assign(nE.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new L_(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new V_(this,e)}}),Object.assign(Tg.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Cg.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ng.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ry.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(ty.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(ty.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Tx.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ax.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Mx.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Pw.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),cx.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(rE.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(iy.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(gy.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(gy.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(O_.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(HE.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ey.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Zg}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(rw.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Sy.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(gx.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(gx.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(rx.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Pg.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(mx.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),NE.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new kE).load(e,(function(e){t.setBuffer(e)})),this},IE.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},LE.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Lg.crossOrigin=void 0,Lg.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Nw;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Lg.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Rw;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Lg.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Lg.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var gS=new(function(){function e(){Hn(this,e),this.renderer=void 0,this.rtTexture=void 0,this.sceneRTT=void 0,this.cameraRTT=void 0,this.material=void 0,this.width=960,this.height=540}return Gn(e,[{key:"initialize",value:function(){var e=this;window.addEventListener("resize",(function(t){e.resize()}));var t=new cE(this.width/-2,this.width/2,this.height/2,this.height/-2,-1e4,1e4);t.position.z=100;var n=new xx,r=new Pg(this.width,this.height,{minFilter:ag,magFilter:rg,format:hg,type:ug}),i=new zx;i.needsUpdate=!0;var o=new Sy({uniforms:{tDiffuse:{value:i}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = vec2(uv.x, 1.0-uv.y); // fuck gl uv coords\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n",fragmentShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\t}\n"});this.material=o;var a=new Cy(new _y(this.width,this.height),o);a.position.z=-100,n.add(a);var s=new gx;s.setPixelRatio(window.devicePixelRatio),s.setSize(this.width,this.height),s.autoClear=!1,document.getElementById("app").appendChild(s.domElement),document.getElementById("app").style.display="none",this.renderer=s,this.rtTexture=r,this.sceneRTT=n,this.cameraRTT=t,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}},{key:"resize",value:function(){var e=new cE(this.width/-2,this.width/2,this.height/2,this.height/-2,-1e4,1e4);e.position.z=100,this.cameraRTT=e;var t=new xx,n=new Cy(new _y(this.width,this.height),this.material);n.position.z=-100,t.add(n),this.sceneRTT=t,this.rtTexture=new Pg(this.width,this.height,{minFilter:ag,magFilter:rg,format:hg,type:ug}),this.renderer.setSize(this.width,this.height)}},{key:"animate",value:function(){requestAnimationFrame(this.animate),this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT,this.rtTexture,!0)}},{key:"generateImage",value:function(){var e=new Uint8Array(this.width*this.height*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,this.width,this.height,e);var t=document.createElement("canvas");t.style.display="inline",t.width=this.width,t.height=this.height;var n=new Uint8ClampedArray(e.buffer);return t.getContext("2d").putImageData(new ImageData(n,this.width,this.height),0,0),t.toDataURL("image/png",.5)}}]),e}());gS.initialize();var yS,bS,xS=function(){var e=ie(),n=Mn(yl(),1)[0],r=$v(),i=wl().addAlert,o=Xv().takePhoto,a=Mn((0,t.useState)("https://placekitten.com/960/540"),2),s=a[0],u=a[1];return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,t.useEffect)((function(){var t=setInterval(e,n);return function(){clearInterval(t)}}),r)}((function(){u(gS.generateImage())}),1),(0,t.useEffect)((function(){return el(Fv.ENTER_CAMERA,{}),function(){el(Fv.EXIT_CAMERA,{})}}),[]),(0,bl.jsx)(fm,{appear:!0,show:!0,className:"h-full flex flex-col",enter:"transition-all origin-[80%_80%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[80%_80%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsx)(Bl,{children:(0,bl.jsxs)(od,{className:"flex flex-col justify-between h-full",children:[(0,bl.jsxs)("div",{className:"grid grid-cols-3 place-items-center mx-5 my-2",children:[(0,bl.jsxs)("div",{className:"flex place-self-start",children:[(0,bl.jsx)(Ed,{className:"h-7 w-7 p-1 border border-white border-opacity-25 text-white mx-1 rounded-full"}),(0,bl.jsx)(Td,{className:"h-7 w-7 p-1 border border-white border-opacity-25 text-white mx-1 rounded-full"})]}),(0,bl.jsx)(Hl,{className:"h-7 w-7 p-1 bg-white bg-opacity-25 text-white rounded-full"}),(0,bl.jsxs)("div",{className:"flex place-self-end",children:[(0,bl.jsx)(wd,{className:"h-7 w-7 p-1 border border-white border-opacity-25 text-white mx-1 rounded-full"}),(0,bl.jsx)(_d,{className:"h-7 w-7 p-1 border border-white border-opacity-25 text-white mx-1 rounded-full"})]})]}),(0,bl.jsx)("div",{className:"bg-center bg-cover h-[550px] w-full",style:{backgroundImage:"url(".concat(s,")")}}),(0,bl.jsxs)("div",{className:"flex justify-between items-center mb-14 mx-4",children:[(0,bl.jsx)("div",{className:"bg-center bg-cover w-16 aspect-square rounded-xl cursor-pointer",style:{backgroundImage:"url(".concat(r[0]&&r[0].image||null,")")},onClick:function(){return e.push("/photo")}}),(0,bl.jsx)("div",{className:"bg-white h-16 w-16 rounded-full ring ring-white ring-offset-2 ring-offset-black cursor-pointer",onClick:function(){el(Fv.TAKE_PHOTO).then((function(e){if("ok"!==e.status)return i({message:n("CAMERA.FAILED_TO_TAKE_PHOTO"),type:"error"});o(e.data)}))}}),(0,bl.jsx)($l,{className:"bg-[#1D1D1D] text-white p-2 h-12 w-12 rounded-full cursor-pointer",onClick:function(){el(Fv.TOGGLE_CAMERA,{})}})]})]})})})},_S={contacts:Uc({key:"societyContactsList",default:[{id:1,display:"LSPD",number:"555-LSPD",avatar:"media/society_icon/lspd.webp"},{id:2,display:"LSMS",number:"555-LSMS",avatar:"media/society_icon/lsms.webp"},{id:3,display:"BCSO",number:"555-BCSO",avatar:"media/society_icon/bcso.webp"}]}),filterInput:Uc({key:"societyFilterInput",default:""}),filteredContacts:Bc({key:"societyFilteredContacts",get:function(e){var t=e.get,n=t(_S.filterInput),r=t(_S.contacts),i=[];if(n){var o=new RegExp(n,"gi");r=r.filter((function(e){return e.display.match(o)||e.number.match(o)}))}return r.forEach((function(e){void 0===i[e.display[0]]&&(i[e.display[0]]=[]),i[e.display[0]].push(e)})),i}})};!function(e){e[e.message=255]="message"}(yS||(yS={})),function(e){e.UPDATE_SOCIETY_MESSAGE="npwd:updateSocietyMessage",e.SEND_SOCIETY_MESSAGE="npwd:sendSocietyMessage",e.FETCH_SOCIETY_MESSAGES="npwd:fetchSocietyMessage",e.RESET_SOCIETY_MESSAGES="npwd:resetSocietyMessage",e.SEND_SOCIETY_MESSAGE_SUCCESS="npwd:sendSocietyMessageSuccess",e.CREATE_MESSAGE_BROADCAST="npwd:createSocietyMessagesBroadcast"}(bS||(bS={}));var wS=function(){var e=ae().id,n=km({referal:"/society-contacts"}).referal,r=ie(),i={getContact:qc((function(e){var t=e.snapshot;return function(e){var n=t.getLoadable(_S.contacts),r=n.state,i=n.contents;if("hasValue"!==r)return null;var o,a=Bn(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.id===e)return s}}catch(u){a.e(u)}finally{a.f()}return null}}),[])},o=i.getContact,a=function(){var e=wl().addAlert,n=Mn(yl(),1)[0],r=ie();return{sendSocietyMessage:(0,t.useCallback)((function(t,i){var o=t.number,a=t.message,s=t.anonymous,u=t.position;el(bS.SEND_SOCIETY_MESSAGE,{number:o,anonymous:s,message:a,position:u}).then((function(t){if("ok"!==t.status)return e({message:n("SOCIETY_CONTACTS.FEEDBACK.SEND_FAILED"),type:"error"});e({message:n("SOCIETY_CONTACTS.FEEDBACK.SEND_SUCCESS"),type:"success"}),r.replace(i)}))}),[e,r,n])}}(),s=a.sendSocietyMessage,u=o(parseInt(e)),c=Mn(yl(),1)[0],l=Mn((0,t.useState)(""),2),d=l[0],f=l[1],p=Mn((0,t.useState)(!1),2),h=p[0],m=p[1];return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:u.display,children:(0,bl.jsxs)(pm,{className:"flex items-center text-base",onClick:function(){return r.goBack()},children:[(0,bl.jsx)(Vl,{className:"h-5 w-5"}),"Fermer"]})}),(0,bl.jsxs)(od,{className:"text-white mt-10 mx-4 mb-4",children:[(0,bl.jsx)("div",{className:"flex justify-center",children:(0,bl.jsx)("div",{className:"bg-gray-700 bg-cover bg-center h-20 w-20 my-1 rounded-full",style:{backgroundImage:"url(".concat(u.avatar,")")}})}),(0,bl.jsx)("div",{children:(0,bl.jsx)(Sm,{value:d,rows:14,variant:"outlined",onChange:function(e){e.currentTarget.value.length!==yS.message&&f(e.target.value)},placeholder:c("SOCIETY_CONTACTS.FORM_MESSAGE")})}),(0,bl.jsxs)("div",{className:"mt-4 grid gap-3 grid-cols-3",children:[(0,bl.jsxs)(zm,{onClick:function(){s({number:u.number,message:d,anonymous:h,position:!1},n)},children:[(0,bl.jsx)(yd,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm text-center",children:c("SOCIETY_CONTACTS.SEND")})]}),(0,bl.jsxs)(zm,{onClick:function(e){m((function(e){return!e}))},children:[h?(0,bl.jsx)(Ld,{className:"h-6 w-6"}):(0,bl.jsx)(kd,{className:"h-6 w-6"}),(0,bl.jsxs)("p",{className:"text-sm text-center",children:["Rappel ",h?"interdit":"autoris\xe9"]})]}),(0,bl.jsxs)(zm,{onClick:function(){s({number:u.number,message:d,anonymous:h,position:!0},n)},children:[(0,bl.jsx)(Md,{className:"h-6 w-6"}),(0,bl.jsx)("p",{className:"text-sm text-center",children:c("SOCIETY_CONTACTS.SEND_POSITION")})]})]})]})]})})},ES=function(){var e=Mn(yl(),1)[0],n=Wc(_S.filterInput),r=Mn((0,t.useState)(""),2),i=r[0],o=r[1],a=Im(i,500);return(0,t.useEffect)((function(){n(a)}),[a,n]),(0,bl.jsx)("div",{children:(0,bl.jsx)(Pm,{onChange:function(e){return o(e.target.value)},placeholder:e("SOCIETY_CONTACTS.PLACEHOLDER_SEARCH_CONTACTS"),value:i})})},SS=function(){var e=Vc(_S.filteredContacts),n=(0,t.useContext)(zl).theme,r=ie();return(0,bl.jsxs)("div",{className:"mt-5",children:[(0,bl.jsx)(ES,{}),(0,bl.jsx)("nav",{className:"h-[780px] pb-10 overflow-y-auto","aria-label":"Directory",children:Object.keys(e).sort().map((function(t){return(0,bl.jsxs)("div",{className:"relative",children:[(0,bl.jsx)("div",{className:"sticky top-0 pt-4 px-6 py-1 text-sm font-medium ".concat("dark"===n?"bg-black text-gray-400":"bg-[#F2F2F6] text-gray-600"),children:(0,bl.jsx)("h3",{children:t})}),(0,bl.jsx)("ul",{className:"relative divide-y ".concat("dark"===n?"divide-gray-700":"divide-gray-200"),children:e[t].map((function(e){return(0,bl.jsx)("li",{className:"".concat("dark"===n?"bg-black":"bg-[#F2F2F6]"," w-full cursor-pointer"),onClick:function(){return t=e.id,void r.push("/society-contacts/".concat(t));var t},children:(0,bl.jsxs)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===n?"hover:bg-gray-900":"hover:bg-gray-200"),children:[(0,bl.jsx)("div",{className:"flex-shrink-0",children:(0,bl.jsx)("img",{className:"h-10 w-10 ".concat("dark"===n?"bg-gray-700":"bg-gray-100"," rounded-full"),src:e.avatar,alt:""})}),(0,bl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,bl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===n?"text-gray-100":"text-gray-600"),children:e.display})]})]})},e.id)}))})]},t)}))})]})},TS=function(){var e=XS("SOCIETY_CONTACTS");return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[70%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[70%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e}),(0,bl.jsx)(od,{children:(0,bl.jsxs)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:[(0,bl.jsx)(X,{path:"/society-contacts/",exact:!0,component:SS}),(0,bl.jsx)(X,{path:"/society-contacts/:id",exact:!0,component:wS})]})})]})})},MS=function(e){var n=e.children,r=e.id,i=e.emitOnOpen;return(0,t.useEffect)((function(){i&&el("npwd:app:".concat(r),void 0,{})}),[r,i]),n},AS=(0,t.memo)(MS,(function(){return!0})),CS=["id","emitOnOpen","component"],kS=function(e){var t=e.id,n=e.emitOnOpen,r=e.component,i=kn(e,CS);return(0,bl.jsx)(X,(0,bn.Z)((0,bn.Z)({},i),{},{render:function(){return(0,bl.jsx)(AS,{id:t,emitOnOpen:n,children:(0,bl.jsx)(r,{})})}}))},LS="common.white",OS="common.white",RS="common.white",NS="common.white",PS={transactions:Uc({key:"transactionList",default:[]}),bankModal:Uc({key:"modalVisibility",default:!1}),bankCredentials:Uc({key:"bankCredentails",default:null}),notification:Uc({key:"bankNotification",default:null})},IS=function(){return Vc(PS.bankCredentials)},jS=function(e){return(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsx)("div",{className:"relative mx-10 bg-[#604b9b] flex flex-col justify-between h-48 rounded-2xl"}),(0,bl.jsxs)("div",{className:"relative -top-48 m-5 bg-[#4e4b49] flex flex-col justify-between h-48 rounded-2xl",children:[(0,bl.jsx)("div",{className:"flex justify-end font-bold text-white pr-5 pt-3",children:"BANK"}),(0,bl.jsx)("div",{className:"m-3",children:(0,bl.jsxs)("svg",{width:"42",height:"34",viewBox:"0 0 42 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,bl.jsx)("mask",{id:"mask0_518_21",maskUnits:"userSpaceOnUse",x:"1",y:"0",width:"40",height:"33",children:(0,bl.jsx)("rect",{x:"1",y:"0.707764",width:"40",height:"32",rx:"5",fill:"#F0F0F0"})}),(0,bl.jsxs)("g",{mask:"url(#mask0_518_21)",children:[(0,bl.jsx)("rect",{x:"1",y:"0.707764",width:"40",height:"32",rx:"5",fill:"#F0F0F0"}),(0,bl.jsx)("path",{d:"M26 11.7078V11.2078H25.5V11.7078H26ZM50 11.7078H50.5V11.2078H50V11.7078ZM50 21.7078V22.2078H50.5V21.7078H50ZM26 21.7078H25.5V22.2078H26V21.7078ZM-8 11.7078V11.2078H-8.5V11.7078H-8ZM16 11.7078H16.5V11.2078H16V11.7078ZM16 21.7078V22.2078H16.5V21.7078H16ZM-8 21.7078H-8.5V22.2078H-8V21.7078ZM26 12.2078H50V11.2078H26V12.2078ZM49.5 11.7078V21.7078H50.5V11.7078H49.5ZM50 21.2078H26V22.2078H50V21.2078ZM26.5 21.7078V11.7078H25.5V21.7078H26.5ZM-8 12.2078H16V11.2078H-8V12.2078ZM15.5 11.7078V21.7078H16.5V11.7078H15.5ZM16 21.2078H-8V22.2078H16V21.2078ZM-7.5 21.7078V11.7078H-8.5V21.7078H-7.5ZM14 34.7078L19 28.7078L18.2318 28.0676L13.2318 34.0676L14 34.7078ZM23 28.7078L28.5227 34.2304L29.2298 33.5233L23.7071 28.0007L23 28.7078ZM13.2554 -0.525897L18.2673 5.4641L19.0343 4.82239L14.0223 -1.16761L13.2554 -0.525897ZM27.5649 -1.29224L23.0001 5.04512L23.8115 5.62959L28.3764 -0.707765L27.5649 -1.29224ZM23 22.7078V28.7078H24V22.7078H23ZM18 22.7078V28.7078H19V22.7078H18ZM18 4.70776V10.7078H19V4.70776H18ZM23 4.70776V10.7078H24V4.70776H23ZM26 21.7078H24V22.7078H26V21.7078ZM18 21.7078H16V22.7078H18V21.7078ZM26 10.7078H24V11.7078H26V10.7078ZM18 10.7078H16V11.7078H18V10.7078Z",fill:"black",fillOpacity:"0.4"})]})]})}),(0,bl.jsxs)("div",{className:"flex justify-between text-white font-thin mx-3 pb-3",children:[(0,bl.jsx)("h2",{children:e.name}),(0,bl.jsxs)("h3",{children:["$",e.balance]})]})]})]})},DS=function(){var e=IS(),n=(0,t.useContext)(zl).theme;return(0,bl.jsx)(od,{className:"mt-14 mb-4",children:e?(0,bl.jsx)("div",{children:(0,bl.jsx)(jS,{name:e.name,account:"Checking",balance:e.balance})}):(0,bl.jsx)("div",{className:"h-[600px] w-full flex justify-center items-center ".concat("dark"===n?"text-white":"text-dark"),children:"Information non disponible"})})},FS=function(){var e=Mn(yl(),1)[0];return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[20%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[20%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:e("APPS_BANK"),isBigHeader:!0}),(0,bl.jsx)(od,{children:(0,bl.jsx)(ne,{children:(0,bl.jsx)(X,{path:"/bank",exact:!0,component:DS})})})]})})},zS="common.white",US=[{id:1,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, conse ctetur adip iscing elit.",position:'{"x":205.12088012695312,"y":1160.4395751953125,"z":226.99560546875}',isTaken:!1,isDone:!1,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, cons ectetur adipis cing elit.",position:null,isTaken:!0,isDone:!1,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"555-1234",message:"Lorem ipsum dolor sit amet, cons ctetur adipi scing elit.",position:null,isTaken:!0,isDone:!0,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"},{id:2,conversation_id:"555-LSPD",source_phone:"",message:"Lorem ipsum dolor sit amet, cons ctetur adipi scing elit.",position:'{"x":205.12088012695312,"y":1160.4395751953125,"z":226.99560546875}',isTaken:!0,isDone:!0,createdAt:"2022-01-14T09:58:18.000Z",updatedAt:"2022-01-14T09:58:18.000Z"}],BS={messages:Uc({key:"societyMessages",default:Bc({key:"defaultSocietyMessages",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(bS.FETCH_SOCIETY_MESSAGES,void 0,Qc(US));case 3:return t=e.sent,e.abrupt("return",t.data.reverse());case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})})},VS=function(){var e=Vc(BS.messages),n=(0,t.useContext)(zl).theme,r=cd().initializeCall,i=function(e,t,n){el(bS.UPDATE_SOCIETY_MESSAGE,{id:e,take:t,done:n})};return(0,bl.jsx)("ul",{className:"mt-5 relative divide-y ".concat("dark"===n?"divide-gray-700":"divide-gray-300"),children:e.map((function(e){return(0,bl.jsxs)(bh,{as:"li",className:"w-full ".concat("dark"===n?"bg-black":"bg-white"),children:[(0,bl.jsx)(bh.Button,{className:"w-full",children:(0,bl.jsx)("div",{className:"relative px-6 py-2 flex items-center space-x-3 ".concat("dark"===n?"hover:bg-gray-900":"hover:bg-gray-300"),children:(0,bl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",children:[(0,bl.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,bl.jsx)("p",{className:"text-left text-sm font-medium ".concat("dark"===n?"text-gray-100":"text-gray-700"),children:e.message}),(0,bl.jsxs)("p",{className:"flex justify-between text-left text-xs text-gray-400",children:[e.isDone?(0,bl.jsx)("span",{children:"L'appel est fini !"}):e.isTaken?(0,bl.jsx)("span",{children:"L'appel est pris !"}):(0,bl.jsx)("span",{}),(0,bl.jsx)("span",{children:tf()().to(e.updatedAt)})]})]})})}),(0,bl.jsx)(fm,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,bl.jsxs)(bh.Items,{className:"absolute z-30 right-0 w-56 mt-2 origin-top-right bg-gray-900 divide-y divide-gray-600 divide-opacity-50 rounded-md shadow-lg focus:outline-none",children:[""!==e.source_phone&&(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return t=e.source_phone,Kc({action:"Emitting `Start Call` to Scripts",level:2,data:!0}),void r(t);var t},children:[(0,bl.jsx)(Rd,{className:"mx-3 h-5 w-5"})," Appeler"]}),e.position&&(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return function(e){var t=JSON.parse(e);el(Lm.SET_WAYPOINT,{x:t.x,y:t.y})}(e.position)},children:[(0,bl.jsx)(Md,{className:"mx-3 h-5 w-5"})," Aller a la position"]}),e.isTaken?!e.isDone&&(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return i(e.id,!0,!0)},children:[(0,bl.jsx)(gd,{className:"mx-3 h-5 w-5"})," Cl\xf4turer l'appel"]}):(0,bl.jsxs)(pm,{className:"flex items-center w-full text-white px-2 py-2 hover:text-gray-300",onClick:function(){return i(e.id,!0,!1)},children:[(0,bl.jsx)(gd,{className:"mx-3 h-5 w-5"})," Prendre l'appel"]})]})})]},e.conversation_id)}))})},GS=function(){var e=XS("SOCIETY_MESSAGES");return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[10%_20%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[10%_20%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{app:e}),(0,bl.jsx)(od,{children:(0,bl.jsx)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:(0,bl.jsx)(X,{path:"/society-messages",exact:!0,component:VS})})})]})})},HS=function(){var e=XS("PHOTO"),n=ie(),r=km(),i=Mn(yl(),1)[0],o=$v(),a=(0,t.useContext)(zl).theme,s=r.referal?decodeURIComponent(r.referal):"/photo/image",u=function(e){n.push(function(e){var t=e.pathname,n=void 0===t?"":t,r=e.search,i=void 0===r?"":r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=ev()(n+i).query;return"".concat(n,"?").concat(Cm().stringify((0,bn.Z)((0,bn.Z)({},s),{},(0,An.Z)({},o,a))))}(function(e){var t=ev()(e);return{pathname:t.pathname,search:"?"+(t.search||"")}}(s),"image",e.image))};return(0,bl.jsx)(Bl,{children:(0,bl.jsxs)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all duration-300",enterFrom:"translate-x-0",enterTo:"-translate-x-full",leave:"transition-all duration-300",leaveFrom:"-translate-x-full",leaveTo:"translate-x-0",children:[(0,bl.jsx)(Qd,{app:e,isBigHeader:!0}),(0,bl.jsxs)(od,{className:"mt-14",children:[0===o.length&&(0,bl.jsx)("div",{className:"flex flex-col justify-center items-center ".concat("dark"===a?"text-white":"text-black"," h-[600px]"),children:i("PHOTO.FEEDBACK.NO_PHOTOS")}),(0,bl.jsx)("div",{className:"grid grid-cols-3 gap-1",children:o.map((function(e){return(0,bl.jsx)("div",{className:"bg-cover bg-center w-full aspect-square cursor-pointer",style:{backgroundImage:"url(".concat(e.image,")")},onClick:function(){return u(e)}},e.id)}))})]})]})})},WS=function(){var e=ie(),n=km(),r=(0,t.useContext)(zl).theme,i=Xv().deletePhoto,o=wl().addAlert,a=Mn(yl(),1)[0],s=n.referal||"/photo",u=(0,t.useMemo)((function(){return{id:parseInt(n.id),image:n.image}}),[n]);return u?(0,bl.jsxs)("div",{className:"flex flex-col justify-between h-[790px]",children:[(0,bl.jsx)("div",{}),(0,bl.jsx)("div",{className:"bg-cover bg-center w-full aspect-square cursor-pointer",style:{backgroundImage:"url(".concat(u.image,")")}}),(0,bl.jsxs)("div",{className:"grid grid-cols-4 content-start ".concat("dark"===r?"bg-[#1C1C1E] text-white":"bg-[#F2F2F6] text-black"," h-16"),children:[(0,bl.jsx)(pm,{className:"flex flex-col items-center py-3 text-sm",onClick:function(){!function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(u.image),e.push(s)},children:(0,bl.jsx)(Pd,{className:"h-6 w-6"})}),(0,bl.jsx)(pm,{className:"flex flex-col items-center col-start-4 py-3 text-sm text-red-500",onClick:function(){el(Fv.DELETE_PHOTO,{image:u.image}).then((function(t){if("ok"!==t.status)return o({message:a("CAMERA.FAILED_TO_DELETE"),type:"error"});i(u.image),e.goBack()}))},children:(0,bl.jsx)(Id,{className:"h-6 w-6"})})]})]}):null},ZS=function(){return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col",enter:"transition-all origin-[80%_10%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[80%_10%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsxs)(Bl,{children:[(0,bl.jsx)(Qd,{title:" "}),(0,bl.jsx)(od,{children:(0,bl.jsx)(ne,{children:(0,bl.jsxs)(t.Suspense,{fallback:(0,bl.jsx)(rd,{}),children:[(0,bl.jsx)(X,{path:"/photo",exact:!0,component:HS}),(0,bl.jsx)(X,{path:"/photo/image",exact:!0,component:WS})]})})})]})})},qS=function(){return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"h-full",enter:"transition-all origin-[60%_20%] duration-500",enterFrom:"scale-[0.0] opacity-0",enterTo:"scale-100 opacity-100",leave:"transition-all origin-[60%_20%] duration-500",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-[0.0] opacity-0",children:(0,bl.jsx)(Bl,{children:(0,bl.jsx)("iframe",{is:"x-frame-bypass",src:"https://zutom.z-lan.fr/daily",style:{width:"100%",height:" 100%"}})})})},YS=[{id:"DIALER",nameLocale:"APPS_DIALER",color:RS,path:"/phone",home:!0,Route:function(){return(0,bl.jsx)(kS,{id:"DIALER",path:"/phone",component:Fm,emitOnOpen:!1})}},{id:"MESSAGES",nameLocale:"APPS_MESSAGES",color:LS,path:"/messages",home:!0,Route:function(){return(0,bl.jsx)(kS,{id:"MESSAGES",path:"/messages",component:Dv,emitOnOpen:!1})}},{id:"CONTACTS",nameLocale:"APPS_CONTACTS",color:OS,path:"/contacts",home:!0,Route:function(){return(0,bl.jsx)(kS,{id:"CONTACTS",path:"/contacts",component:Bm,emitOnOpen:!1})}},{id:"BANK",nameLocale:"APPS_BANK",color:"common.white",path:"/bank",Route:function(){return(0,bl.jsx)(kS,{id:"BANK",path:"/bank",component:FS,emitOnOpen:!1})}},{id:"NOTES",nameLocale:"APPS_NOTES",color:"common.white",path:"/notes",Route:function(){return(0,bl.jsx)(kS,{id:"NOTES",path:"/notes",component:qv,emitOnOpen:!0})}},{id:"SOCIETY_CONTACTS",nameLocale:"APPS_SOCIETY_CONTACTS",color:NS,path:"/society-contacts",Route:function(){return(0,bl.jsx)(kS,{id:"SOCIETY_CONTACTS",path:"/society-contacts",component:TS,emitOnOpen:!1})}},{id:"PHOTO",nameLocale:"APPS_PHOTO",color:"common.white",path:"/photo",Route:function(){return(0,bl.jsx)(kS,{id:"PHOTO",path:"/photo",component:ZS,emitOnOpen:!0})}},{id:"SETTINGS",nameLocale:"APPS_SETTINGS",color:"grey[50]",path:"/settings",Route:function(){return(0,bl.jsx)(kS,{id:"SETTINGS",path:"/settings",component:ov,emitOnOpen:!1})}},{id:"SOCIETY_MESSAGES",nameLocale:"APPS_SOCIETY_MESSAGES",color:zS,path:"/society-messages",Route:function(){return(0,bl.jsx)(kS,{id:"SOCIETY_MESSAGES",path:"/society-messages",component:GS,emitOnOpen:!1})}},{id:"ZUTOM",nameLocale:"ZUTOM",color:zS,path:"/zutom",Route:function(){return(0,bl.jsx)(kS,{id:"ZUTOM",path:"/zutom",component:qS,emitOnOpen:!1})}},{id:"CAMERA",nameLocale:"APPS_CAMERA",color:"common.white",path:"/camera",home:!0,Route:function(){return(0,bl.jsx)(kS,{id:"CAMERA",path:"/camera",component:xS,emitOnOpen:!0})}}],$S=function(){var e=Jd().icons,r=(0,t.useMemo)((function(){return YS.map((function(r){var i=t.lazy((function(){return n(9061)("./".concat(r.id)).catch((function(){return"Was not able to find a dynamic import for icon from this icon set"}))})),o=Kd(i,{className:"h-8 w-8 rounded-md"}),a=Kd(i,{className:"h-16 w-16 rounded-[1rem]"});return(0,bn.Z)((0,bn.Z)({},r),{},{notification:e.find((function(e){return e.key===r.id})),NotificationIcon:o,notificationIcon:(0,bl.jsx)(o,{}),icon:(0,bl.jsx)(a,{})})}))}),[e]),i=(0,t.useCallback)((function(e){return r.find((function(t){return t.id===e}))||null}),[r]);return{apps:r,getApp:i}},XS=function(e){return(0,$S().getApp)(e)},JS=function(e){e.id;var t=e.nameLocale,n=(e.Icon,e.color,e.icon),r=(e.notification,Mn(yl(),1)[0]);return(0,bl.jsxs)(pm,{className:"flex flex-col justify-self-center w-full",children:[(0,bl.jsx)("div",{className:"self-center",children:n}),(0,bl.jsx)("p",{className:"flex-nowrap self-center text-white text-sm truncate text-ellipsis w-20",children:r(t)})]})},KS=function(e){var t=e.items,n=e.Component,r=void 0===n?JS:n;return(0,bl.jsx)("div",{className:"grid grid-cols-4 gap-4 mx-4 justify-items-center",children:t&&t.length&&t.map((function(e){return(0,bl.jsx)(he,{to:e.path,children:(0,bl.jsx)(r,(0,bn.Z)({},e))},e.id)}))})},QS=function(){var e=$S().apps,n=(0,t.useContext)(zl).theme,r=null===Vc(sd.societyNumber)?e.filter((function(e){return!0!==e.home&&"SOCIETY_MESSAGES"!==e.id})):e.filter((function(e){return!0!==e.home})),i=e.filter((function(e){return!0===e.home}));return(0,bl.jsx)(Bl,{children:(0,bl.jsxs)(fm,{appear:!0,show:!0,className:"mt-4 h-full flex flex-col justify-between",enter:"transition-transform duration-700",enterFrom:"scale-[3.0]",enterTo:"scale-100",leave:"transition-transform duration-700",leaveFrom:"scale-100",leaveTo:"scale-[3.0]",children:[(0,bl.jsx)("div",{className:"mt-4 px-1",children:(0,bl.jsx)(KS,{items:r})}),(0,bl.jsx)("div",{className:"".concat("dark"===n?"bg-black":"bg-[#F2F2F6]"," bg-opacity-25 rounded-[20px] mb-10 py-2 mx-2"),children:(0,bl.jsx)(KS,{items:i})})]})})},eT=function(){return Vc(Ll.phoneTime)},tT=function(e){return(0,bl.jsxs)("svg",(0,bn.Z)((0,bn.Z)({},e),{},{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,bl.jsx)("rect",{x:"1.5",y:"1.5",width:"23",height:"11",rx:"1.5",stroke:"currentColor"}),(0,bl.jsx)("rect",{x:"3",y:"3",width:"12",height:"8",rx:"1",fill:"currentColor"}),(0,bl.jsx)("path",{d:"M26 5V5C26.5523 5 27 5.44772 27 6V8C27 8.55228 26.5523 9 26 9V9V5Z",fill:"currentColor"})]}))},nT=function(e){return(0,bl.jsxs)("svg",(0,bn.Z)((0,bn.Z)({},e),{},{viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,bl.jsx)("rect",{x:"1",y:"9",width:"3",height:"4",rx:"0.5",fill:"currentColor"}),(0,bl.jsx)("rect",{x:"6",y:"7",width:"3",height:"6",rx:"0.5",fill:"currentColor"}),(0,bl.jsx)("rect",{x:"11",y:"4",width:"3",height:"9",rx:"0.5",fill:"currentColor",fillOpacity:"0.5"}),(0,bl.jsx)("rect",{x:"16",y:"1",width:"3",height:"12",rx:"0.5",fill:"currentColor",fillOpacity:"0.5"})]}))},rT=["onClose","onClickClose"],iT=function(e){var t=e.onClose,n=e.onClickClose,r=kn(e,rT),i=r.title,o=r.notificationIcon,a=r.content,s=r.cantClose,u=r.onClick;return(0,bl.jsxs)("li",{className:"cursor-pointer py-2 px-4 flex justify-between items-center hover:bg-black hover:bg-opacity-25 text-white text-sm",onClick:function(e){u&&(u(r),n(e))},children:[o&&(0,bl.jsx)("div",{className:"text-white h-8 w-8 p-1 rounded-md",children:o}),(0,bl.jsxs)("div",{className:"flex flex-col",children:[(0,bl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:i}),(0,bl.jsx)("p",{className:"flex-grow ml-4 font-light normal-case",children:a})]}),!s&&(0,bl.jsx)(pm,{className:"mx-2",onClick:t,children:(0,bl.jsx)(Gl,{className:"h-4 w-4 text-gray-400"})})]})},oT=function(){var e=Jd(),n=e.icons,r=e.notifications,i=e.removeNotification,o=e.barUncollapsed,a=e.setBarUncollapsed,s=se("/"),u=se("/camera"),c=(0,t.useContext)(zl).theme,l=eT();(0,t.useEffect)((function(){0===r.length&&a(!1)}),[r,a]);return(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsxs)("div",{className:"".concat(s&&s.isExact?"text-white":u&&u.isExact||"dark"===c?"bg-black text-white":"bg-[#F2F2F6] text-black"," grid grid-cols-3 px-5 py-3 text-sm w-full z-50 cursor-pointer"),onClick:function(){a((function(e){return!e}))},children:[(0,bl.jsxs)("div",{className:"flex justify-center text-center truncate",children:[(0,bl.jsx)("p",{className:"mr-2",children:l}),n.map((function(e){return(0,bl.jsx)("div",{className:"h-4 w-4 mx-1 notificationBarIcon",children:e.icon})}))]}),(0,bl.jsx)("div",{children:"\xa0"}),(0,bl.jsxs)("div",{className:"flex justify-end",children:[(0,bl.jsx)("span",{children:"ZT&T"}),(0,bl.jsx)(nT,{className:"h-5 w-5 mx-2"}),(0,bl.jsx)(tT,{className:"h-5 w-5"})]})]}),(0,bl.jsx)(fm,{appear:!0,show:o,className:"absolute inset-x-0 h-full w-full z-50",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,bl.jsxs)("div",{className:"h-full bg-black bg-opacity-60 backdrop-blur text-white flex flex-col items-center",children:[(0,bl.jsx)("div",{className:"my-20 font-light text-6xl",children:l}),(0,bl.jsx)("ul",{className:"divide-y divide-gray-600 overflow-y-scroll",children:r.map((function(e,t){return(0,bl.jsx)(iT,(0,bn.Z)((0,bn.Z)({},e),{},{onClose:function(n){var r;n.stopPropagation(),null===(r=e.onClose)||void 0===r||r.call(e,e),i(t)},onClickClose:function(){a(!1),e.cantClose||i(t)}}),t)}))})]})})]})},aT=function(){var e=ie(),n=se("/"),r=se("/camera"),i=Jd().setBarUncollapsed,o=(0,t.useContext)(zl).theme;return(0,bl.jsx)(fm,{appear:!0,show:!0,className:"absolute bottom-0 inset-x-px flex justify-center items-center h-10 z-50",enter:"transition-opacity duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,bl.jsx)("div",{className:"".concat(r&&r.isExact||n&&n.isExact||"dark"===o?"bg-gray-200":"bg-black"," bg-opacity-70 rounded-full cursor-pointer h-[0.53rem] w-2/5 transition-colors ease-in-out duration-300"),onClick:function(){e.push("/"),i(!1)}})})},sT=function(e){},uT=function(e,n,r){var i=(0,t.useRef)();(0,t.useEffect)((function(){i.current=r}),[r]),(0,t.useEffect)((function(){var t=function(t){var r=t.data,o=r.method,a=r.app,s=r.data;i.current&&i.current.call&&o===n&&a===e&&(Kc({action:o,data:s}),i.current(s))};return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[n,e])};sT([{app:"SIMCARD",method:vm.SET_NUMBER,data:"111-1134"},{app:"SOCIETY_SIMCARD",method:vm.SET_SOCIETY_NUMBER,data:"555-LSPD"},{app:"AVATAR",method:Jc.SET_AVATAR,data:"https://beta.iodine.gg/teUcY.jpeg"}]);var cT,lT,dT,fT=n(9950);!function(e){e[e.title=255]="title",e[e.description=255]="description",e[e.url=255]="url"}(cT||(cT={})),function(e){e.DUPLICATE="duplicate"}(lT||(lT={})),function(e){e.ADD_LISTING="npwd:addListing",e.FETCH_LISTING="npwd:fetchAllListings",e.DELETE_LISTING="npwd:marketplaceDeleteListing",e.DELETE_LISTINGS_ON_DROP="npwd:marketplaceDeleteListingsOnDrop",e.REPORT_LISTING="npwd:reportListing",e.BROADCAST_ADD="npwd:sendMarketplaceBroadcastAdd",e.BROADCAST_DELETE="npwd:sendMarketplaceBroadcastDelete"}(dT||(dT={}));var pT,hT=Uc({key:"listings",default:Bc({key:"defaultListings",get:function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(dT.FETCH_LISTING);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.next=11;break;case 11:return console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}),mT=(Uc({key:"form",default:{title:"",description:"",url:""}}),function(){var e=Wc(hT);return{deleteListing:qc((function(t){var n=t.snapshot;return function(t){var r=n.getLoadable(hT),i=r.state,o=r.contents;"hasValue"===i&&o.length&&e((function(e){return En(e).filter((function(e){return!t.includes(e.id)}))}))}}),[]),addListing:qc((function(t){var n=t.snapshot;return function(t){"hasValue"===n.getLoadable(hT).state&&e((function(e){return[t].concat(En(e))}))}}),[e])}});!function(e){e.GET_CREDENTIALS="npwd:getBankCredentials",e.SEND_CREDENTIALS="npwd:sendBankCredentials",e.FETCH_TRANSACTIONS="npwd:fetchAllTransactions",e.TRANSACTION_NOTIFICATION="npwd:bankTransactionNotification",e.TRANSACTION_ALERT="npwd:bankTransactionAlert",e.SEND_ALERT="npwd:sendBankAlert",e.SEND_NOTIFICATION="npwd:sendBankNotification"}(pT||(pT={}));var vT="messages:broadcast",gT=function(){var e=Mn(Hc(Ll.visibility),2),n=e[0],r=e[1],i=Jd().currentAlert,o=Mn(Cl(),1)[0].zoom,a=Mn((0,t.useState)(!1),2),s=a[0],u=a[1],c=(0,t.useRef)();return(0,t.useEffect)((function(){n&&u(!1)}),[n]),(0,t.useEffect)((function(){if(!n&&i){if(u(!0),c.current&&(clearTimeout(c.current),c.current=void 0),null!==i&&void 0!==i&&i.keepWhenPhoneClosed)return;c.current=setTimeout((function(){u(!1)}),3e3)}}),[i,n,r]),{bottom:(0,t.useMemo)((function(){return n?"0px":"".concat(-728*o.value,"px")}),[n,o]),visibility:s||n}},yT=function(){var e=dv(),n=e.updateLocalMessages,r=e.updateLocalConversations,i=function(){var e=Mn(yl(),1)[0],t=ie(),n=Jd(),r=n.removeId,i=n.addNotification,o=n.addNotificationAlert,a=XS("MESSAGES"),s=a.icon,u=a.notificationIcon,c=mv(),l=c.getMessageConversationById,d=c.goToConversation,f=fv().addConversation,p=Vc(cv.activeMessageConversation);return t.listen((function(e){null!==p&&void 0!==p&&p.conversation_id&&$(e.pathname,{path:"/messages/conversations/".concat(p.conversation_id),exact:!0})&&r("".concat(vT,":").concat(p.conversation_id))})),{setNotification:function(t){var n,a=t.conversationName,c=t.conversationId,p=t.message,h=null;(h=l(c))||(f(a),h=l(c));var m="".concat(vT,":").concat(c),v={app:"MESSAGES",id:m,sound:!0,title:(null===(n=h)||void 0===n?void 0:n.display)||h.phoneNumber||a,onClick:function(){return d(h)},content:p,icon:s,notificationIcon:u};o(v,(function(t){var n;r(m),h.unread>1?i((0,bn.Z)((0,bn.Z)({},t),{},{title:h.phoneNumber||(null===(n=h)||void 0===n?void 0:n.display),content:e("MESSAGES.MESSAGES.UNREAD_MESSAGES",{count:h.unread})})):i(t)}))}}}().setNotification,o=oe().pathname,a=gT().visibility,s=qd(),u=s.getDisplayByNumber,c=s.getPictureByNumber,l=(0,t.useCallback)((function(e){n(e)}),[n]),d=(0,t.useCallback)((function(e){var t=u(e.phoneNumber),n=c(e.phoneNumber);r({phoneNumber:e.phoneNumber,conversation_id:e.conversation_id,avatar:n,unread:0,display:t})}),[r,u,c]);(0,fT.useNuiEvent)("MESSAGES",Lm.CREATE_MESSAGE_BROADCAST,(function(e){var t=e.conversationName,n=e.conversationId,r=e.message;a&&o.includes("/messages/conversations")||i({conversationName:t,conversationId:n,message:r})})),(0,fT.useNuiEvent)("MESSAGES",Lm.SEND_MESSAGE_SUCCESS,l),(0,fT.useNuiEvent)("MESSAGES",Lm.CREATE_MESSAGE_CONVERSATION_SUCCESS,d)},bT=function(e){var t=e.children;return(0,bl.jsxs)("div",{children:[(0,bl.jsx)("div",{children:t}),(0,bl.jsx)("div",{children:(0,bl.jsx)(Gd,{isSmall:!0})})]})},xT="call:current",_T=function(){var e=Mn(yl(),1)[0],n=ie(),r=Jd(),i=r.addNotificationAlert,o=r.removeId,a=r.addNotification,s=function(){var e=Mn(Cl(),1)[0],n=Pl();if(!n)throw new Error("useRingtoneSound must be wrapped in SoundProvider");var r=(0,t.useMemo)((function(){return jl("ringtone",e)}),[e]);return(0,t.useEffect)((function(){n.isMounted(r.sound)?n.volume(r.sound,r.volume):n.mount(r.sound,r.volume,!0)}),[n,r.sound,r.volume]),{play:function(){return n.play(r.sound,r.volume,!0)},stop:function(){return n.stop(r.sound)},playing:function(){return n.playing(r.sound)}}}(),u=s.play,c=s.stop,l=XS("DIALER"),d=l.icon,f=l.notificationIcon,p={app:"CALL",id:xT,cantClose:!0,icon:d,onClick:function(){return n.push("/call")},notificationIcon:f};return{setNotification:function(t){c(),t?(null!==t&&void 0!==t&&t.is_accepted&&(o(xT),a((0,bn.Z)((0,bn.Z)({},p),{},{content:(0,bl.jsx)(bT,{children:e("DIALER.MESSAGES.CURRENT_CALL_WITH",{transmitter:t.transmitter})}),title:e("DIALER.MESSAGES.CURRENT_CALL_TITLE")}))),null!==t&&void 0!==t&&t.isTransmitter||null!==t&&void 0!==t&&t.is_accepted||(u(),o(xT),i((0,bn.Z)((0,bn.Z)({},p),{},{title:e("DIALER.MESSAGES.INCOMING_CALL_TITLE",{transmitter:t.transmitter}),keepWhenPhoneClosed:!1,content:(0,bl.jsx)(bT,{children:e("DIALER.MESSAGES.TRANSMITTER_IS_CALLING",{transmitter:t.transmitter})})}),(function(e){return a(e)})))):o(xT)},clearNotification:function(){o(xT),c()}}},wT=(0,t.forwardRef)((function(e,t){return(0,bl.jsxs)("div",(0,bn.Z)((0,bn.Z)({ref:t,className:"flex items-center mx-10 px-4 py-2 bg-black bg-opacity-70 text-gray-300 backdrop-blur shadow-md rounded-lg "},e),{},{children:[(0,bl.jsx)("div",{className:"flex-none h-10 w-10 ".concat("success"===e.severity?"bg-green-500":"bg-red-500"," rounded-lg mr-3")}),(0,bl.jsx)("div",{className:"flex-grow",children:e.children})]}))})),ET=wT,ST=function(){var e=Jd().currentAlert;return(0,bl.jsx)(fm,{appear:!0,show:!!e,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,bl.jsx)("div",{children:(0,bl.jsx)(ET,{onClick:function(t){return null===e||void 0===e?void 0:e.onClickAlert(t)},icon:(null===e||void 0===e?void 0:e.icon)||void 0,children:null===e||void 0===e?void 0:e.content})})})},TT=function(){var e=Mn((0,t.useState)(!1),2),n=e[0],r=e[1],i=Mn((0,t.useState)(""),2),o=i[0],a=i[1],s=Mn((0,t.useState)("info"),2),u=s[0],c=s[1];(0,fT.useNuiEvent)("PHONE","startRestart",(function(){a("Restarting UI"),r(!0),c("error"),setTimeout((function(){return window.location.reload()}),3e3)}));return(0,bl.jsx)(fm,{appear:!0,show:n,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,bl.jsx)(wT,{severity:u,onClose:function(){r(!1)},children:(0,bl.jsxs)("p",{children:["Phone -",o]})})})},MT={ArrowRight:Uc({key:"ArrowRight",default:null}),ArrowLeft:Uc({key:"ArrowLeft",default:null}),ArrowUp:Uc({key:"ArrowUp",default:null}),ArrowDown:Uc({key:"ArrowDown",default:null}),Backspace:Uc({key:"Backspace",default:null}),Enter:Uc({key:"Enter",default:null}),Escape:Uc({key:"Escape",default:null})},AT=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Backspace","Enter","Escape"],CT=function(){var e=ie(),n=function(){var e=Vc(Ll.visibility),t=Vc(Ll.resourceConfig),n=Jd().removeAlerts;return{ResourceConfig:t,closePhone:function(){n(),el(vm.CLOSE_PHONE,void 0,{}).catch()},openPhone:function(){el(vm.OPEN_PHONE,void 0,{}).catch()},isPhoneOpen:e}}().closePhone,r=Vc(MT.ArrowRight),i=Vc(MT.ArrowLeft),o=Vc(MT.ArrowUp),a=Vc(MT.ArrowDown),s=Vc(MT.Backspace),u=Vc(MT.Enter),c=Vc(MT.Escape),l=(0,t.useRef)(new Map),d=Wc(MT.Escape),f=Wc(MT.Backspace);(0,t.useEffect)((function(){l.current.set("ArrowRight",r),l.current.set("ArrowLeft",i),l.current.set("ArrowUp",o),l.current.set("ArrowDown",a),l.current.set("Backspace",s),l.current.set("Enter",u),l.current.set("Escape",c)}),[a,i,r,o,s,u,c]),(0,t.useEffect)((function(){function e(e){var t=e.key,n=l.current.get(t);if(function(e){return-1!==AT.indexOf(e)}(t)&&n&&n.call)return n(e)}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[]);var p=(0,t.useCallback)((function(t){["input","textarea"].includes(t.target.nodeName.toLowerCase())||e.goBack()}),[e]);(0,t.useEffect)((function(){l.current.set("Escape",(function(){return n()})),l.current.set("Backspace",p)}),[d,f,e,p,n])},kT=function(e){var t,n=Bn(yn.wallpapers);try{for(n.s();!(t=n.n()).done;){if(t.value.value===e)return!0}}catch(r){n.e(r)}finally{n.f()}},LT=function(e){var t=e.children,n=Mn(Cl(),1)[0],r=se("/").isExact,i=se("/camera"),o=gT().visibility;return(0,bl.jsx)("div",{className:"transition-any ease-in-out duration-500 ".concat(o?"translate-y-0":"translate-y-full"),children:(0,bl.jsx)("div",{className:"PhoneWrapper",onClick:function(){i&&i.isExact&&el(Fv.TOGGLE_CONTROL_CAMERA,{})},children:(0,bl.jsxs)("div",{className:"Phone",style:{position:"fixed",transformOrigin:"right bottom",zoom:"".concat(n.zoom.value,"%"),bottom:0},children:[(0,bl.jsx)("div",{className:"PhoneFrame",style:{backgroundImage:"url(media/frames/default.png)"}}),(0,bl.jsx)("div",{id:"phone",className:r?"PhoneScreen":"PhoneScreen PhoneScreenNoHome",style:{backgroundImage:kT(n.wallpaper.value)?"url(media/backgrounds/".concat(n.wallpaper.value,")"):"url(".concat(n.wallpaper.value,")")},children:t})]})})})},OT=JSON.parse('{"PhoneAsItem":{"enabled":true,"exportResource":"soz-inventory","exportFunction":"hasPhone"},"general":{"toggleKey":"L","toggleCommand":"phone"},"database":{"useIdentifierPrefix":false,"playerTable":"players","identifierColumn":"citizenid","identifierType":"license","profileQueries":true,"phoneNumberColumn":"phone_number"},"images":{"url":"https://images.soz.zerator.com/","type":"imgur","imageEncoding":"jpg","contentType":"multipart/form-data","authorizationPrefix":"Client-ID","useAuthorization":true,"returnedDataIndexes":["data","link"]},"debug":{"level":"debug","enabled":true,"sentryEnabled":false}}'),RT=function(e){e.isOpen;var t=e.errorMsg,n=Mn(yl(),1)[0];return(0,bl.jsxs)("div",{children:[(0,bl.jsx)("div",{children:n("MISC.TOP_LEVEL_ERR_TITLE")}),(0,bl.jsxs)("div",{children:[(0,bl.jsxs)("div",{children:[n("MISC.TOP_LEVEL_ERR_MSG"),(0,bl.jsx)("br",{}),(0,bl.jsx)("br",{}),(0,bl.jsx)("code",{style:{color:"red"},children:t})]}),(0,bl.jsx)("div",{children:(0,bl.jsx)("div",{color:"primary",onClick:function(){return window.location.reload()},children:n("MISC.TOP_LEVEL_ERR_ACTION")})})]})]})},NT=function(e){Dn(n,e);var t=Un(n);function n(){var e;Hn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1,errorMsg:""},e}return Gn(n,[{key:"componentDidCatch",value:function(e,t){vt(e,{contexts:{react:{componentStack:t.componentStack}}})}},{key:"render",value:function(){return this.state.hasError?(0,bl.jsx)(RT,{isOpen:this.state.hasError,errorMsg:this.state.errorMsg}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMsg:e.message}}}]),n}(t.Component),PT=function(){var e=Wc(Ll.resourceConfig);(0,t.useEffect)((function(){var t=function(){var e;return window.GetParentResourceName?null===(e=window)||void 0===e?void 0:e.GetParentResourceName():"npwd"}();fetch("https://cfx-nui-".concat(t,"/config.json")).then(function(){var t=Rn(Zn().mark((function t(n){var r;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,e(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e])},IT=function(){var e=wl(),n=e.alert,r=e.isOpen,i=e.handleClose;return(0,t.useEffect)((function(){var e=setInterval((function(){i()}),3e3);return function(){return clearInterval(e)}})),(0,bl.jsx)(fm,{appear:!0,show:r,className:"absolute inset-x-0 z-40",enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-y-full",enterTo:"translate-y-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-y-0",leaveTo:"-translate-y-full",children:(0,bl.jsx)(ET,{severity:(null===n||void 0===n?void 0:n.type)||"info",onClose:i,children:(null===n||void 0===n?void 0:n.message)||""})})},jT="society-messages:broadcast",DT=function(){var e=Gc(BS.messages).state,n=Wc(BS.messages);return{updateLocalMessages:(0,t.useCallback)((function(t){"hasValue"===e&&n((function(e){return[{id:t.id,conversation_id:t.conversation_id,source_phone:t.source_phone,message:t.message,position:t.position,isTaken:t.isTaken,isDone:t.isDone,createdAt:t.createdAt,updatedAt:t.updatedAt}].concat(En(e))}))}),[e,n])}},FT=function(){var e=function(){var e=Mn(yl(),1)[0],t=ie(),n=Jd(),r=n.removeId,i=n.addNotification,o=n.addNotificationAlert,a=XS("SOCIETY_MESSAGES"),s=a.icon,u=a.notificationIcon;return t.listen((function(e){$(e.pathname,{path:"/society-messages",exact:!0})&&r("".concat(jT))})),{setNotification:function(n){var a=n.message,c=(n.external,{app:"SOCIETY_MESSAGE",NOTIFICATION_ID:jT,sound:!0,title:e("SOCIETY_MESSAGES.NOTIFICATION.TITLE"),onClick:function(){return t.push("/society-messages")},content:a,icon:s,notificationIcon:u});o(c,(function(e){r(jT),i(e)}))}}}().setNotification,t=DT().updateLocalMessages,n=oe().pathname,r=gT().visibility,i=Mn(Hc(BS.messages),2)[1],o=function(){var e=Rn(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(bS.FETCH_SOCIETY_MESSAGES,void 0,Qc(US));case 3:t=e.sent,i(t.data.reverse()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),i([]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,fT.useNuiEvent)("SOCIETY_MESSAGES",bS.CREATE_MESSAGE_BROADCAST,(function(i){var o=i.id,a=i.conversation_id,s=i.source_phone,u=i.message,c=i.position,l=i.isTaken,d=i.isDone,f=i.createdAt,p=i.updatedAt;r&&n.includes("/society-messages")||(e({message:u}),t({id:o,conversation_id:a,source_phone:s,message:u,position:c,isTaken:l,isDone:d,createdAt:f,updatedAt:p}))})),(0,fT.useNuiEvent)("SOCIETY_MESSAGES",bS.RESET_SOCIETY_MESSAGES,o)};var zT=function(){var e=yl(),n=e.t,r=e.i18n,i=$S().apps,o=Mn(Cl(),1)[0],a=wl().addAlert;(0,t.useEffect)((function(){r.changeLanguage(o.language.value).catch((function(e){return console.error(e)}))}),[r,o.language]),(0,t.useEffect)((function(){(function(){var e=localStorage.getItem(El);if(e)try{var t=JSON.parse(e);return Sl.validate(t,Tl).valid}catch(n){console.error("Unable to parse settings JSON",n)}return!0})()||a({message:n("SETTINGS.MESSAGES.INVALID_SETTINGS"),type:"error"})}),[]),PT(),CT(),function(){var e=$S().getApp,n=wl().addAlert,r=ie(),i=Wc(Ll.visibility),o=Wc(Ll.resourceConfig),a=Wc(Ll.phoneTime),s=(0,t.useCallback)((function(t){var n=e(t.toUpperCase());if(!n)return console.error('App "'.concat(t,'" is an invalid app id to open'));r.push(n.path)}),[e,r]);uT("PHONE",vm.ADD_SNACKBAR_ALERT,n),uT("PHONE",vm.SET_VISIBILITY,i),uT("PHONE",vm.SET_CONFIG,o),uT("PHONE",vm.SET_TIME,a),uT("PHONE",vm.OPEN_APP,s)}(),function(){var e=Wc(sd.number),t=Wc(sd.societyNumber),n=Wc(sd.avatar);uT("SIMCARD",vm.SET_NUMBER,e),uT("SOCIETY_SIMCARD",vm.SET_SOCIETY_NUMBER,t),uT("AVATAR",Jc.SET_AVATAR,n),ud()}(),function(){var e=mT(),n=e.addListing,r=e.deleteListing,i=(0,t.useCallback)((function(e){n(e.listing)}),[n]),o=(0,t.useCallback)((function(e){r(e)}),[r]);(0,fT.useNuiEvent)("MARKETPLACE",dT.BROADCAST_ADD,i),(0,fT.useNuiEvent)("MARKETPLACE",dT.BROADCAST_DELETE,o)}(),function(){var e=Wc(PS.bankCredentials),t=Wc(PS.notification),n=wl().addAlert,r=Mn(yl(),1)[0];(0,fT.useNuiEvent)("BANK",pT.SEND_CREDENTIALS,e),(0,fT.useNuiEvent)("BANK",pT.SEND_ALERT,(function(e){var t=e.message,i=e.type;n({message:r("APPS_".concat(t)),type:i})})),(0,fT.useNuiEvent)("BANK",pT.SEND_NOTIFICATION,t)}(),yT(),function(){var e=qd().getContactByNumber,n=ie(),r=$S().getApp,i=(0,t.useCallback)((function(t){var i,o=e(t.number),a=r("CONTACTS").path,s=Cm().stringify({addNumber:t.number.slice(0,Bd.number),name:null===(i=t.name)||void 0===i?void 0:i.slice(0,Bd.display)});if(!o)return n.push({pathname:"".concat(a,"/-1"),search:"?".concat(s)});n.push({pathname:"".concat(a,"/").concat(o.id),search:"?".concat(s)})}),[r,e,n]);uT("CONTACTS",Vd.ADD_CONTACT_EXPORT,i)}(),function(){var e=$S().getApp,n=ie(),r=(0,t.useCallback)((function(t){var r=e("NOTES").path,i=Cm().stringify(t);n.push({pathname:r,search:"?".concat(i)})}),[n,e]);uT("NOTES",Ov.ADD_NOTE_EXPORT,r)}(),FT(),function(){var e=pd().modal,n=ie(),r=oe().pathname,i=cd().setCall,o=_T(),a=o.setNotification,s=o.clearNotification,u=Wc(ad.callModal),c=Mn((0,t.useState)(!1),2),l=c[0],d=c[1];(0,t.useEffect)((function(){d(!!e)}),[e]),(0,t.useEffect)((function(){e||"/call"!==r||n.replace("/"),e&&!l&&"/call"!==r&&n.push("/call")}),[n,e,r,l]),(0,fT.useNuiEvent)("CALL",nd.SET_CALLER,(function(e){if(i(e),!e)return s();a(e)})),(0,fT.useNuiEvent)("CALL",nd.SET_CALL_MODAL,u)}(),function(){var e=wl().addAlert,t=Mn(yl(),1)[0];uT("DIALER",nd.SEND_ALERT,(function(n){var r=n.message,i=n.type;e({message:t("APPS_".concat(r)),type:i})}))}();var s=pd().modal,u=cd().call,c=(null===u||void 0===u?void 0:u.is_accepted)||!s;return(0,bl.jsx)("div",{children:(0,bl.jsxs)(NT,{children:[(0,bl.jsx)(TT,{}),(0,bl.jsxs)(LT,{children:[(0,bl.jsx)(oT,{}),(0,bl.jsxs)("div",{className:"PhoneAppContainer select-none",children:[(0,bl.jsxs)(bl.Fragment,{children:[(0,bl.jsx)(X,{exact:!0,path:"/",component:QS}),s&&(0,bl.jsx)(X,{exact:!0,path:"/call",component:Xd}),i.map((function(e){return(0,bl.jsx)(e.Route,{},e.id)}))]}),(0,bl.jsx)(ST,{}),(0,bl.jsx)(IT,{})]}),c&&(0,bl.jsx)(aT,{})]})]})})};sT([{app:"PHONE",method:vm.SET_VISIBILITY,data:!0},{app:"PHONE",method:vm.SET_PHONE_READY,data:!0},{app:"PHONE",method:vm.SET_TIME,data:tf()().format("hh:mm")},{app:"PHONE",method:vm.SET_CONFIG,data:OT}]);var UT=function(){return(0,bl.jsx)(Nl,{children:(0,bl.jsx)(Ul,{children:(0,bl.jsx)(Fl,{children:(0,bl.jsx)(_l,{children:(0,bl.jsx)(zT,{})})})})})},BT=n(3605),VT=n.n(BT);function GT(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var HT=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function WT(e){var t=HT.exec(e);return t?t.slice(1):[]}function ZT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=!1,i=e.length-1;i>=-1&&!r;i--){var o=i>=0?e[i]:"/";o&&(n=o+"/"+n,r="/"===o.charAt(0))}return(r?"/":"")+(n=GT(n.split("/").filter((function(e){return!!e})),!r).join("/"))||"."}function qT(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}var YT=function(){function e(t){var n=this;void 0===t&&(t={}),this.name=e.id,this._prefix="app:///",this._iteratee=function(e){if(!e.filename)return e;var t=/^[A-Z]:\\/.test(e.filename),r=/^\//.test(e.filename);if(t||r){var i=t?e.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):e.filename,o=n._root?function(e,t){e=ZT(e).substr(1),t=ZT(t).substr(1);for(var n=qT(e.split("/")),r=qT(t.split("/")),i=Math.min(n.length,r.length),o=i,a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}var s=[];for(a=o;a<n.length;a++)s.push("..");return(s=s.concat(r.slice(o))).join("/")}(n._root,i):function(e,t){var n=WT(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}(i);e.filename=""+n._prefix+o}return e},t.root&&(this._root=t.root),t.prefix&&(this._prefix=t.prefix),t.iteratee&&(this._iteratee=t.iteratee)}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);return r?r.process(t):t}))},e.prototype.process=function(e){var t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=this._processExceptionsEvent(t)),e.stacktrace&&(t=this._processStacktraceEvent(t)),t},e.prototype._processExceptionsEvent=function(e){var t=this;try{return(0,xe.pi)((0,xe.pi)({},e),{exception:(0,xe.pi)((0,xe.pi)({},e.exception),{values:e.exception.values.map((function(e){return(0,xe.pi)((0,xe.pi)({},e),{stacktrace:t._processStacktrace(e.stacktrace)})}))})})}catch(n){return e}},e.prototype._processStacktraceEvent=function(e){try{return(0,xe.pi)((0,xe.pi)({},e),{stacktrace:this._processStacktrace(e.stacktrace)})}catch(t){return e}},e.prototype._processStacktrace=function(e){var t=this;return(0,xe.pi)((0,xe.pi)({},e),{frames:e&&e.frames&&e.frames.map((function(e){return t._iteratee(e)}))})},e.id="RewriteFrames",e}();var $T=function(e){var n=e.children,r=Mn((0,t.useState)(0),2),i=r[0],o=r[1];return(0,fT.useNuiEvent)("PHONE",vm.UNLOAD_CHARACTER,(function(){o((function(e){return e+1}))})),(0,bl.jsx)(zc,{children:n},i)},XT=function(e){var n=e.children,r=Yc();return(0,t.useEffect)((function(){if(yn.debug.shouldShowAtomDebug){console.debug("The following atoms were modified:");var e,t=Bn(r.getNodes_UNSTABLE({isModified:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;console.debug(n.key,r.getLoadable(n))}}catch(i){t.e(i)}finally{t.f()}}}),[r]),(0,bl.jsx)(bl.Fragment,{children:n})};function JT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){(0,An.Z)(e,t,n[t])}))}return e}var KT={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},QT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Hn(this,e),this.init(t,n)}return Gn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||KT,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,JT({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),eM=new QT,tM=function(){function e(){Hn(this,e),this.observers={}}return Gn(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function nM(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function rM(e){return null==e?"":""+e}function iM(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function oM(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var o="string"!==typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function aM(e,t,n){var r=oM(e,t,Object);r.obj[r.k]=n}function sM(e,t){var n=oM(e,t),r=n.obj,i=n.k;if(r)return r[i]}function uM(e,t,n){var r=sM(e,n);return void 0!==r?r:sM(t,n)}function cM(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):cM(e[r],t[r],n):e[r]=t[r]);return e}function lM(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var dM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function fM(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return dM[e]})):e}var pM="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function hM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"===typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s];var c=r.slice(o+a).join(n);return c?hM(u,c,n):void 0}i=i[r[o]]}return i}}var mM=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Hn(this,t),n=zn(this,Nn(t).call(this)),pM&&tM.call(Ln(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return Dn(t,e),Gn(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!==typeof n&&(a=a.concat(n)),n&&"string"===typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=sM(this.data,a);return s||!o||"string"!==typeof n?s:hM(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),aM(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=sM(this.data,a)||{};r?cM(s,n,i):s=JT({},s,n),aM(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?JT({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(tM),vM={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}},gM={},yM=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hn(this,t),n=zn(this,Nn(t).call(this)),pM&&tM.call(Ln(n)),iM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Ln(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=eM.create("translator"),n}return Dn(t,e),Gn(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,n,r){var i=this;if("object"!==Fn(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,u=a.namespaces,c=u[u.length-1],l=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(d){var f=n.nsSeparator||this.options.nsSeparator;return c+f+s}return s}var p=this.resolve(e,n),h=p&&p.res,m=p&&p.usedKey||s,v=p&&p.exactUsedKey||s,g=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,_="string"!==typeof h&&"boolean"!==typeof h&&"number"!==typeof h;if(x&&h&&_&&y.indexOf(g)<0&&("string"!==typeof b||"[object Array]"!==g)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,JT({},n,{ns:u})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var w="[object Array]"===g,E=w?[]:{},S=w?v:m;for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)){var M="".concat(S).concat(o).concat(T);E[T]=this.translate(M,JT({},n,{joinArrays:!1,ns:u})),E[T]===M&&(E[T]=h[T])}h=E}}else if(x&&"string"===typeof b&&"[object Array]"===g)(h=h.join(b))&&(h=this.extendTranslation(h,e,n,r));else{var A=!1,C=!1,k=void 0!==n.count&&"string"!==typeof n.count,L=t.hasDefaultValue(n),O=k?this.pluralResolver.getSuffix(l,n.count):"",R=n["defaultValue".concat(O)]||n.defaultValue;!this.isValidLookup(h)&&L&&(A=!0,h=R),this.isValidLookup(h)||(C=!0,h=s);var N=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,P=N&&C?void 0:h,I=L&&R!==h&&this.options.updateMissing;if(C||A||I){if(this.logger.log(I?"updateKey":"missingKey",l,c,s,I?R:h),o){var j=this.resolve(s,JT({},n,{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var z=0;z<F.length;z++)D.push(F[z]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(n.lng||this.language):D.push(n.lng||this.language);var U=function(e,t,r){i.options.missingKeyHandler?i.options.missingKeyHandler(e,c,t,I?r:P,I,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,c,t,I?r:P,I,n),i.emit("missingKey",e,c,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?D.forEach((function(e){i.pluralResolver.getSuffixes(e).forEach((function(t){U([e],s+t,n["defaultValue".concat(t)]||R)}))})):U(D,s,R))}h=this.extendTranslation(h,e,n,p,r),C&&h===s&&this.options.appendNamespaceToMissingKey&&(h="".concat(c,":").concat(s)),(C||A)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(JT({},n,{interpolation:JT({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=JT({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=vM.handle(f,e,t,this.options&&this.options.postProcessPassResolved?JT({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,f=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!gM["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(gM["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u,l=c,p=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,c,n,e,s);else d&&(o=a.pluralResolver.getSuffix(n,s.count)),d&&f&&p.push(l+o),f&&p.push(l+="".concat(a.options.contextSeparator).concat(s.context)),d&&p.push(l+=o);for(;u=p.pop();)a.isValidLookup(t)||(r=u,t=a.getResource(n,e,u,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(tM);function bM(e){return e.charAt(0).toUpperCase()+e.slice(1)}var xM=function(){function e(t){Hn(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=eM.create("languageUtils")}return Gn(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=bM(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=bM(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=bM(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),_M=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wM={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function EM(){var e={};return _M.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:wM[t.fc]}}))})),e}var SM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Hn(this,e),this.languageUtils=t,this.options=n,this.logger=eM.create("pluralResolver"),this.rules=EM()}return Gn(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"===typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),TM=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Hn(this,e),this.logger=eM.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Gn(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:fM,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?lM(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?lM(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?lM(t.nestingPrefix):t.nestingPrefixEscaped||lM("$t("),this.nestingSuffix=t.nestingSuffix?lM(t.nestingSuffix):t.nestingSuffixEscaped||lM(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=uM(t,u,e);return s.alwaysFormat?s.format(i,void 0,n,JT({},r,t,{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(uM(t,u,a),c,n,JT({},r,t,{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=l(i[1].trim())))if("function"===typeof d){var n=d(e,i,r);o="string"===typeof n?n:""}else{if(f){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=rM(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=u.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=JT({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=JT({},t,a))}catch(o){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),o),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=rM(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return i.format(e,t,o.lng,JT({},o,{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();var MM=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Hn(this,t),i=zn(this,Nn(t).call(this)),pM&&tM.call(Ln(i)),i.backend=e,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=eM.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return Dn(t,e),Gn(t,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(t)<0&&u.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=oM(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,JT({},o,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),t}(tM);function AM(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Fn(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===Fn(e[2])||"object"===Fn(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function CM(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function kM(){}var LM=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),e=zn(this,Nn(t).call(this)),pM&&tM.call(Ln(e)),e.options=CM(n),e.services={},e.logger=eM,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),zn(e,Ln(e));setTimeout((function(){e.init(n,r)}),0)}return e}return Dn(t,e),Gn(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"===typeof e?new e:e:null}if("function"===typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=JT({},AM(),this.options,CM(t)),this.format=this.options.interpolation.format,n||(n=kM),!this.options.isClone){this.modules.logger?eM.init(r(this.modules.logger),this.options):eM.init(null,this.options);var i=new xM(this.options);this.store=new mM(this.options.resources,this.options);var o=this.services;o.logger=eM,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new SM(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new TM(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new MM(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new yM(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=nM(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kM,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=nM();return e||(e=this.languages),t||(t=this.options.ns),n||(n=kM),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&vM.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=nM();this.emit("languageChanging",e);var i=function(i){e||i||!n.services.languageDetector||(i=[]);var o="string"===typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);o&&(n.language||(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o)),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==Fn(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=JT({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var c=r.options.keySeparator||".",l=n?"".concat(n).concat(c).concat(t):t;return r.t(l,o)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=nM();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=nM();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kM,i=JT({},this.options,n,{isClone:!0}),o=new t(i),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=JT({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new yM(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(tM),OM=new LM,RM={fr:JSON.parse('{"translation":{"MISC":{"TOP_LEVEL_ERR_TITLE":"Erreur fatale","TOP_LEVEL_ERR_ACTION":"Rafra\xeechir","TOP_LEVEL_ERR_MSG":"NPWD a rencontr\xe9 une erreur impossible \xe0 contourner. Vous devez recharger la fen\xeatre NUI. L\'erreur est affich\xe9e en dessous pour pouvoir la rapporter aux d\xe9veloppeurs."},"NOTIFICATIONS":{"NO_UNREAD":"Aucune notification(s)"},"DATE_FORMAT":"MM/JJ/AAAA","DATE_TIME_FORMAT":"MM/JJ/AAAA hh:mm A","CALLS":{"MESSAGES":{"RINGING":"Appel","OUTGOING":"Appel sortant","INCOMING":"Appel entrant"},"FEEDBACK":{"ERROR_MYSELF":"Vous ne pouvez pas vous appeler vous-m\xeame !","ERROR":"Une erreur est survenue lors de cet appel"}},"SETTINGS":{"PHONE_NUMBER":"Num\xe9ro de t\xe9l\xe9phone","CATEGORY":{"APPEARANCE":"Apparence","PHONE":"T\xe9l\xe9phone","PROFILE":"Profil","ACTIONS":"Actions"},"OPTIONS":{"THEME":"Th\xe8me","LANGUAGE":"Langage","FRAME":"Coque","ZOOM":"Zoom","WALLPAPER":"Fond d\'\xe9cran","RESET_SETTINGS":"R\xe9initialiser toutes vos donn\xe9es","STREAMER_MODE":{"TITLE":"Mode NSFW","DESCRIPTION":"Masquer les images par d\xe9faut"},"CUSTOM_WALLPAPER":{"DIALOG_TITLE":"Fond d\'\xe9cran personnalis\xe9","DIALOG_CONTENT":"Choisissez un fond d\'\xe9cran personnalis\xe9 en collant l\'URL de l\'image en dessous!","DIALOG_PLACEHOLDER":"Lien de l\'image","DIALOG_SUCCESS":"Fond d\'\xe9cran mis a jour","DIALOG_ERROR":"Image ou lien invalide"},"RINGTONE":"Sonnerie","RINGTONE_VOLUME":"Volume de la sonnerie","NOTIFICATION":"Notification","NOTIFICATION_VOLUME":"Volume des notifications","NOTIFICATION_FILTER":"Filtres des notifications"},"MESSAGES":{"INVALID_SETTINGS":"Param\xe8tres invalides stock\xe9s! Veuillez r\xe9initialiser les param\xe8tres.","SETTINGS_RESET":"Les param\xe8tres ont \xe9t\xe9 r\xe9initialis\xe9s!"}},"CAMERA":{"SHARE_DESTINATION":"O\xf9 voulez-vous partager l\'image ?","COPY_IMAGE":"Copiez le lien de l\'image ici:","FAILED_TO_DELETE":"La photo n\'a pas pu \xeatre supprim\xe9e :(","FAILED_TO_TAKE_PHOTO":"La photo n\'a pas pu \xeatre sauvegard\xe9e :("},"PHOTO":{"FEEDBACK":{"NO_PHOTOS":"Vous n\'avez pas de photos"}},"CONTACTS":{"FEEDBACK":{"ADD_FAILED":"Erreur de cr\xe9ation du contact!","ADD_SUCCESS":"Contact cr\xe9\xe9 avec succ\xe8s!","UPDATE_FAILED":"Erreur lors de la mise \xe0 jour du contact!","UPDATE_SUCCESS":"Contact mis \xe0 jour avec succ\xe8s!","DELETE_FAILED":"Erreur lors de la suppression du contact!","DELETE_SUCCESS":"Contact supprim\xe9 avec succ\xe8s!"},"PLACEHOLDER_SEARCH_CONTACTS":"Rechercher un contact...","FORM_NAME":"Nom","FORM_NUMBER":"Num\xe9ro","FORM_AVATAR":"URL Photo de profil","MODAL_BUTTON_ADD":"Ajouter contact"},"DIALER":{"MESSAGES":{"CURRENT_CALL_TITLE":"Appel en cours","INCOMING_CALL_TITLE":"Appel entrant","CURRENT_CALL_WITH":"En appel avec {{ transmitter }}","TRANSMITTER_IS_CALLING":"{{ transmitter }} vous appelle!"},"INPUT_PLACEHOLDER":"Entrer un num\xe9ro","NAVBAR_HISTORY":"Historique","NAVBAR_DIAL":"Clavier","NAVBAR_CONTACTS":"Contacts","NO_HISTORY":"Aucun historique d\'appel"},"NOTES":{"FEEDBACK":{"NO_NOTES":"Vous n\'avez pas de notes","ADD_FAILED":"La note n\'a pas pu \xeatre sauvegard\xe9e.","ADD_SUCCESS":"Note sauvegard\xe9e avec succ\xe8s.","DELETE_SUCCESS":"Note supprim\xe9e avec succ\xe8s.","DELETE_FAILED":"Impossible de supprimer la note.","UPDATE_FAILED":"Impossible de mettre \xe0 jour la note.","UPDATE_SUCCESS":"Note mise \xe0 jour avec succ\xe8s."}},"BANK":{"HOME_TITLE":"Compte en banque","CHECKING":"Total :"},"MARKETPLACE":{"FEEDBACK":{"REQUIRED_FIELDS":"Tous les champs requis doivent \xeatre renseign\xe9s!","CREATE_LISTING_FAILED":"\xc9chec lors de la cr\xe9ation d\'une nouvelle liste","CREATE_LISTING_SUCCESS":"Nouvelle liste cr\xe9\xe9e avec succ\xe8s!","DELETE_LISTING_FAILED":"Erreur lors de la suppression d\'une liste","DELETE_LISTING_SUCCESS":"Liste supprim\xe9e avec succ\xe8s","REPORT_LISTING_FAILED":"Cette liste a d\xe9j\xe0 \xe9t\xe9 signal\xe9e","DUPLICATE_LISTING":"Vous ne pouvez pas cr\xe9er une liste avec le m\xeame titre!","REPORT_LISTING_SUCCESS":"Liste signal\xe9e avec succ\xe8s"},"NEW_LISTING":"Nouvelle annonce","CHOOSE_IMAGE":"Choisir une image","FORM_TITLE":"Titre","POST_LISTING":"Publier","FORM_IMAGE":"Image ou URL","FORM_DESCRIPTION":"Description","NO_IMAGE":"Aucune image fournie"},"MESSAGES":{"MESSAGES":{"MESSAGE_CONVERSATION_CREATE_ALL_NUMBERS_FAILED":"Aucun des num\xe9ros n\'ont \xe9t\xe9 trouv\xe9s!","UNREAD_MESSAGES":"Vous avez {{ count }} message(s) non lu(s)","MESSAGE_GROUP_CREATE_SOME_NUMBERS_FAILED":"({{ numbers }}) ne sont pas attribu\xe9s."},"FEEDBACK":{"CONVERSATION_CREATE_ONE_NUMBER_FAILED":"{{ number }} n\'est pas un num\xe9ro attribu\xe9s","NEW_MESSAGE_FAILED":"Erreur d\'envoi","INVALID_PHONE_NUMBER":"Num\xe9ro de t\xe9l\xe9phone invalide","MESSAGE_CONVERSATION_DUPLICATE":"Cette conversation existe d\xe9j\xe0!","MESSAGE_GROUP_CREATE_FAILED":"Erreur lors de la cr\xe9ation du groupe","MESSAGE_GROUP_CREATE_MINE":"Vous ne pouvez pas vous ajouter vous-m\xeame !","FETCHED_MESSAGES_FAILED":"Impossible de retrouver les messages","DELETE_MESSAGE":"Supprimer","DELETE_MESSAGE_FAILED":"Impossible de supprimer le message","DELETE_CONVERSATION_FAILED":"Impossible de supprimer la conversation"},"SEARCH_PLACEHOLDER":"Rechercher...","DELETE_CONVERSATION":"Supprimer la conversation","NEW_MESSAGE":"Message...","NEW_MESSAGE_GROUP":"Num\xe9ros de t\xe9l\xe9phone...","GROUP_CHAT_LABEL":"Nom du groupe...","MEDIA_OPTION":"Envoyer une image","POSITION_OPTION":"Envoyer votre position","DESTINATION_OPTION":"Envoyer votre destination","NEW_MESSAGE_GROUP_SUBMIT":"Envoyer","INPUT_NAME_OR_NUMBER":"Rechercher des contacts ou tapez un num\xe9ro et appuyez sur Entr\xe9e","ACTIONS_TITLE":"Actions","ME":"Moi"},"SOCIETY_CONTACTS":{"FEEDBACK":{"SEND_FAILED":"Erreur d\'envoi du message !","SEND_SUCCESS":"Message envoy\xe9 avec succ\xe8s !"},"PLACEHOLDER_SEARCH_CONTACTS":"Rechercher...","FORM_MESSAGE":"Message","SEND":"Envoyer le message","SEND_POSITION":"Envoyer + Position","SET_ANONYMOUS":"\xcatre anonyme"},"SOCIETY_MESSAGES":{"NOTIFICATION":{"TITLE":"Appel de soci\xe9t\xe9"}},"RELATIVE_TIME":{"future":"dans %s","past":"%s plus t\xf4t","s":"quelques secondes","m":"une minute","mm":"%d minutes","h":"une heure","hh":"%d heures","d":"un jour","dd":"%d jours","M":"un mois","MM":"%d mois","y":"un an","yy":"%d ann\xe9es"},"GENERIC":{"LOADING":"Chargement...","WAIT":"Veuillez patienter...","SAVE":"Enregistrer","EDIT":"\xc9diter","UPDATE":"Mettre \xe0 jour","REQUIRED":"Requis","DELETE":"Supprimer","REPORT":"Signaler","CALL":"Appeler","MESSAGE":"Message","CLOSE":"Fermer","CANCEL":"Annuler","TITLE":"Titre","CONTENT":"Contenu","WRITE_TO_CLIPBOARD_TOOLTIP":"Copier {{ content }}","WRITE_TO_CLIPBOARD_MESSAGE":"{{content}} copi\xe9 dans le presse-papier!"},"COMING_SOON":"Coming soon...","INITIALIZING":"Initialisation","APPS_DIALER":"T\xe9l\xe9phone","APPS_CONTACTS":"Contacts","APPS_MESSAGES":"Messages","APPS_SETTINGS":"Param\xe8tres","APPS_BANK":"Maze Banque","APPS_NOTES":"Notes","APPS_EXAMPLE":"Example app","APPS_MARKETPLACE":"Marketplace","APPS_CAMERA":"Cam\xe9ra","APPS_PHOTO":"Galerie","APPS_SOCIETY_CONTACTS":"Annuaire Entreprise","APPS_SOCIETY_MESSAGES":"R\xe9pondeur Entreprise","GENERIC_CLICK_TO_REVEAL":"Cliquer pour r\xe9v\xe9ler","GENERIC_LOADING":"Chargement...","GENERIC_WAIT":"Veuillez patienter...","GENERIC_SAVE":"Enregistrer","GENERIC_EDIT":"\xc9diter","GENERIC_UPDATE":"Mettre \xe0 jour","GENERIC_REQUIRED":"Requis","GENERIC_DELETE":"Supprimer","GENERIC_REPORT":"Signaler","GENERIC_CALL":"Appeler","GENERIC_MESSAGE":"Message","GENERIC_CLOSE":"Fermer","GENERIC_CANCEL":"Annuler","GENERIC_TITLE":"Titre","GENERIC_CONTENT":"Contenu","GENERIC_WRITE_TO_CLIPBOARD_TOOLTIP":"Copier {{ content }}","GENERIC_WRITE_TO_CLIPBOARD_MESSAGE":"{{content}} copi\xe9 dans le presse-papier!"}}')};OM.use(ll).init({lng:"fr",saveMissing:!0,missingKeyHandler:function(e,t,n,r){},fallbackLng:"fr",interpolation:{escapeValue:!1},resources:RM});tf().extend(mm()),tf().extend(VT());var NM=null!=="/"?"/":process.cwd();yn.SentryErrorMetrics&&{NODE_ENV:"production",PUBLIC_URL:"/html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION&&function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=It),void 0===e.release){var t=(0,we.Rf)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),function(e,t){!0===t.debug&&ye.k.enable();var n=(0,ge.Gd)(),r=new e(t);n.bindClient(r)}(At,e),e.autoSessionTracking&&function(){var e=(0,we.Rf)(),t=(0,ge.Gd)(),n="complete"===document.readyState,r=!1,i=function(){r&&n&&t.endSession()},o=function t(){n=!0,i(),e.removeEventListener("load",t)};t.startSession(),n||e.addEventListener("load",o);try{var a=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),r=!0,i())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),a.observe({type:"paint",buffered:!0})}catch(u){r=!0,i()}}()}({dsn:"https://2fd07f10ac9b4868902998b8a147e47b@o1133416.ingest.sentry.io/6179935",autoSessionTracking:!0,release:{NODE_ENV:"production",PUBLIC_URL:"/html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION,integrations:[new gn.BrowserTracing,new YT({root:NM,iteratee:function(e){return e.filename&&""!==e.filename?(e.filename=e.filename.replace("https://cfx-nui-npwd",""),e):e}})],tracesSampleRate:.5}),r.render((0,bl.jsx)(t.StrictMode,{children:(0,bl.jsx)(ue,{children:(0,bl.jsx)(fT.NuiProvider,{resource:"npwd",children:(0,bl.jsx)(t.Suspense,{fallback:null,children:(0,bl.jsx)($T,{children:(0,bl.jsx)(XT,{children:(0,bl.jsx)(UT,{})})})})})})}),document.getElementById("root"))}()}();